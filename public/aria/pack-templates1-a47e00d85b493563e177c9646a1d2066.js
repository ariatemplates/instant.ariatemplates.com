/*
 * Aria Templates 1.4.4 - 22 May 2013
 *
 * Copyright 2009-2013 Amadeus s.a.s.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
//***MULTI-PART
//*******************
//LOGICAL-PATH:aria/core/environment/CustomizationsCfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.core.environment.CustomizationsCfgBeans",$namespaces:{json:"aria.core.JsonTypes"},$beans:{AppCfg:{$type:"json:Object",$restricted:!1,$properties:{customization:{$type:"CustomizationCfg",$default:{}}}},CustomizationCfg:{$type:"json:Object",$properties:{descriptor:{$type:"json:MultiTypes",$default:"",$contentTypes:[{$type:"json:ObjectRef"},{$type:"json:String"}]}}},DescriptorCfg:{$type:"json:Object",$properties:{templates:{$type:"json:Map",$default:{},$keyType:{$type:"json:PackageName"},$contentType:{$type:"json:PackageName"}},modules:{$type:"json:Map",$default:{},$keyType:{$type:"json:PackageName"},$contentType:{$type:"json:Array",$contentType:{$type:"CustomModuleCfg"}}},flows:{$type:"json:Map",$default:{},$keyType:{$type:"json:PackageName"},$contentType:{$type:"json:PackageName"}}}},CustomModuleCfg:{$type:"json:MultiTypes",$contentTypes:[{$type:"json:String"},{$type:"json:Object",$properties:{classpath:{$type:"json:PackageName"},refpath:{$type:"json:String",$regExp:/^custom:/},initArgs:{$type:"json:ObjectRef"}}}]}}});
//*******************
//LOGICAL-PATH:aria/core/environment/Customizations.js
//*******************
Aria.classDefinition({$classpath:"aria.core.environment.Customizations",$extends:"aria.core.environment.EnvironmentBase",$dependencies:["aria.core.environment.CustomizationsCfgBeans"],$singleton:!0,$statics:{DESCRIPTOR_NOT_LOADED:"A customization descriptor was specified but could not be loaded (url: '%1')",INVALID_DESCRIPTOR:"The Customization descriptor at '%1' is invalid"},$events:{descriptorLoaded:""},$constructor:function(){this._isCustomized=!1,this._descriptorLoaded=!1,this._customizationDescriptor=null,this._customizations={templates:{},modules:{}},this.$EnvironmentBase.constructor.call(this)},$prototype:{_cfgPackage:"aria.core.environment.CustomizationsCfgBeans.AppCfg",_applyEnvironment:function(e){var t=this.checkApplicationSettings("customization");t&&(t.descriptor!==this._customizationDescriptor||aria.utils.Type.isObject(t.descriptor))&&(this._customizationDescriptor=t.descriptor,this.reloadCustomizationDescriptor()),this.$callback(e)},_onDescriptorReceive:function(e){var t="200"!=e.status;if(t)this.$logError(this.DESCRIPTOR_NOT_LOADED,this._customizationDescriptor);else{var i=aria.utils.Json.load(e.responseText);if(null==i)return this.$logError(this.INVALID_DESCRIPTOR,this._customizationDescriptor),this.$raiseEvent("descriptorLoaded"),void 0;this._setCustomizationDescriptor(i)}this._descriptorLoaded=!0,this.$raiseEvent("descriptorLoaded")},_setCustomizationDescriptor:function(e){var t=aria.core.JsonValidator.normalize({json:e,beanName:"aria.core.environment.CustomizationsCfgBeans.DescriptorCfg"});t?this._customizations=e:this.$logError(this.INVALID_DESCRIPTOR,this._customizationDescriptor)},reloadCustomizationDescriptor:function(){this._isCustomized=this._customizationDescriptor?!0:!1,this._isCustomized&&(this._descriptorLoaded=!1,aria.utils.Type.isString(this._customizationDescriptor)?aria.core.IO.asyncRequest({url:this._customizationDescriptor,callback:{fn:this._onDescriptorReceive,onerror:this._onDescriptorReceive,scope:this}}):(this._setCustomizationDescriptor(this._customizationDescriptor),this._descriptorLoaded=!0,this.$raiseEvent("descriptorLoaded")))},isCustomized:function(){return this._isCustomized},descriptorLoaded:function(){return this._descriptorLoaded},getFlowCP:function(e){var t=e;return this._isCustomized&&null!=this._customizations.flows[e]&&(t=this._customizations.flows[e]),t},getCustomModules:function(e){if(this._isCustomized){var t=this._customizations.modules[e];if(t)return t}return[]},getCustomizations:function(){return aria.utils.Json.copy(this._customizations)},getTemplateCP:function(e){var t=e;return this._isCustomized&&null!=this._customizations.templates[e]&&(t=this._customizations.templates[e]),t},setCustomizations:function(e){var t=this.checkApplicationSettings("customization");t.descriptor=e,this._customizationDescriptor=e,this.reloadCustomizationDescriptor()}}});
//*******************
//LOGICAL-PATH:aria/templates/BaseCtxt.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.BaseCtxt",$singleton:!1,$constructor:function(){this._cfg=null,this._out=null,this._tpl=null,this._macrolibs=[],this._csslibs=[]},$destructor:function(){(this._macrolibs||this._csslibs)&&(this.__disposeLibs(this._macrolibs),this.__disposeLibs(this._csslibs),this._macrolibs=null,this._csslibs=null)},$statics:{TEMPLATE_CONSTR_ERROR:"Error while creating a new instance of template '%1' - please check script constructor.",TEMPLATE_DESTR_ERROR:"Error while destroying an instance of template '%1' - please check script destructor.",MACRO_NOT_FOUND:"Missing macro '%1' in template '%2'.",MACRO_CALL_ERROR:"Error while calling macro '%1' in template '%2'.",LIBRARY_HANDLE_CONFLICT:"Template error: can't load shared macro library '%1'. A macro, text template, variable or another library has already been declared with the same name.",LIBRARY_ALREADY_LOADED:"Template error: library at classpath '%1' has already been loaded."},$prototype:{checkMacro:function(e){return null==e?this._cfg.macro:("string"==typeof e?e={name:e,args:[],scope:this._tpl}:(null==e.args&&(e.args=[]),null==e.scope&&(e.scope=this._tpl)),e)},_callMacro:function(e,t){this.$assert(62,null!=this._out),t=this.checkMacro(t);var i=t.scope,r=i["macro_"+t.name];null==r&&this.$logError(this.MACRO_NOT_FOUND,[t.name,i.$classpath]);try{r.apply(i,t.args)}catch(n){this.$logError(this.MACRO_CALL_ERROR,[t.name,i.$classpath],n)}},__loadLibs:function(e,t){if(this.$assert(134,"macrolibs"==t||"csslibs"==t),"macrolibs"==t)var i=this._macrolibs,r="__$macrolibs",n=aria.templates.TemplateCtxt,s=aria.templates.ITemplate;else if("csslibs"==t)var i=this._csslibs,r="__$csslibs",n=aria.templates.CSSCtxt,s=aria.templates.ICSS;var a={},o=0;for(var l in e)if(e.hasOwnProperty(l)){if(void 0!==this._tpl[l]){delete e[l],this.$logError(this.LIBRARY_HANDLE_CONFLICT,[l]);continue}if(a[e[l]]){this.$logError(this.LIBRARY_ALREADY_LOADED,[l]);continue}a[e[l]]=!0,o++}if(0!==o)for(var l in e)if(e.hasOwnProperty(l)){this._tpl[l]=Aria.getClassInstance(e[l]),this._tpl[l].__$write=this._tpl.__$write;var c=new n;c._tpl=this._tpl[l],i.push(c),s.call(this._tpl[l],c),c._tpl.__$initTemplate(),c.__loadLibs(c._tpl[r],t)}},__disposeLibs:function(e){for(var t=0;e.length>t;t++){var i=e[t];aria.templates.ITemplate&&aria.templates.ITemplate.prototype.$destructor.call(i._tpl),i.$dispose()}}}});
//*******************
//LOGICAL-PATH:aria/templates/Modifiers.js
//*******************
(function(){var e,t={eat:{fn:function(){return""}},escape:{init:function(e){e.addDependencies(["aria.utils.String"])},fn:function(e){return aria.utils.String.escapeHTML(e+"")}},escapeforhtml:{init:function(e){e.addDependencies(["aria.utils.String"])},fn:function(e,t){return null==e?e:aria.utils.String.escapeForHTML(e+"",t)}},capitalize:{fn:function(e){return(e+"").toUpperCase()}},"default":{fn:function(e,t,i){return null!=e?e:i?aria.templates.Modifiers.callModifier(i,[t]):t}},empty:{fn:function(e,t,i){return e&&!/^\s*$/.test(e)?e:i?aria.templates.Modifiers.callModifier(i,[t]):t}},pad:{fn:function(e,t,i){e=""+e;var r=e.length;if(t>r){var n=i===!0,a=[],s=t-r,o="&nbsp;";n||a.push(e);for(var l=0;s>l;l++)a.push(o);return n&&a.push(e),a.join("")}return e}},dateformat:{init:function(e){e.addDependencies(["aria.utils.Date","aria.utils.Type"])},fn:function(e,t){return aria.utils.Type.isDate(e)?aria.utils.Date.format(e,t):(this.$logError(aria.templates.Modifiers.DATEFORMAT_MODIFIER_ENTRY,[e]),void 0)}},timeformat:{init:function(e){e.addDependencies(["aria.utils.Date","aria.utils.Type"])},fn:function(e,t){return aria.utils.Type.isDate(e)?aria.utils.Date.format(e,t):(this.$logError(aria.templates.Modifiers.DATEFORMAT_MODIFIER_ENTRY,[e]),void 0)}},highlightfromnewword:{init:function(e){e.addDependencies(["aria.utils.String","aria.utils.Type"])},fn:function(t,i){var r=aria.utils,n=i.length;if(r.Type.isString(t)&&n){i=i.toLowerCase();var a,s=t.toLowerCase();if(0===s.indexOf(i))a=0;else{var o=i.replace(e,"\\$1"),l=RegExp("\\s"+o,"i").exec(s);if(!l)return t;a=l.index+1}var c=a,u=a+n,h=t.substring(c,u),d=r.String.stripAccents(h).toLowerCase();if(d===i)return t.substring(0,c)+"<strong>"+h+"</strong>"+t.substring(u)}return t}},starthighlight:{init:function(e){e.addDependencies(["aria.utils.String","aria.utils.Type"])},fn:function(e,t){if(aria.utils.Type.isString(e)&&t.length){var i=aria.utils.String.stripAccents(e.substring(0,t.length)).toLowerCase();if(t=t.toLowerCase(),i===t)return"<strong>"+e.substring(0,t.length)+"</strong>"+e.substring(t.length)}return e}},highlight:{init:function(e){e.addDependencies(["aria.utils.String","aria.utils.Type"])},fn:function(t,i){if(aria.utils.Type.isString(t)&&aria.utils.Type.isString(i)){var r=t.split(" "),n=i.split(" ").sort(function(e,t){var i=e.length,r=t.length;return i===r?0:r>i?1:-1});return aria.utils.Array.forEach(r,function(t,i,r){for(var a=0,s=n.length;t&&s>=a;a+=1)if(null!=n[a]&&""!==n[a]){var o=n[a].replace(e,"\\$1"),l=RegExp("\\b"+o,"gim");o.match(/\(/)&&(l=RegExp("[\\b\\(]"+o.replace("\\(",""),"gim"));var c=l.exec(t);if(null!=c&&c.length>0){var u="<strong>"+c[0]+"</strong>";if(r[i]=t.replace(l,u),t.match(l))break}}}),r.join(" ")}return t}}};Aria.classDefinition({$classpath:"aria.templates.Modifiers",$singleton:!0,$constructor:function(){e=RegExp("(\\"+"/.*+?|()[]{}\\".split("").join("|\\")+")","g")},$statics:{UNKNOWN_MODIFIER:"Unknown modifier %1.",DATEFORMAT_MODIFIER_ENTRY:"Entry %1 is not a date."},$prototype:{callModifier:function(e,i){e=""+e;var r=t[e.toLowerCase()];return r?r.fn.apply(this,i):(this.$logError(aria.templates.Modifiers.UNKNOWN_MODIFIER,[e]),void 0)},initModifier:function(e,i){var r=t[e];r&&r.init&&r.init(i)}}})})();
//*******************
//LOGICAL-PATH:aria/templates/IBaseTemplate.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.templates.IBaseTemplate",$events:{},$interface:{__$write:function(){}}});
//*******************
//LOGICAL-PATH:aria/templates/BaseTemplate.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.BaseTemplate",$dependencies:["aria.templates.Modifiers","aria.templates.IBaseTemplate","aria.utils.Json"],$destructor:function(){},$statics:{EXCEPTION_IN_MACRO:"Uncaught exception in macro '%1', line %2",EXCEPTION_IN_VARINIT:"Uncaught exception when initializing global variables in template '%0'.",ITERABLE_UNDEFINED:"line %2: Template error: cannot iterate over a null or undefined variable.",EXCEPTION_IN_EXPRESSION:"line %2: Uncaught runtime exception in expression '%1'",EXCEPTION_IN_VAR_EXPRESSION:"line %2: Uncaught runtime exception in var expression '%1'",EXCEPTION_IN_SET_EXPRESSION:"line %2: Uncaught runtime exception in set expression '%1'",EXCEPTION_IN_CHECKDEFAULT_EXPRESSION:"line %2: Uncaught runtime exception in checkdefault expression '%1'",MACRO_NOT_FOUND:"line %1: Template error: macro '%2' is not defined."},$prototype:{$json:aria.utils.Json,$init:function(e){var t=aria.templates.IBaseTemplate.prototype;for(var i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i]);e.$modifier=aria.templates.Modifiers.callModifier}}});
//*******************
//LOGICAL-PATH:aria/templates/ClassWriter.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.ClassWriter",$dependencies:["aria.utils.String"],$constructor:function(e,t){this._processStatement=e,this._processErrors=t,this._curindent="",this.indentUnit=" ",this._varNameNumber=0,this.errorContext=null,this.allDependencies=null,this.templateParam=null,this.parentClassType="JS",this.parentClassName=null,this.parentClasspath=null,this.scriptClassName=null,this.scriptClasspath=null,this.callback=null,this.wlibs={},this.macros={},this.views={},this._curblock=null,this._blocks={},this._stack=[],this._dependencies=[],this.errors=!1,this.debug=!1,this.tree=null},$prototype:{addDependencies:function(e){for(var t=e.length-1;t>=0;t--)this.addDependency(e[t])},addDependency:function(e){this._dependencies[e]=1},getDependencies:function(){var e=[];for(var t in this._dependencies)this._dependencies.hasOwnProperty(t)&&e.push(this.stringify(t));return e.length>0?["$dependencies: [",e.join(","),"],"].join(""):""},getMacro:function(e){var t=this.macros[e];return null==t&&(t={},this.macros[e]=t),t},getView:function(e){var t=this.views[e];return null==t&&(t={},this.views[e]=t),t},isOutputReady:function(){return null!=this._curblock},newBlock:function(e,t){var i={curindentnbr:t,out:[]};this._blocks[e]=i},enterBlock:function(e){this._stack.push(this._curblock),this._curblock=this._blocks[e],this.indentUnit&&this._curblock&&this._updateIndent()},leaveBlock:function(){this._curblock=this._stack.pop(),this.indentUnit&&this._curblock&&this._updateIndent()},getBlockContent:function(e){return this._blocks[e].out.join("")},stringify:function(e){return this.stringify=aria.utils.String.stringify,this.stringify(e)},newVarName:function(){return this._varNameNumber++,"__v_"+this._varNameNumber},processContent:function(e){for(var t=0;e.length>t;t++)this.processStatement(e[t])},processStatement:function(e){this._processStatement.fn.call(this._processStatement.scope,this,e)},_updateIndent:function(){this._curindent=Array(1+this._curblock.curindentnbr).join(this.indentUnit)},logError:function(e,t,i){this.errors=!0,this._processErrors.fn.call(this._processErrors.scope,e,t,i,this.errorContext)},logWarn:function(e,t,i){this._processErrors.fn.call(this._processErrors.scope,e,t,i,this.errorContext)},increaseIndent:function(){this.indentUnit&&(this._curblock.curindentnbr++,this._curindent+=this.indentUnit)},decreaseIndent:function(){this.indentUnit&&(this._curblock.curindentnbr--,this._updateIndent())},writeln:function(){var e=this._curblock.out;this._curindent&&e.push(this._curindent),e.push.apply(e,arguments),e.push("\n")},write:function(){var e=this._curblock.out;e.push.apply(e,arguments)},wrapExpression:function(e,t,i){var r=this.newVarName();return e=this.stringify(e),this.writeln("var "+r+" = null;"),this.writeln("try {"),this.increaseIndent(),e=e.substr(1,e.length-2),this.writeln('eval( "'+r+"=("+e+')" );'),this.decreaseIndent(),this.writeln("} catch (e) {"),this.increaseIndent(),this.writeln("this.$logError(",i,',["',e,'",',t.lineNumber,",",this.stringify(t.name),"], e);"),this.decreaseIndent(),this.writeln("}"),r},trackLine:function(e){this._curblock&&this.writeln("this['"+Aria.FRAMEWORK_PREFIX+"currentLineNumber'] = "+e+";")}}});
//*******************
//LOGICAL-PATH:aria/templates/TreeBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.templates.TreeBeans",$namespaces:{json:"aria.core.JsonTypes"},$beans:{Root:{$type:"Statement",$mandatory:!0,$properties:{name:{$type:"Statement.name",$regExp:/^#ROOT#$/},content:{$type:"Statement.content",$mandatory:!0},parent:{$type:"Statement.parent",$mandatory:!1}}},Statement:{$type:"json:Object",$properties:{name:{$type:"json:String",$mandatory:!0},lineNumber:{$type:"json:Integer",$mandatory:!0},parent:{$type:"json:ObjectRef",$mandatory:!0},content:{$type:"json:Array",$mandatory:!1,$contentType:{$type:"Statement",$mandatory:!0}},firstCharContentIndex:{$type:"json:Integer",$minValue:0,$mandatory:!1},lastCharContentIndex:{$type:"json:Integer",$minValue:0,$mandatory:!1},paramBlock:{$type:"json:String",$mandatory:!0},firstCharParamIndex:{$type:"json:Integer",$minValue:0,$mandatory:!1},lastCharParamIndex:{$type:"json:Integer",$minValue:0,$mandatory:!1}}}}});
//*******************
//LOGICAL-PATH:aria/widgetLibs/CommonBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.widgetLibs.CommonBeans",$namespaces:{json:"aria.core.JsonTypes"},$beans:{Callback:{$type:"json:MultiTypes",$contentTypes:[{$type:"json:Object",$properties:{fn:{$type:"FunctionName"},scope:{$type:"json:ObjectRef"},args:{$type:"json:MultiTypes"}}},{$type:"FunctionName"}]},FunctionName:{$type:"json:MultiTypes",$contentTypes:[{$type:"json:String"},{$type:"json:FunctionRef"}]},BindingRef:{$type:"json:Object",$properties:{to:{$type:"json:JsonProperty"},inside:{$type:"json:ObjectRef"},transform:{$type:"TransformRef"}}},TransformRef:{$type:"json:MultiTypes",$contentTypes:[{$type:"json:Object",$properties:{toWidget:{$type:"FunctionName"},fromWidget:{$type:"FunctionName"}}},{$type:"FunctionName"}]}}});
//*******************
//LOGICAL-PATH:aria/templates/CfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.templates.CfgBeans",$namespaces:{json:"aria.core.JsonTypes",coreBeans:"aria.core.CfgBeans",common:"aria.widgetLibs.CommonBeans"},$beans:{BaseTemplateCfg:{$type:"json:Object",$properties:{$classpath:{$type:"json:PackageName",$mandatory:!0},$dependencies:{$type:"json:Array",$default:[],$contentType:{$type:"json:PackageName"}},$hasScript:{$type:"json:Boolean",$default:!1},$extends:{$type:"json:PackageName"},$texts:{$type:"json:Map",$contentType:{$type:"json:PackageName",$mandatory:!0}}}},TemplateCfg:{$type:"BaseTemplateCfg",$mandatory:!0,$properties:{$width:{$type:"ContainerSizeCfg",$default:null},$height:{$type:"ContainerSizeCfg",$default:null},$wlibs:{$type:"json:Map",$contentType:{$type:"json:PackageName",$sample:"aria.widgets.AriaLib",$mandatory:!0},$default:{}},$res:{$type:"json:Map",$contentType:{$type:"json:MultiTypes",$sample:"aria.widgets.WidgetsRes"}},$templates:{$type:"json:Array",$contentType:{$type:"json:PackageName"}},$css:{$type:"json:Array",$contentType:{$type:"json:PackageName"}},$macrolibs:{$type:"json:Map",$contentType:{$type:"json:PackageName",$mandatory:!0}}}},LibraryCfg:{$type:"BaseTemplateCfg",$mandatory:!0,$properties:{$wlibs:{$type:"json:Map",$contentType:{$type:"json:PackageName",$sample:"aria.widgets.AriaLib",$mandatory:!0},$default:{}},$templates:{$type:"json:Array",$default:[],$contentType:{$type:"json:PackageName"}},$macrolibs:{$type:"json:Map",$contentType:{$type:"json:PackageName",$mandatory:!0}},$res:{$type:"json:Map",$contentType:{$type:"json:PackageName",$sample:"aria.widgets.WidgetsRes"}}}},CSSTemplateCfg:{$type:"BaseTemplateCfg",$properties:{$csslibs:{$type:"json:Map",$contentType:{$type:"json:PackageName",$mandatory:!0}},$prefix:{$type:"json:Boolean"}}},CSSLibraryCfg:{$type:"BaseTemplateCfg",$mandatory:!0,$properties:{$csslibs:{$type:"json:Map",$contentType:{$type:"json:PackageName",$mandatory:!0}},$res:{$type:"json:Map",$contentType:{$type:"json:PackageName",$sample:"aria.widgets.WidgetsRes"}}}},TextTemplateCfg:{$type:"BaseTemplateCfg",$mandatory:!0,$properties:{$res:{$type:"json:Map",$contentType:{$type:"json:PackageName",$sample:"aria.widgets.WidgetsRes"}}}},ContainerSizeCfg:{$type:"json:Object",$properties:{min:{$type:"json:Integer"},max:{$type:"json:Integer"},value:{$type:"json:Integer"},scrollbar:{$type:"json:Boolean"}},$default:{}},RootDimCfg:{$type:"json:Object",$mandatory:!0,$properties:{width:{$type:"ContainerSizeCfg"},height:{$type:"ContainerSizeCfg"}}},ModuleCtrl:{$type:"json:MultiTypes",$contentTypes:[{$type:"json:ObjectRef",$mandatory:!0},{$type:"InitModuleCtrl"}]},InitModuleCtrl:{$type:"json:Object",$mandatory:!0,$properties:{classpath:{$type:"json:PackageName",$mandatory:!0},autoDispose:{$type:"json:Boolean",$default:!0},constructorArgs:{$type:"json:ObjectRef",$mandatory:!1},initArgs:{$type:"json:ObjectRef",$mandatory:!1}}},Div:{$type:"json:MultiTypes",$mandatory:!0,$contentTypes:[{$type:"json:ObjectRef"},{$type:"json:String"}]},TemplateSizeCfg:{$type:"json:MultiTypes",$contentTypes:[{$type:"json:Integer"},{$type:"RelativeTemplateSizeCfg"}]},RelativeTemplateSizeCfg:{$type:"json:Object",$properties:{min:{$type:"json:Integer",$mandatory:!0},incrementFactor:{$type:"json:Float",$default:1},max:{$type:"json:Integer",$default:null}}},PrintOptions:{$type:"json:Enum",$enumValues:["hidden","visible","adaptX","adaptY","adaptXY"],$default:"visible"},BaseLoadTemplateCfg:{$type:"json:Object",$properties:{classpath:{$type:"json:PackageName",$mandatory:!0},id:{$type:"json:String",$mandatory:!1},origClasspath:{$type:"json:PackageName",$mandatory:!1},printOptions:{$type:"PrintOptions",$default:"adaptXY"},width:{$type:"TemplateSizeCfg",$mandatory:!1},height:{$type:"TemplateSizeCfg",$mandatory:!1},data:{$type:"json:ObjectRef",$mandatory:!1},moduleCtrl:{$type:"ModuleCtrl",$mandatory:!1},args:{$type:"json:Array",$default:[],$contentType:{$type:"json:MultiTypes"}},rootDim:{$type:"RootDimCfg",$mandatory:!1},provideContext:{$type:"json:Boolean",$mandatory:!1,$default:!1},reload:{$type:"json:Boolean",$default:!1},reloadByPassCache:{$type:"json:Boolean",$default:!1}}},LoadTemplateCfg:{$type:"BaseLoadTemplateCfg",$properties:{div:{$type:"Div",$mandatory:!0}}},InitTemplateCfg:{$type:"BaseLoadTemplateCfg",$properties:{originalId:{$type:"json:String",$mandatory:!1},div:{$type:"Div",$mandatory:!1},tplDiv:{$type:"Div",$mandatory:!1},macro:{$type:"MacroCfg"},toDispose:{$type:"json:Array",$contentType:{$type:"json:ObjectRef",$mandatory:!0}},baseTabIndex:{$type:"json:Integer",$default:0},isRootTemplate:{$type:"json:Boolean",$default:!1},context:{$type:"json:ObjectRef",$mandatory:!1}}},InitCSSTemplateCfg:{$type:"json:Object",$mandatory:!0,$properties:{classpath:{$type:"json:PackageName",$mandatory:!0},isWidget:{$type:"json:Boolean",$mandatory:!1,$default:!1},widgetName:{$type:"json:String",$mandatory:!1,$default:""},isTemplate:{$type:"json:Boolean",$mandatory:!1,$default:!1}}},InitTxtTemplateCfg:{$type:"json:Object",$mandatory:!0,$properties:{classpath:{$type:"json:PackageName",$mandatory:!0},data:{$type:"json:ObjectRef",$mandatory:!1}}},MacroCfg:{$type:"json:MultiTypes",$contentTypes:[{$type:"json:String"},{$type:"json:Object",$properties:{name:{$type:"json:String"},args:{$type:"json:Array",$contentType:{$type:"json:MultiTypes"},$default:[]},scope:{$type:"json:ObjectRef"}}}]},HtmlAttribute:{$type:"json:Object",$properties:{name:{$type:"json:String"},title:{$type:"json:String"},classList:{$type:"json:Array",$contentType:{$type:"json:String"}},dataset:{$type:"json:ObjectRef"},style:{$type:"json:String"},dir:{$type:"json:String"},lang:{$type:"json:String"},abbr:{$type:"json:String"},height:{$type:"json:String"},width:{$type:"json:String"},size:{$type:"json:String"},cols:{$type:"json:String"},rows:{$type:"json:String"},rowspan:{$type:"json:String"},colspan:{$type:"json:String"},nowrap:{$type:"json:String"},valign:{$type:"json:String"},align:{$type:"json:String"},border:{$type:"json:String"},cellpadding:{$type:"json:String"},cellspacing:{$type:"json:String"},disabled:{$type:"json:String"},readonly:{$type:"json:String"},checked:{$type:"json:String"},selected:{$type:"json:String"},multiple:{$type:"json:String"},value:{$type:"json:String"},alt:{$type:"json:String"},maxlength:{$type:"json:String"},type:{$type:"json:String"},accesskey:{$type:"json:String"},tabindex:{$type:"json:Integer"},placeholder:{$type:"json:String"},autocomplete:{$type:"json:String"},autofocus:{$type:"json:String"},autocorrect:{$type:"json:String"},autocapitalize:{$type:"json:String"},spellcheck:{$type:"json:String"}}},SectionCfg:{$type:"json:Object",$properties:{id:{$type:"json:String"},type:{$type:"json:String",$default:"span"},bindRefreshTo:{$type:"json:Array",$default:[],$contentType:{$type:"BindingConfiguration",$sample:"{inside : ..., to : ...}"}},bindProcessingTo:{$type:"BindingConfiguration",$mandatory:!1},keyMap:{$type:"json:Array",$mandatory:!1,$contentType:{$type:"KeyMapCfg"}},tableNav:{$type:"TableNavConfiguration",$mandatory:!1},processingLabel:{$type:"json:String",$mandatory:!1,$default:""},macro:{$type:"MacroCfg"},cssClass:{$type:"json:String"},attributes:{$type:"HtmlAttribute"},on:{$type:"json:Object",$default:{},$restricted:!1},bind:{$type:"json:Object",$properties:{attributes:{$type:"common:BindingRef"}}}}},RepeaterCfg:{$type:"SectionCfg",$mandatory:!0,$properties:{content:{$type:"json:ObjectRef",$mandatory:!0},loopType:{$type:"json:Enum",$enumValues:["array","pagedView","sortedView","filteredView","view","map"],$mandatory:!1},childSections:{$type:"json:Object",$restricted:!1,$properties:{id:{$type:"json:MultiTypes",$mandatory:!0},macro:{$type:"json:MultiTypes",$mandatory:!0}}},macro:{$type:"SectionCfg.macro"}}},BindingConfiguration:{$type:"json:Object",$properties:{to:{$type:"json:JsonProperty",$default:null},inside:{$type:"json:ObjectRef",$mandatory:!0},recursive:{$type:"json:Boolean",$default:!0}}},TableNavConfiguration:{$type:"json:MultiTypes"},RefreshCfg:{$type:"json:Object",$default:{},$properties:{macro:{$type:"MacroCfg",$mandatory:!1},filterSection:{$type:"json:String",$mandatory:!1},outputSection:{$type:"json:String",$mandatory:!1}}},GetRefreshedSectionCfg:{$type:"RefreshCfg",$properties:{writerCallback:{$type:"coreBeans:Callback"}}},InsertAdjacentSectionsCfg:{$type:"json:Object",$mandatory:!0,$properties:{sections:{$type:"json:Array",$mandatory:!0,$contentType:{$type:"json:MultiTypes",$mandatory:!0,$contentTypes:[{$type:"json:String"},{$type:"SectionCfg"}]}},refSection:{$type:"json:Object",$mandatory:!0,$properties:{object:{$type:"json:ObjectRef",$classpath:"aria.templates.Section",$mandatory:!0},domElt:{$type:"json:ObjectRef",$mandatory:!0}}},position:{$type:"json:Enum",$mandatory:!0,$enumValues:["beforeBegin","afterBegin","beforeEnd","afterEnd"]}}},SubModuleDefinition:{$type:"json:Object",$mandatory:!0,$properties:{refpath:{$type:"json:String",$regExp:/./,$mandatory:!0,$sample:"pkg1.module"},arrayIndex:{$type:"json:Integer",$mandatory:!1},classpath:{$type:"json:PackageName",$mandatory:!0},initArgs:{$type:"json:ObjectRef",$mandatory:!1}}},TplScriptDefinitionCfg:{$type:"json:Object",$properties:{$classpath:{$type:"json:PackageName",$mandatory:!0,$sample:"aria.jsunit.TestSuite"},$dependencies:{$type:"json:Array",$default:[],$contentType:{$type:"json:PackageName"}},$resources:{$type:"json:Map",$contentType:{$type:"json:MultiTypes",$sample:"aria.widgets.WidgetsRes",$contentTypes:[{$type:"json:Object"},{$type:"json:String"}]}},$texts:{$type:"json:Map",$contentType:{$type:"json:PackageName",$mandatory:!0}},$statics:{$type:"json:Map",$contentType:{$type:"json:MultiTypes"}},$prototype:{$type:"json:MultiTypes",$contentTypes:[{$type:"json:Map",$contentType:{$type:"json:MultiTypes"}},{$type:"json:FunctionRef"}]},$constructor:{$type:"json:FunctionRef"},$destructor:{$type:"json:FunctionRef"}}},KeyMapCfg:{$type:"json:Object",$properties:{key:{$type:"json:MultiTypes",$mandatory:!0,$contentTypes:[{$type:"json:Integer"},{$type:"json:String",$sample:"F4"}]},ctrl:{$type:"json:Boolean"},shift:{$type:"json:Boolean"},alt:{$type:"json:Boolean"},callback:{$type:"json:MultiTypes",$mandatory:!0,$contentTypes:[{$type:"json:FunctionRef"},{$type:"coreBeans:Callback"}]},event:{$type:"json:Enum",$enumValues:["keyup","keydown"]}}},GlobalKeyMapCfg:{$type:"KeyMapCfg",$properties:{modal:{$type:"json:Boolean",$default:!1}}}}});
//*******************
//LOGICAL-PATH:aria/templates/Statements.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.Statements",$dependencies:["aria.utils.String","aria.templates.Modifiers","aria.utils.Path","aria.utils.Delegate"],$singleton:!0,$statics:{SHOULD_BE_IN_MACRO:"line %2: Template error: statement '%1' cannot be used out of a macro.",TEMPLATE_STATEMENT_MISUSED:"Template error: the '%1' statement is misused, it should only be used as the root statement in a template.",ELSE_WITHOUT_IF:"line %1: Template error: 'else' or 'elseif' is used outside an 'if' structure.",ELSEIF_AFTER_ELSE:"line %1: Template error: 'elseif' is used after 'else' in the same 'if' structure.",ELSE_ALREADY_USED:"line %1: Template error: an 'else' statement has already been used in this 'if' structure.",INVALID_WIDGET_SYNTAX:"line %1: Template error: invalid syntax for the widget statement; expected syntax: @lib:widget",UNDECLARED_WIDGET_LIBRARY:"line %2: Template error: found widget library '%1', which is undeclared in the wlibs parameter of the 'Template' statement.",INVALID_MODIFIER_SYNTAX:"line %2: Template error: invalid modifier syntax '%1'.",UNKNOWN_WIDGET:"line %2: Template error: unknown widget '%1'.",MACRO_ALREADY_DEFINED:"line %3: Template error: macro '%1' is already defined line %2.",SEPARATOR_NOT_FIRST_IN_FOREACH:"line %1: Template error: the separator statement can only be used as the first statement inside a {foreach ...} ... {/foreach} loop.",INCOMPATIBLE_CREATEVIEW:"line %2: Template error: two createView statements with the same view base name must have the same depth (previous definition line %1).",INCORRECT_VARIABLE_NAME:"line %2: Template error: incorrect variable name '%1'.",INVALID_FOREACH_INKEYWORD:"line %2: Template error: invalid foreach syntax, expected one of 'in', 'inView', 'inFilteredView', 'inSortedView', 'inPagedView' but found: '%1'.",INVALID_WIDGET_LIBRARY:"line %3: Template error: %1 (%2) is not a valid widget library. A widget library must extend aria.widgetLibs.WidgetLib.",INVALID_EVENT_TYPE:"The event type: '%1' is an invalid event type."},$constructor:function(){var e=aria.utils.String,t=aria.templates.Modifiers,i=aria.utils.Path,r=this,n={inMacro:!1,container:!0,process:function(e,t){return e.logError(t,r.TEMPLATE_STATEMENT_MISUSED,[t.name])}};this.ALLSTATEMENTS={Template:n,Library:n,CSSTemplate:n,CSSLibrary:n,TextTemplate:n,"#TEXT#":{container:!1,process:function(e,t){if(e.isOutputReady()){var i=e.stringify(t.paramBlock);e.writeln("this.__$write(",i,",",t.lineNumber,");")}else""!==t.paramBlock.replace(/[ \t\r\n]+/gm,"")&&e.logError(t,r.SHOULD_BE_IN_MACRO,["#TEXT# - "+t.paramBlock])}},"#CDATA#":{inMacro:!0,container:!1,process:function(e,t){var i=e.stringify(t.paramBlock);e.writeln("this.__$write(",i,",",t.lineNumber,");")}},"#EXPRESSION#":{inMacro:!0,container:!1,process:function(i,n,a){for(var s=n.paramBlock,o=e.indexOfNotEscaped(s,"|"),l=[];-1!=o;)l.push(s.substr(0,o)),s=s.substr(o+1),o=e.indexOfNotEscaped(s,"|");l.push(s);var c=!0,u=a.escapeModifier;if(u)for(var h=l.length-1;h>=1;h--){var p=l[h];if(0===p.indexOf(u)){c=!1;break}}else c=!1;var c=!1;c&&l.splice(1,0,u);for(var d,f=[],m=[],_=/^(\w+)(?::([\s\S]*))?$/,h=l.length-1;h>=1;h--){var g=l[h],y=_.exec(g);if(!y)return i.logError(n,r.INVALID_MODIFIER_SYNTAX,[g]);var v=y[1];t.initModifier(v,i),f.push("this.$modifier('"+v+"',["),d=y[2],d?(m[h]=", "+d,c&&(m[h]+=", '"+u+"'"),m[h]+="])"):m[h]="])"}d=l[0],f.push(d),d=f.concat(m).join(""),i.debug&&(d=i.wrapExpression(d,n,"this.EXCEPTION_IN_EXPRESSION")),i.writeln("this.__$write(",d,",",n.lineNumber,");")}},separator:{inMacro:!0,container:!0,paramRegexp:/^$/,process:function(e,t){var i=t.parent,n=i.content[0]==t||i.content[1]==t&&"#TEXT#"==i.content[0].name;if("foreach"!=i.name||!n)return e.logError(t,r.SEPARATOR_NOT_FIRST_IN_FOREACH),void 0;var a=i[Aria.FRAMEWORK_PREFIX+"foreachCounter"];e.writeln("if (",a,">1) {"),e.increaseIndent(),e.processContent(t.content),e.decreaseIndent(),e.writeln("}")}},id:{inMacro:!0,container:!1,paramRegexp:/^\s*(\S[\s\S]*)\s*$/,process:function(e,t,i){var r=i[0];e.writeln("this.__$writeId(",r,",",t.lineNumber,");")}},on:{inMacro:!0,container:!1,paramRegexp:/^(\w+)\s+([\s\S]+)$/,process:function(e,t,i){var n=i[1],a=i[2],s=aria.utils.Delegate,o=s.delegatedGestures[n];o&&e.addDependency(o),s.supportedEvents[n]||e.logWarn(t,r.INVALID_EVENT_TYPE,[n]),e.writeln("this.__$statementOnEvent(",e.stringify(n),",this.$normCallback(",a,"),",t.lineNumber,");")}},bindRefreshTo:{inMacro:!0,container:!1,paramRegexp:/^([\s\S]+)$/,process:function(t,r,n){var a,s,o=r.paramBlock;s=i.parse(e.trim(o)),s.length>1?(n=t.stringify(s.pop()),a=i.pathArrayToString(s)):(n="null",a=s[0]),t.writeln("this.__$bindAutoRefresh(",a,", ",n,", ",r.lineNumber,");")}},"if":{inMacro:!0,container:!0,process:function(e,t){var i=t.paramBlock;e.writeln("if (",i,") {"),e.increaseIndent(),e.processContent(t.content),delete t[Aria.FRAMEWORK_PREFIX+"elsepresent"],e.decreaseIndent(),e.writeln("}")}},elseif:{inMacro:!0,container:!1,process:function(e,t){var i=t.paramBlock,n=t.parent;return"if"!=n.name?e.logError(t,r.ELSE_WITHOUT_IF):n[Aria.FRAMEWORK_PREFIX+"elsepresent"]?e.logError(t,r.ELSEIF_AFTER_ELSE):(e.decreaseIndent(),e.writeln("} else if (",i,") {"),e.increaseIndent(),void 0)}},"else":{inMacro:!0,container:!1,paramRegexp:/^$/,process:function(e,t){var i=t.parent;return"if"!=i.name?e.logError(t,r.ELSE_WITHOUT_IF):i[Aria.FRAMEWORK_PREFIX+"elsepresent"]?e.logError(t,r.ELSE_ALREADY_USED):(i[Aria.FRAMEWORK_PREFIX+"elsepresent"]=!0,e.decreaseIndent(),e.writeln("} else {"),e.increaseIndent(),void 0)}},createView:{inMacro:void 0,container:!1,paramRegexp:/^([_\w]+)(\[([^\[\]]+(\]\[[^\[\]])*)\])?\s+on\s+([\s\S]+)$/,process:function(e,t,i){var n=i[1];if(Aria.isJsReservedWord(n))return e.logError(t,r.INCORRECT_VARIABLE_NAME,[n]);var a=i[3],s=i[5],o=[],l=0;a?(o=a.split("]["),l=o.length,a=["[(",o.join("),("),")]"].join("")):a="[]";var c=e.getView(n);if(c.firstDefinition){if(c.nbParams!=l)return e.logError(t,r.INCOMPATIBLE_CREATEVIEW,[c.firstDefinition.lineNumber]),void 0}else c.firstDefinition=t,c.nbParams=l;e.addDependency("aria.templates.View");var u=!e.isOutputReady();u&&e.enterBlock("globalVars"),e.writeln(u?"this.":"var ",n,"=this.__$createView(",e.stringify(n),",",a,",(",s,"));"),u&&e.leaveBlock()}},"for":{inMacro:!0,container:!0,process:function(e,t){e.writeln("for (",t.paramBlock,") {"),e.increaseIndent(),e.processContent(t.content),e.decreaseIndent(),e.writeln("}")}},foreach:{inMacro:!0,container:!0,paramRegexp:/^([_\w]+)\s+(\w+)\s+([\s\S]+)$/,process:function(e,t,i){var n=e.newVarName(),a=i[1];if(Aria.isJsReservedWord(a))return e.logError(t,r.INCORRECT_VARIABLE_NAME,[a]);var s=i[2];if("in"!=s&&"inArray"!=s&&"inView"!=s&&"inSortedView"!=s&&"inFilteredView"!=s&&"inPagedView"!=s)return e.logError(t,r.INVALID_FOREACH_INKEYWORD,[s]);var o="in"!=s&&"inArray"!=s;"inView"==s&&(s="inPagedView");var l=i[3],c=a+"_index";e.debug&&(l=e.wrapExpression(l,t,"this.ITERABLE_UNDEFINED")),e.writeln("var ",n,"=(",l,");"),e.writeln("if(",l,"==undefined){"),e.increaseIndent(),e.writeln("this.$logError(this.ITERABLE_UNDEFINED,[",e.stringify(t.name),", ",t.lineNumber,"]);"),e.decreaseIndent(),e.writeln("}");var u=a+"_ct";t[Aria.FRAMEWORK_PREFIX+"foreachCounter"]=u,e.writeln("var ",u,"=0;");var h;if(o){if(h=e.newVarName(),e.writeln(n,".refresh();"),"inPagedView"==s){var p=e.newVarName();e.writeln("var ",p,"=",n,".currentPageIndex;"),e.writeln("var ",h,"=",n,".pages[",p,"].lastItemIndex;"),e.writeln("for (var ",c,"=",n,".pages[",p,"].firstItemIndex;",c,"<=",h,";",c,"++) {")}else e.writeln("var ",h,"=",n,".items.length;"),e.writeln("for (var ",c,"=0;",c,"<",h,";",c,"++) {");e.increaseIndent(),e.writeln("var ",a,"_info=",n,".items[",c,"];"),"inPagedView"==s?e.writeln("if (",a,"_info.pageIndex==",p,") {"):"inFilteredView"==s&&e.writeln("if (",a,"_info.filteredIn) {"),e.increaseIndent(),e.writeln("var ",a,"=",a,"_info.value;")}else"inArray"==s?(h=e.newVarName(),e.writeln("var ",h,"=",n,".length;"),e.writeln("for (var ",c,"=0;",c,"<",h,";",c,"++) {"),e.increaseIndent(),e.writeln("var ",a,"=",n,"[",c,"];")):(e.writeln("for (var ",c," in ",n,") {"),e.increaseIndent(),e.writeln("if (",n,".hasOwnProperty(",c,") && !this.$json.isMetadata(",c,")) {"),e.increaseIndent(),e.writeln("var ",a,"=",n,"[",c,"];"));e.writeln(u,"++;"),e.processContent(t.content),"inSortedView"!=s&&"inArray"!=s&&(e.decreaseIndent(),e.writeln("}")),e.decreaseIndent(),e.writeln("}")}},repeater:{inMacro:!0,container:!1,process:function(e,t){var i=t.paramBlock;e.debug&&(i=e.wrapExpression(i,t,"this.EXCEPTION_IN_REPEATER_PARAMETER")),e.addDependency("aria.templates.Repeater"),e.writeln("this.__$statementRepeater(",t.lineNumber,",(",i,"));")}},macro:{inMacro:!1,container:!0,paramRegexp:/^([_\w]+)\s*(\(\s*([_\w]+\s*(,\s*[_\w]+\s*)*)?\))\s*$/,process:function(e,t,i){var n=i[1],a=e.getMacro(n);return null!=a.definition?e.logError(t,r.MACRO_ALREADY_DEFINED,[n,a.definition.lineNumber]):(a.definition=t,e.enterBlock("prototype"),e.writeln("macro_",n,": function ",i[2],"{"),e.increaseIndent(),e.writeln("try {"),e.increaseIndent(),e.writeln("with (this) {"),e.increaseIndent(),e.processContent(t.content),e.decreaseIndent(),e.writeln("}"),e.decreaseIndent(),e.writeln("} catch (_ex) {"),e.increaseIndent(),e.writeln("this.$logError(this.EXCEPTION_IN_MACRO,[",e.stringify(n),", this['"+Aria.FRAMEWORK_PREFIX+"currentLineNumber']],_ex);"),e.decreaseIndent(),e.writeln("}"),e.decreaseIndent(),e.writeln("},"),e.leaveBlock(),void 0)}},memo:{inMacro:!0,container:!0,paramRegexp:/^[\S\s]*$/,process:function(e,t){e.processContent(t.content)}},call:{inMacro:!0,container:!1,paramRegexp:/^(\$?[_\w]+\.)?([_\w]+)\s*\(([\s\S]*)\)\s*$/,process:function(e,t,i){var r,n,a=i[1],s=i[2],o=i[3];if(a?(r="this."+a+"macro_"+s,n="$"==a.charAt(0)?r+".apply(this,["+o+"]);":r+"("+o+");"):(r="this.macro_"+s,n=r+"("+o+");"),e.debug){var l=a?a+s:s;e.writeln("if (",r," == null) {"),e.increaseIndent(),e.writeln("this.$logError(this.MACRO_NOT_FOUND,[",t.lineNumber,",",e.stringify(l),"]);"),e.decreaseIndent(),e.writeln("}")}e.writeln(n)}},section:{inMacro:!0,container:null,process:function(e,t){var i=t.paramBlock,r=t.content?"true":"false";e.writeln("this.__$beginSection(",t.lineNumber,",",r,",",i,");"),t.content&&e.processContent(t.content),e.writeln("this.__$endSection();")}},"var":{inMacro:void 0,container:!1,paramRegexp:/^([_\w]+)\s*=([\s\S]*)$/,process:function(e,t,i){var n=i[1],a=i[2];return Aria.isJsReservedWord(n)?e.logError(t,r.INCORRECT_VARIABLE_NAME,[n]):(e.isOutputReady()?(e.debug&&(a=e.wrapExpression(a,t,"this.EXCEPTION_IN_VAR_EXPRESSION")),e.writeln("var ",n,"=(",a,");")):(e.enterBlock("globalVars"),e.debug&&(a=e.wrapExpression(a,t,"this.EXCEPTION_IN_VAR_EXPRESSION")),e.writeln("this.",n,"=(",a,");"),e.leaveBlock()),void 0)}},set:{inMacro:!0,container:!1,paramRegexp:/^([_\w]+(?:\.[_\w]+)*)\s*([\+\-]?\=)([\s\S]*)$/,process:function(e,t,i){for(var n=i[1],a=i[2],s=i[3],o=n.split("."),l=0,c=o.length;c>l;l++)if(Aria.isJsReservedWord(o[l]))return e.logError(t,r.INCORRECT_VARIABLE_NAME,[n]);e.debug&&(s=e.wrapExpression(s,t,"this.EXCEPTION_IN_SET_EXPRESSION")),e.writeln(n,a,"(",s,");")}},checkDefault:{inMacro:!0,container:!1,paramRegexp:/^([_\w]+)\s*\=([\s\S]*)$/,process:function(e,t,i){var n=i[1],a=i[2];return Aria.isJsReservedWord(n)?e.logError(t,r.INCORRECT_VARIABLE_NAME,[n]):(e.debug&&(a=e.wrapExpression(a,t,"this.EXCEPTION_IN_CHECKDEFAULT_EXPRESSION")),e.writeln("if (",n,"===undefined) {"),e.increaseIndent(),e.writeln(n,"=(",a,");"),e.decreaseIndent(),e.writeln("}"),void 0)}},"@":{inMacro:!0,container:null,process:function(e,t){var i=/^@(\w+):(\w+)$/.exec(t.name);if(!i||3!=i.length)return e.logError(t,r.INVALID_WIDGET_SYNTAX);var n=i[1],a=i[2],s=e.templateParam.$wlibs[n];if(void 0===s)return e.logError(t,r.UNDECLARED_WIDGET_LIBRARY,[n]);var o=e.wlibs[n];if(!o){if(o=Aria.getClassRef(s),!aria.utils.Type.isInstanceOf(o,"aria.widgetLibs.WidgetLib"))return e.logError(t,r.INVALID_WIDGET_LIBRARY,[n,s]);e.wlibs[n]=o}var l=o.getWidgetDependencies(a,e.allDependencies);if(!l)return e.logError(t,r.UNKNOWN_WIDGET,[t.name]);e.addDependencies(l);var c=t.paramBlock;if(0===c.length)c="undefined";else{for(var u=[],h=/[\'\"](aria\.widgets\.transform\.(.+))[\'\"]/g,p=h.exec(c);p;)u.push(p[1]),p=h.exec(c);e.addDependencies(u)}e.debug&&"undefined"!=c&&(c=e.wrapExpression(c,t,"this.EXCEPTION_IN_CONTROL_PARAMETERS")),t.content?(e.writeln("if (this.__$beginContainerWidget(",e.stringify(s),",",e.stringify(a),",(",c,"),",t.lineNumber,")) {"),e.increaseIndent(),e.processContent(t.content),e.writeln("this.__$endContainerWidget();"),e.decreaseIndent(),e.writeln("}")):e.writeln("this.__$processWidgetMarkup(",e.stringify(s),",",e.stringify(a),",(",c,"),",t.lineNumber,");")}}}}});
//*******************
//LOGICAL-PATH:aria/templates/ClassGenerator.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.ClassGenerator",$dependencies:["aria.templates.ClassWriter","aria.templates.TreeBeans","aria.templates.CfgBeans","aria.templates.Statements","aria.templates.Modifiers"],$singleton:!1,$constructor:function(){this._parser=null,this._superClass=null,this._classType=null,this._rootStatement=null,this._templateParamBean=null,this.STATEMENTS={},this.ALLSTATEMENTS=aria.templates.Statements.ALLSTATEMENTS,this._loadStatements(["#ROOT#","#TEXT#","#CDATA#","#EXPRESSION#","if","elseif","else","for","foreach","separator","var","set","checkDefault","macro","call","memo"]),this._isDebug=aria.core.environment.Environment.isDebug(),aria.core.environment.Environment.$on({debugChanged:function(){this._isDebug=aria.core.environment.Environment.isDebug()},scope:this})},$statics:{TEMPLATE_STATEMENT_EXPECTED:"Template error: please check that the whole template is enclosed in a '%1' statement.",ERROR_IN_TEMPLATE_PARAMETER:"Template error, while evaluating the parameter of the '%1' statement.",CHECK_ERROR_IN_TEMPLATE_PARAMETER:"Template error: the parameter of the '%1' statement does not respect the bean definition.",UNKNOWN_STATEMENT:"line %2: Template error: unknown statement '%1'.",EXPECTED_CONTAINER:"line %2: Template error: statement '%1' must be used as a container.",UNEXPECTED_CONTAINER:"line %2: Template error: statement '%1' cannot be used as a container.",SHOULD_BE_OUT_OF_MACRO:"line %2: Template error: statement '%1' cannot be used in a macro.",INVALID_STATEMENT_SYNTAX:"line %3: Template error: invalid parameter for statement '%1'; it should respect the regular expression %2."},$prototype:{parseTemplate:function(e,t,i,r,n){var a=this._parser.parseTemplate(e,r,this.STATEMENTS);return null==a?(this.$callback(i,{classDef:null}),void 0):(this.__buildClass(a,t,i,r,n),void 0)},parseTemplateFromTree:function(e,t,i,r,n){this.__buildClass(e,t,i,r,n)},_loadStatements:function(e){for(var t=0,i=e.length;i>t;t+=1){var r=e[t];this.STATEMENTS[r]=this.ALLSTATEMENTS[r]}},getStatements:function(){return this.STATEMENTS},__buildClass:function(e,t,i,r,n){aria.core.JsonValidator.check(e,"aria.templates.TreeBeans.Root");var a=new aria.templates.ClassWriter({fn:this.__processStatement,scope:this},{fn:this.__logError,scope:this});a.errorContext=r,a.allDependencies=t,a.callback=i,a.tree=e,a.debug=n===!0,this._processRootStatement(a,e),a.errors&&(a.$dispose(),this.$callback(i,{classDef:null}))},_processRootStatement:function(out,tree){var rootStatement=tree.content[0];if(1!=tree.content.length||rootStatement.name!=this._rootStatement)return out.logError(tree,this.TEMPLATE_STATEMENT_EXPECTED,[this._rootStatement]);if(null==rootStatement.content)return out.logError(rootStatement,this.EXPECTED_CONTAINER,[this._rootStatement]);var param;try{param=eval("("+rootStatement.paramBlock+")")}catch(e){return out.logError(rootStatement,this.ERROR_IN_TEMPLATE_PARAMETER,[this._rootStatement],e)}return aria.core.JsonValidator.normalize({json:param,beanName:this._templateParamBean})?(out.templateParam=param,this._processTemplateContent({out:out,statement:rootStatement}),void 0):out.logError(rootStatement,this.CHECK_ERROR_IN_TEMPLATE_PARAMETER,[this._rootStatement])},__processStatement:function(e,t){var i=t.name;"@"==i.charAt(0)&&(i="@");var r=this.STATEMENTS[i];if(null==r)e.logError(t,this.UNKNOWN_STATEMENT,[i]);else if(r.container===!0&&void 0===t.content)e.logError(t,this.EXPECTED_CONTAINER,[i]);else if(r.container===!1&&void 0!==t.content)e.logError(t,this.UNEXPECTED_CONTAINER,[i]);else if(void 0!==r.inMacro&&e.isOutputReady()!==r.inMacro)r.inMacro?e.logError(t,aria.templates.Statements.SHOULD_BE_IN_MACRO,[i]):e.logError(t,this.SHOULD_BE_OUT_OF_MACRO,[i]);else if(r.paramRegexp){var n=r.paramRegexp.exec(t.paramBlock);null==n?e.logError(t,this.INVALID_STATEMENT_SYNTAX,[i,r.paramRegexp]):(this._isDebug&&e.trackLine(t.lineNumber),r.process(e,t,n))}else this._isDebug&&e.trackLine(t.lineNumber),r.process(e,t,this)},__logError:function(e,t,i,r){null==i&&(i=[]),i.push(e.lineNumber),this.$logError(t,i,r)},_createBlocks:function(e){e.newBlock("classDefinition",0),e.newBlock("prototype",2),e.newBlock("globalVars",5),e.newBlock("initTemplate",3),e.newBlock("classInit",3)},_writeClassDefHeaders:function(e){var t=e.templateParam;e.writeln("Aria.classDefinition({"),e.increaseIndent(),e.writeln("$classpath: ",e.stringify(t.$classpath),","),e.parentClasspath&&e.writeln("$extends: ",e.stringify(e.parentClasspath),","),"JS"!=e.parentClassType&&e.writeln("$extendsType: ",e.stringify(e.parentClassType),",")},_getClassName:function(e){var t=e.split(".");return t[t.length-1]},_processInheritance:function(e){var t=e.templateParam;t.$extends?(e.parentClasspath=t.$extends,e.parentClassType=this._classType):e.parentClasspath=this._superClass,e.parentClasspath&&(e.parentClassName=this._getClassName(e.parentClasspath))},_processScript:function(e){var t=e.templateParam;t.$hasScript&&(e.scriptClasspath=t.$classpath+"Script",e.scriptClassName=this._getClassName(e.scriptClasspath),e.addDependency(e.scriptClasspath))},_writeConstructor:function(e){e.writeln("$constructor: function() { "),e.increaseIndent();var t=e.parentClassName;t&&e.writeln("this.$",t,".constructor.call(this);");var i=e.scriptClassName;i&&e.writeln("this.$",i,".constructor.call(this);"),e.decreaseIndent(),e.writeln("},")},_writeDestructor:function(e){e.writeln("$destructor: function() {"),e.increaseIndent();var t=e.scriptClassName;t&&e.writeln("this.$",t,".$destructor.call(this);");var i=e.parentClassName;i&&e.writeln("this.$",i,".$destructor.call(this);"),e.decreaseIndent(),e.writeln("},")},_writeDependencies:function(e){var t=e.templateParam,i=aria.utils.Json;if(e.writeln(e.getDependencies()),t.$res&&e.writeln("$resources: ",i.convertToJsonString(t.$res),","),t.$templates&&e.writeln("$templates: ",i.convertToJsonString(t.$templates),","),t.$css&&e.writeln("$css: ",i.convertToJsonString(t.$css),","),t.$macrolibs){var r=aria.utils.Array.extractValuesFromMap(t.$macrolibs);r.length>0&&e.writeln("$macrolibs: ",i.convertToJsonString(r),",")}if(t.$csslibs){var n=aria.utils.Array.extractValuesFromMap(t.$csslibs);n.length>0&&e.writeln("$csslibs: ",i.convertToJsonString(n),",")}t.$texts&&e.writeln("$texts: ",i.convertToJsonString(t.$texts),",")},_writeMapInheritance:function(e,t,i,r){if(e.parentClassType==this._classType){if(i){var n=e.newVarName();e.writeln("var ",n," = {};"),e.writeln("Aria.copyObject(proto.",t,",",n,");"),e.writeln("Aria.copyObject(",aria.utils.Json.convertToJsonString(i),",",n,");"),e.writeln("proto.",t," = ",n,";")}}else{var a=i?aria.utils.Json.convertToJsonString(i):r;e.writeln("proto.",t," = ",a,";")}},_writeValueInheritance:function(e,t,i,r){if(e.parentClassType==this._classType)null!=i&&e.writeln("proto.",t," = ",aria.utils.Json.convertToJsonString(i),";");else{var n=null!=i?aria.utils.Json.convertToJsonString(i):r;e.writeln("proto.",t," = ",n,";")}},_writeClassInit:function(e){var t=e.scriptClasspath;t&&(e.enterBlock("classInit"),e.writeln("aria.core.TplClassLoader._importScriptPrototype("+t+",proto)"),e.leaveBlock());var i=e.getBlockContent("classInit");i.length>0&&(e.writeln("$init: function(proto) {"),e.increaseIndent(),e.write(i),e.decreaseIndent(),e.writeln("},"))},_writeInitTemplate:function(e){e.writeln("__$initTemplate: function() {"),e.increaseIndent(),e.parentClassType==this._classType&&e.writeln("if (! this.$",e.parentClassName,".__$initTemplate.call(this)) { return false; }"),e.write(e.getBlockContent("initTemplate"));var t=e.getBlockContent("globalVars");t.length>0&&(e.writeln("try {"),e.increaseIndent(),e.writeln("with (this) {"),e.increaseIndent(),e.write(t),e.decreaseIndent(),e.writeln("}"),e.decreaseIndent(),e.writeln("} catch (_ex) {"),e.increaseIndent(),e.writeln("this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex);"),e.writeln("return false;"),e.decreaseIndent(),e.writeln("}")),e.writeln("return true;"),e.decreaseIndent(),e.writeln("}")},_writeClassDefEnd:function(e){e.writeln("$prototype: {"),e.increaseIndent(),e.write(e.getBlockContent("prototype")),e.decreaseIndent(),e.writeln("}"),e.decreaseIndent(),e.writeln("})"),e.leaveBlock()},_processTemplateContent:function(e){var t=e.out,i=t.templateParam,r=e.statement;if(t.addDependencies(i.$dependencies),this._createBlocks(t),this._processInheritance(t),this._processScript(t),t.enterBlock("classDefinition"),this._writeClassDefHeaders(t),this._writeConstructor(t),this._writeDestructor(t),t.leaveBlock(),t.processContent(r.content),t.errors)return t.$dispose(),this.$callback(t.callback,{classDef:null}),t.errors=!1,void 0;t.enterBlock("prototype"),this._writeClassInit(t),this._writeInitTemplate(t),t.leaveBlock(),t.enterBlock("classDefinition"),this._writeDependencies(t),this._writeClassDefEnd(t),t.leaveBlock();var n=null;n=t.getBlockContent("classDefinition"),t.$dispose(),this.$callback(t.callback,{classDef:n,tree:t.tree,debug:t.debug})}}});
//*******************
//LOGICAL-PATH:aria/templates/Parser.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.Parser",$dependencies:["aria.utils.String"],$singleton:!1,$constructor:function(){this.template=null,this.__lineNumbers=null,this.__currentLn=0,this._keepWhiteSpace=!1},$statics:{MISSING_CLOSINGBRACES:"line %1: Template parsing error: could not find corresponding '}'.",EXPECTING_OTHER_CLOSING_STATEMENT:"line %4: Template parsing error: found closing statement '%2', but '%1' (line %3) should be closed first.",INVALID_STATEMENT_NAME:"line %2: Template parsing error: invalid statement name: '%1'",STATEMENT_CLOSED_NOT_OPEN:"line %2: Template parsing error: could not find corresponding open statement for closing statement '%1'.",MISSING_CLOSING_STATEMENT:"line %2: Template parsing error: statement '%1' was open but never closed."},$prototype:{parseTemplate:function(){},_prepare:function(e){e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),e=e.replace(/\/\/.*\{(\/)?CDATA\}.*$/gm,"");var t,i=e.split("{CDATA}"),r=[];r.push(i[0]);for(var n=1,a=i.length;a>n;n++){if(t=i[n].split("{/CDATA}"),2!=t.length)return this.$logError(this.MISSING_CLOSING_STATEMENT,"CDATA",this.context),this.template=e,void 0;r=r.concat(t)}for(var s,o,l=0,a=r.length;a>l;l++){if(s=r[l],0===l%2){for(var c=/\/\*(.|\n|\r)*?\*\//m;o=s.match(c);){o+="";for(var u="",h=-1;-1!=(h=o.indexOf("\n",h+1));)u+="\n";s=s.replace(c,u)}s=s.replace(/^\/\/.*$/gm,""),s=s.replace(/([^\:])\/\/(?=(?:(?:[^"]*"){2})*[^"]*$).*$/gm,"$1"),this._keepWhiteSpace||(s=s.replace(/^[ \t]+/gm,""),s=s.replace(/[ \t]+$/gm,""))}else s="{CDATA}"+s+"{/CDATA}";r[l]=s}e=r.join(""),this.template=e},_computeLineNumbers:function(){var e=this.template;this.__lineNumbers=[0];for(var t=e.indexOf("\n");-1!=t;)this.__lineNumbers.push(t),t=e.indexOf("\n",t+1)},positionToLineNumber:function(e){var t,i=this.__lineNumbers,r=i.length;for(t=this.__currentLn;r>t;t++)if(i[t]>e){if(t>0&&i[t-1]>e)break;return this.__currentLn=t,t}for(t=0;this.__currentLn>t;t++)if(i[t]>e)return this.__currentLn=t,t;return this.__lineNumbers.length},__findClosingBraces:function(e,t){var i=t,r=0,n=-1,a=-1,s=aria.utils.String;do i>n&&(n=s.indexOfNotEscaped(e,"{",i)),i>a&&(a=s.indexOfNotEscaped(e,"}",i)),n>-1&&a>n?(r++,i=n+1):a>-1&&(r--,i=a+1);while(r>=0&&a>-1);return this.$assert(163,-1==a||0>r&&(n>a||-1==n)),{indexClose:a,indexOpen:n}},__unescapeParam:function(e,t,i){var r=e.substring(t,i);return r=r.replace(/^[\r\n]+/,""),r=r.replace(/[\r\n]+$/,""),r=r.replace(/\\([\/\{\}\$\\*])/g,"$1")},__unescapeText:function(e,t,i){var r=e.substring(t,i);return/^[\r\n]*$/.test(r)?"":r=r.replace(/\\([\/\{\}\$\\*])/g,"$1")},__logError:function(e,t,i){i||(i=[]),i.push(this.positionToLineNumber(e)),this.$logError(t,i,this.context)},_buildTree:function(){var e=aria.utils.String;this.__currentLn=0;for(var t,i=this.template,r=0,n=0,a=e.indexOfNotEscaped(i,"{"),s=!1,o=[],l={name:"#ROOT#",paramBlock:"",parent:null,content:o,lineNumber:0},c=[l];-1!=a;){s="$"==i.charAt(a-1)&&!e.isEscaped(i,a-1),n=s?a-1:a,n-r>0&&(t={name:"#TEXT#",parent:c[c.length-1],firstCharParamIndex:r,lastCharParamIndex:n,paramBlock:this.__unescapeText(i,r,n),lineNumber:this.positionToLineNumber(r)},t.paramBlock.length>0&&o.push(t)),r=a+1;var u=this.__findClosingBraces(i,r);if(n=u.indexClose,a=u.indexOpen,-1==n)return this.__logError(r,this.MISSING_CLOSINGBRACES),null;if(s)o.push({name:"#EXPRESSION#",parent:c[c.length-1],firstCharParamIndex:r,lastCharParamIndex:n,paramBlock:this.__unescapeParam(i,r,n),lineNumber:this.positionToLineNumber(r)}),r=n+1;else if("/"==i.charAt(r)){r++,t=c.pop();var h=i.substring(r,n);if(0===c.length)return this.__logError(r,this.STATEMENT_CLOSED_NOT_OPEN,[h]),null;if(t.name!=h){for(var p=c.length-1;p>=1;p--)if(c[p].name==h)return this.__logError(r,this.EXPECTING_OTHER_CLOSING_STATEMENT,[t.name,h,t.lineNumber]),null;return this.__logError(r,this.STATEMENT_CLOSED_NOT_OPEN,[h]),null}t.lastCharContentIndex=r-2,o=c[c.length-1].content,r=n+1,h=null}else{var d,f,m=n+1,_="/"==i.charAt(n-1)&&!e.isEscaped(i,n-1);if(_&&n--,t={parent:c[c.length-1],lastCharParamIndex:n},o.push(t),f=e.nextWhiteSpace(i,r,n,/[\s\{]/),-1==f?(f=n,d=i.substring(r,n)):(d=i.substring(r,f),"{"!=i.charAt(f)&&f++),t.firstCharParamIndex=f,t.lineNumber=this.positionToLineNumber(f),"CDATA"!=d){if(t.name=d,_||(t.content=[],t.firstCharContentIndex=m,c.push(t),o=t.content),!/^[_\w@:]+$/.test(t.name))return this.__logError(r,this.INVALID_STATEMENT_NAME,[t.name]),null;t.paramBlock=this.__unescapeParam(i,f,n),r=m}else{t.name="#CDATA#";var g=i.indexOf("{/CDATA}");if(-1==g)return this.__logError(r,this.MISSING_CLOSING_STATEMENT,["CDATA"]),null;t.paramBlock=i.substring(n+1,g);var u=this.__findClosingBraces(i,g+1);r=u.indexClose+1,a=u.indexOpen}}}return n=i.length,n-r>0&&(t={name:"#TEXT#",parent:c[c.length-1],firstCharParamIndex:r,lastCharParamIndex:n,paramBlock:this.__unescapeText(i,r,n),lineNumber:this.positionToLineNumber(r)},t.paramBlock.length>0&&o.push(t)),c.length>1?(this.__logError(c[c.length-1].firstCharContentIndex,this.MISSING_CLOSING_STATEMENT,[c[c.length-1].name]),null):(this.template=this.__lineNumbers=null,l)}}});
//*******************
//LOGICAL-PATH:aria/templates/CSSParser.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.CSSParser",$extends:"aria.templates.Parser",$dependencies:["aria.utils.String"],$singleton:!0,$statics:{MISSING_OPENINGBRACES:"line %1: Template parsing error: could not find corresponding '{'."},$prototype:{parseTemplate:function(e,t,i){return this.context=t,this._prepare(e),this.__preprocess(i)?(this._computeLineNumbers(),this._buildTree()):null},__preprocess:function(e){for(var t=this.template,i=aria.utils.String,r=0,n=-1,a=-1,s=[],o=/^\{[\s\/]*?([\w]+)\b/,l=0,c=t.length,u=-1,h=0,p=-1;c>l;)if(r>n&&(n=i.indexOfNotEscaped(t,"{",r)),r>a&&(a=i.indexOfNotEscaped(t,"}",r)),n>-1&&(a>n||-1==a)){if(0===h&&(p=n),h++,-1==u)if("$"==t.charAt(n-1))u=h;else{var d=t.substring(n,a),f=o.exec(d);f&&e[f[1]]?u=h:(s.push(t.substring(l,n)),s.push("\\{"),l=n+1)}r=n+1}else if(a>-1){if(0===h)return this._computeLineNumbers(),this.$logError(this.MISSING_OPENINGBRACES,[this.positionToLineNumber(a)],this.context),!1;u==h?u=-1:-1==u&&(s.push(t.substring(l,a)),s.push("\\}"),l=a+1),h--,r=a+1}else this.$assert(94,-1==n&&-1==a),r=c,s.push(t.substring(l,c)),l=c;return h>0?(this._computeLineNumbers(),this.$logError(this.MISSING_CLOSINGBRACES,[this.positionToLineNumber(p)],this.context),!1):(this.template=s.join(""),!0)}}});
//*******************
//LOGICAL-PATH:aria/templates/CSSClassGenerator.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.CSSClassGenerator",$extends:"aria.templates.ClassGenerator",$singleton:!0,$dependencies:["aria.templates.CSSParser"],$constructor:function(){this.$ClassGenerator.constructor.call(this),this._loadStatements(["CSSTemplate"]),this._parser=aria.templates.CSSParser,this._superClass="aria.templates.CSSTemplate",this._classType="CSS",this._rootStatement="CSSTemplate",this._templateParamBean="aria.templates.CfgBeans.CSSTemplateCfg"},$prototype:{_writeClassInit:function(e){e.templateParam,e.enterBlock("classInit"),this._writeMapInheritance(e,"__$csslibs",e.templateParam.$csslibs,"{}"),this._writeValueInheritance(e,"__$prefix",e.templateParam.$prefix,"true"),e.leaveBlock(),this.$ClassGenerator._writeClassInit.call(this,e)}}});
//*******************
//LOGICAL-PATH:aria/templates/ICSS.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.templates.ICSS",$extends:"aria.templates.IBaseTemplate",$events:{},$interface:{prefix:"Object"}});
//*******************
//LOGICAL-PATH:aria/templates/CSSCtxt.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.CSSCtxt",$dependencies:["aria.templates.CfgBeans","aria.utils.String"],$implements:["aria.templates.ICSS"],$extends:"aria.templates.BaseCtxt",$constructor:function(){this.$BaseCtxt.constructor.apply(this,arguments),this.tplClasspath=null,this.__cachedOutput=null,this.__prefix="",this.__prefixedText="",this.__numSelectors=0/0},$destructor:function(){if(this._tpl){try{this._tpl.$dispose()}catch(e){this.$logError(this.TEMPLATE_DESTR_ERROR,[this.tplClasspath],e)}aria.templates.ICSS.prototype.$destructor.call(this._tpl),this._tpl=null}this.data=null,this.moduleRes=null,this.moduleCtrl=null,this.moduleCtrlPrivate=null,this.$BaseCtxt.$destructor.call(this)},$statics:{MEDIA_RULE:/@media\b/},$prototype:{initTemplate:function(e){if(!aria.core.JsonValidator.normalize({json:e,beanName:"aria.templates.CfgBeans.InitCSSTemplateCfg"}))return!1;this._cfg=e;var t=Aria.getClassInstance(e.classpath);if(!t)return this.$logError(this.TEMPLATE_CONSTR_ERROR,[e.classpath]),!1;this._tpl=t,e.macro=this.checkMacro({name:"main",args:e.args}),this.tplClasspath=e.classpath,aria.templates.ICSS.call(t,this);var i=this;return t.__$write=function(){return i.__$write.apply(i,arguments)},t.__$initTemplate()?(this.__loadLibs(t.__$csslibs,"csslibs"),!0):!1},doPrefixing:function(){return this._tpl.__$prefix?!this._cfg.isWidget:void 0},isWidget:function(){return this._cfg.isWidget},isTemplate:function(){return this._cfg.isTemplate},_getOutput:function(){if(this.__cachedOutput)return this.__cachedOutput;this.$assert(156,null==this._out),this._out=[],this._callMacro(null,"main");var e=this._out.join("");return this._out=null,this.__cachedOutput=e,e},prefixText:function(e){var t=this._getOutput(),i="."+e+" ",r=this.__prefixingAlgorithm(t,i);this.__prefixedText=r.text,this.__numSelectors=r.selectors},__prefixingAlgorithm:function(e,t){var i=e.split("}"),r=i.length;if(2>r)return{text:e,selectors:0};for(var n,a,s,o=aria.utils.String.trim,l=this.MEDIA_RULE,c=0,u=0;r>u;u+=1)if(n=i[u].split("{"),a=o(n[0])){var h=l.test(a);if(!h||(n[0]=a,a=o(n[1]))){a=a.split(","),s=[];for(var p=0,d=a.length;d>p;p+=1)s.push(t+o(a[p])),c+=1;h?(s[0]="\n"+s[0],n[1]=s.join(", ")):n[0]=s.join(", "),i[u]=n.join(" {")}}return{text:i.join("}\n"),selectors:c}},getText:function(){return this.doPrefixing()?this.__prefixedText:this._getOutput()},getNumLines:function(){return this.__numSelectors},__$write:function(e){this._out=this._out.concat(e)}}});
//*******************
//LOGICAL-PATH:aria/templates/CSSCtxtManager.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.CSSCtxtManager",$dependencies:["aria.templates.CSSCtxt"],$singleton:!0,$constructor:function(){this._contexts={}},$destructor:function(){this.reset()},$prototype:{getContext:function(e,t){var i=this._contexts[e];return i||(i=new aria.templates.CSSCtxt,t||(t={}),t.classpath=e,i.initTemplate(t),this._contexts[e]=i),i},disposeContext:function(e){var t=this._contexts[e];t&&(t.$dispose(),delete this._contexts[e])},reset:function(){var e=[],t=this._contexts;for(var i in t)t.hasOwnProperty(i)&&(e.push(i),t[i].$dispose());return this._contexts={},e}}});
//*******************
//LOGICAL-PATH:aria/templates/CSSMgr.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.CSSMgr",$singleton:!0,$dependencies:["aria.templates.CSSCtxtManager","aria.utils.Array","aria.utils.Object","aria.utils.AriaWindow"],$statics:{__NEXT_PREFIX_INDEX:0,__PREFIX:"CSS",__NEXT_TAG_INDEX:1,__TAG_PREFX:"xCss",CSSTEMPLATE_MAX_SELECTORS_REACHED:"More than 4000 CSS selectors are loaded at the same time. Please check your CSS Templates"},$events:{dependenciesLoaded:"",dependenciesUnloaded:"",styleChange:""},$constructor:function(){this.__cssUsage={},this.__globalUsage={},this.__prefixes={},this.__pathsLoaded=[],this.__textLoaded={},this.__styleTagAssociation={},this.__styleTagPool={},this.__cssDependencies={},this.__invalidClasspaths={},this.__invalidStack=[],this.__isStopped=!1,this.__queuedChanges=[],this.__attachedToWindow=!1,aria.utils.AriaWindow.$on({unloadWindow:this.reset,scope:this})},$destructor:function(){this.reset(),this.__styleTagPool=null,aria.utils.AriaWindow.$unregisterListeners(this)},$prototype:{__checkAttachedToWindow:function(){this.__attachedToWindow||(this.__attachedToWindow=!0,aria.utils.AriaWindow.attachWindow())},loadDependencies:function(e){this.$assert(133,e.$TemplateCtxt);var t=e.getCSSDependencies(),i=e.tplClasspath,r=this.loadClassPathDependencies(i,t,{isTemplate:!0});return r.changes&&this.$raiseEvent({name:"styleChange",templateClasspath:i}),this.$raiseEvent({name:"dependenciesLoaded",templateClasspath:i}),r.classes},loadWidgetDependencies:function(e,t){if(this.__cssDependencies[e])t=this.__cssDependencies[e];else{var i=Aria.getClassRef(e),r={};if(t)for(var n=0,s=t.length;s>n;n++)r[t[n]]=!0;for(i=i.superclass;i;){var a=i.$css;if(a)for(var n=0,s=a.length;s>n;n++)r[a[n]]=!0;i=i.constructor.superclass}t=aria.utils.Object.keys(r),this.__cssDependencies[e]=t}var o={isWidget:!0};this.loadClassPathDependencies(e,t,o)},loadClassPathDependencies:function(e,t,i){if(t){for(var r=[],n=[],s=0,a=t.length;a>s;s+=1){var o=t[s],l={};for(var c in i)i.hasOwnProperty(c)&&(l[c]=i[c]);r=this.__load(e,o,l).concat(r),this.__prefixes[o]&&n.push(this.__prefixes[o])}return r.length&&this.__textToDOM(r),{classes:n,changes:!!r.length}}},__load:function(e,t,i){this.$assert(195,e&&t);var r=this.__cssUsage[t];if(r&&r.length){if(r.push(e),this.__pathsLoaded.push(t),!this.__invalidClasspaths[t])return[]}else this.__cssUsage[t]=[e];delete this.__invalidClasspaths[t];var n=aria.templates.CSSCtxtManager.getContext(t,i);if(("aria.templates.GlobalStyle"==t||"aria.templates.LegacyGeneralStyle"==t||"aria.widgets.GlobalStyle"==t)&&this.__getPrefix(t),n.doPrefixing()){var s=this.__getPrefix(t);n.prefixText(s)}this.__textLoaded[t]={text:n.getText(),lines:n.getNumLines()};var a=this.__getStyleTag(n);return this.__styleTagAssociation[t]=a,this.__pathsLoaded.push(t),[a]},__getStyleTag:function(e){var t=e.tplClasspath,i=this.__styleTagAssociation[t];return i?i:(e.isTemplate()?i="tpl":e.isWidget()?i="wgt":(i="pool"+this.__NEXT_TAG_INDEX,this.__NEXT_TAG_INDEX+=1),i)},unloadWidgetDependencies:function(e,t){this.__cssDependencies[e]&&(t=this.__cssDependencies[e]),this.unloadClassPathDependencies(e,t)},unloadClassPathDependencies:function(e,t){if(t)for(var i=0,r=t.length;r>i;i+=1){var n=t[i];this.__unload(e,n)}},unloadDependencies:function(e){this.$assert(169,e.$TemplateCtxt);var t=e.getCSSDependencies(),i=e.tplClasspath;this.unloadClassPathDependencies(i,t),this.$raiseEvent({name:"dependenciesUnloaded",templateClasspath:i})},__getPrefix:function(e){var t=this.__prefixes[e];return t||(t=this.__PREFIX+this.__NEXT_PREFIX_INDEX,this.__NEXT_PREFIX_INDEX+=1,this.__prefixes[e]=t),t},__unload:function(e,t){this.$assert(230,e&&t);var i=aria.utils.Array.remove,r=this.__cssUsage[t];r&&r.length&&(i(r,e),i(this.__pathsLoaded,t),r.length||(delete this.__cssUsage[t],delete this.__textLoaded[t],delete this.__styleTagAssociation[t]))},__textToDOM:function(e){if(this.__isStopped)return this.__queuedChanges=e.concat(this.__queuedChanges),void 0;var t=this.__sortPaths();this.__textLoaded;for(var i=0,r={},n=aria.utils.Array,s=0,a=t.length;a>s;s+=1){var o=t[s],l=this.__styleTagAssociation[o];n.contains(e,l)&&(r[l]||(r[l]=[]),r[l].push("/**",o,"**/",this.__textLoaded[o].text),i+=this.__textLoaded[o].lines||0)}return i>4e3&&this.$logWarn(this.CSSTEMPLATE_MAX_SELECTORS_REACHED),this.__reloadStyleTags(r)},__sortPaths:function(){var e=aria.utils.Object.keys(this.__textLoaded),t=this.__prefixes,i=this.__PREFIX.length,r=function(e,r){var n=t[e]?parseInt(t[e].substring(i),10):Number.MAX_VALUE,s=t[r]?parseInt(t[r].substring(i),10):Number.MAX_VALUE;return n===s?0:n>s?1:-1},n=e.sort(r);return t=null,i=null,n},__reloadStyleTags:function(e){for(var t in e)if(e.hasOwnProperty(t)){var i=this.__buildStyleIfMissing(t),r=e[t].join("\n");if(i.styleSheet)i.styleSheet.cssText=r;else{var n=Aria.$window.document.createTextNode(r);i.firstChild?i.replaceChild(n,i.firstChild):i.appendChild(n)}i=null}},__buildStyleIfMissing:function(e){var t=this.__styleTagPool[e];if(!t){var i=Aria.$window.document,r=i.getElementsByTagName("head")[0];t=i.createElement("style"),t.id=this.__TAG_PREFX+e,t.type="text/css",t.media="all",r.appendChild(t),t=r.lastChild,this.__styleTagPool[e]=t}return t},reset:function(){for(var e in this.__styleTagPool)this.__styleTagPool.hasOwnProperty(e)&&this.__styleTagPool[e].parentNode.removeChild(this.__styleTagPool[e]);this.__attachedToWindow&&(aria.utils.AriaWindow.detachWindow(),this.__attachedToWindow=!1),this.__styleTagPool={},this.__textLoaded={},this.__pathsLoaded=[],this.__prefixes={},this.__cssUsage={},this.__styleTagAssociation={},this.__invalidClasspaths={},this.__cssDependencies={},this.__PREFIX=this.classDefinition.$statics.__PREFIX,this.__NEXT_PREFIX_INDEX=this.classDefinition.$statics.__NEXT_PREFIX_INDEX,this.__NEXT_TAG_INDEX=this.classDefinition.$statics.__NEXT_TAG_INDEX,this.__TAG_PREFX=this.classDefinition.$statics.__TAG_PREFX},invalidate:function(e,t){aria.templates.CSSCtxtManager.disposeContext(e),!this.__invalidClasspaths[e]&&t&&(this.__invalidClasspaths[e]=!0,this.__invalidStack.push(e))},stop:function(){this.__isStopped=!0},resume:function(){this.__isStopped=!1;var e=this.__queuedChanges;return this.__queuedChanges=[],e.length>0?this.__textToDOM(e):void 0},registerDependencies:function(e,t){for(var i=0,r=t.length;r>i;i++){var n=t[i];this.__globalUsage[n]||(this.__globalUsage[n]=[]),this.__globalUsage[n].push(e)}},unregisterDependencies:function(e,t,i,r){for(var n=aria.utils.Array,s=aria.core.ClassMgr,a=0,o=t.length;o>a;a++){var l=t[a],c=this.__globalUsage[l];n.remove(c,e),i&&(s.unloadClass(l,r),this.invalidate(l,c.length>0))}},getInvalidClasspaths:function(e){var t=this.__invalidStack;return e&&(this.__invalidStack=[]),t}}});
//*******************
//LOGICAL-PATH:aria/templates/CSSTemplate.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.CSSTemplate",$extends:"aria.templates.BaseTemplate",$dependencies:["aria.templates.ICSS"],$constructor:function(){this.$BaseTemplate.constructor.call(this);var e=aria.core.Cache.getFilename(this.$classpath),t=aria.core.DownloadMgr.resolveURL(e,!0);this.cssPath="/"+this.$classpath.replace(/\./g,"/"),this.cssFolderPath=t.substring(0,t.lastIndexOf("/"))},$destructor:function(){this.$BaseTemplate.$destructor.call(this)},$prototype:{$init:function(e,t){e.$BaseTemplate.constructor.classDefinition.$prototype.$init(e,t);var i=aria.templates.ICSS.prototype;for(var r in i)i.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=i[r])}}});
//*******************
//LOGICAL-PATH:aria/templates/CmlClassGenerator.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.CmlClassGenerator",$extends:"aria.templates.ClassGenerator",$singleton:!0,$dependencies:["aria.templates.CSSParser","aria.templates.CSSClassGenerator"],$constructor:function(){this.$ClassGenerator.constructor.call(this),this._loadStatements(["CSSLibrary"]),this._parser=aria.templates.CSSParser,this._superClass="aria.templates.CSSTemplate",this._classType="CML",this._rootStatement="CSSLibrary",this._templateParamBean="aria.templates.CfgBeans.CSSLibraryCfg"},$prototype:{_writeClassInit:function(e){aria.templates.CSSClassGenerator._writeClassInit.call(this,e)}}});
//*******************
//LOGICAL-PATH:aria/templates/DomElementWrapper.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.DomElementWrapper",$dependencies:["aria.utils.Dom","aria.utils.DomOverlay","aria.utils.ClassList","aria.utils.sandbox.DOMProperties"],$constructor:function(e,t){if(e&&e.nodeType)for(;1!=e.nodeType;)e=e.parentNode;var i=e.tagName;this.tagName=i,this.getChild=function(t){var i=aria.utils.Dom.getDomElementChild(e,t);return i?new aria.templates.DomElementWrapper(i):null},this.getAttribute=function(t){if(!this.attributesWhiteList.test(t))return this.$logError(this.INVALID_ATTRIBUTE_NAME,[t]),null;var i=e.attributes[t];return i?i.value:null},this.setAttribute=function(t,i){var r=!this.attributesWhiteList.test(t)||"type"==t&&"INPUT"==e.tagName;r?this.$logError(this.ATTRIBUTE_WRITE_DENIED,[t]):e.setAttribute(t,i)},this.getData=function(t,i){if(!this.expandoNameRegex.test(t)||"_"==t.charAt(0))return this.$logError(this.INVALID_EXPANDO_NAME,[t]),null;var r="data-"+t,n=e.attributes[r];if(!n&&i)for(var s=e.parentNode;!n&&null!=s&&null!=s.attributes;)n=s.attributes[r],s=s.parentNode;return n?n.value:null},this.getParentWithData=function(t){if(!this.expandoNameRegex.test(t)||"_"==t.charAt(0))return this.$logError(this.INVALID_EXPANDO_NAME,[t]),null;for(var i="data-"+t,r=e,n=r.attributes[i];!n&&null!=r.parentNode;)r=r.parentNode,r.attributes&&(n=r.attributes[i]);return n?new aria.templates.DomElementWrapper(r):null},this.classList=new aria.utils.ClassList(e),this.focus=function(){try{return e.focus()}catch(t){this.$logDebug(this.FOCUS_FAILURE,e)}},this.setStyle=function(t){e.style.cssText=t},this.getProperty=function(t){return aria.utils.sandbox.DOMProperties.isReadSafe(i,t)?e[t]:(this.$logError(this.READ_ACCESS_DENIED,[t,i]),void 0)},this.setProperty=function(t,r){aria.utils.sandbox.DOMProperties.isWriteSafe(i,t)?e[t]=r:this.$logError(this.WRITE_ACCESS_DENIED,[t,i])},this.getParentWithName=function(t){if(!t||!e)return null;var i=Aria.$window.document.body;t=t.toUpperCase();for(var r=e.parentNode;r&&r!=i;){if(r.nodeName==t)return new aria.templates.DomElementWrapper(r);r=r.parentNode}return null},this.setProcessingIndicator=function(i,r){var n,s=!0;i?n=aria.utils.DomOverlay.create(e,r):(n=aria.utils.DomOverlay.detachFrom(e,r),n||(s=!1)),t&&s&&t.registerProcessingIndicator(i,n)},this.scrollIntoView=function(t){aria.utils.Dom.scrollIntoView(e,t)},this.getScroll=function(){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}},this.setScroll=function(t){t&&(t.hasOwnProperty("scrollLeft")&&null!=t.scrollLeft&&(e.scrollLeft=t.scrollLeft),t.hasOwnProperty("scrollTop")&&null!=t.scrollTop&&(e.scrollTop=t.scrollTop))},this._dispose=function(){this.setProcessingIndicator(!1),e=null,t=null,this.getChild=null,this.classList.$dispose(),this.getData=null,this.getAttribute=null,this.getProperty=null,this.setProperty=null,this.focus=null,this.setStyle=null,this.getParentWithName=null,this.getParentWithData=null,this.setProcessingIndicator=null}},$destructor:function(){this._dispose&&(this._dispose(),this._dispose=null)},$statics:{attributesWhiteList:/^(data\-\w+(?:\-\w+)*|aria\-[a-z]+|name|title|style|dir|lang|abbr|height|width|size|cols|rows|rowspan|colspan|nowrap|valign|align|border|cellpadding|cellspacing|disabled|readonly|checked|selected|multiple|value|alt|maxlength|type|accesskey|tabindex|placeholder|autocomplete|autofocus|autocorrect|autocapitalize|spellcheck)$/,expandoNameRegex:/^\w+(?:\-\w+)*$/,INVALID_EXPANDO_NAME:"Invalid expando name: '%1'.",INVALID_ATTRIBUTE_NAME:"Invalid attribute name: '%1'.",ATTRIBUTE_WRITE_DENIED:"Write access to attribute '%1' is not allowed.",FOCUS_FAILURE:"Could not focus element",READ_ACCESS_DENIED:"Access to property %1 of tag %2 is not allowed.",WRITE_ACCESS_DENIED:"Write access to property %1 of tag %2 is not allowed."},$prototype:{getChild:function(){},getAttribute:function(){},setAttribute:function(){},getData:function(){},getParentWithData:function(){},focus:function(){},setStyle:function(){},getValue:function(){return this.getProperty("value")},setValue:function(e){this.setProperty("value",e)},_dispose:function(){},getParentWithName:function(){},setProcessingIndicator:function(){},scrollIntoView:function(){},getScroll:function(){},setScroll:function(){}}});
//*******************
//LOGICAL-PATH:aria/templates/DomEventWrapper.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.DomEventWrapper",$extends:"aria.DomEvent",$dependencies:["aria.templates.DomElementWrapper"],$constructor:function(e){var t=aria.templates.DomElementWrapper;this.$DomEvent.constructor.call(this,e),this.target=this.target?new t(this.target):null,this.relatedTarget=this.relatedTarget?new t(this.relatedTarget):null},$destructor:function(){this.target&&(this.target.$dispose(),this.target=null),this.relatedTarget&&(this.relatedTarget.$dispose(),this.relatedTarget=null),this.$DomEvent.$destructor.call(this)},$prototype:{setTarget:function(e){this.target&&this.target.$dispose(),this.target=e?new aria.templates.DomElementWrapper(e):null}}});
//*******************
//LOGICAL-PATH:aria/templates/PublicWrapper.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.PublicWrapper",$prototype:{$publicInterfaceName:null,$publicInterface:function(){return this.$interface(this.$publicInterfaceName)}}});
//*******************
//LOGICAL-PATH:aria/templates/IFlowCtrl.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.templates.IFlowCtrl",$interface:{}});
//*******************
//LOGICAL-PATH:aria/templates/FlowCtrl.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.FlowCtrl",$extends:"aria.templates.PublicWrapper",$implements:["aria.templates.IFlowCtrl"],$dependencies:["aria.utils.String"],$constructor:function(){this.$PublicWrapper.constructor.call(this)},$destructor:function(){this.moduleCtrl=null,this.data=null,this.$PublicWrapper.$destructor.call(this)},$prototype:{$publicInterfaceName:"aria.templates.IFlowCtrl",setModuleCtrl:function(e){this.moduleCtrl=e},oninitCallback:function(){this.data=this.moduleCtrl.getData()}}});
//*******************
//LOGICAL-PATH:aria/templates/GlobalStyle.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.templates.GlobalStyle",$extends:"aria.templates.CSSTemplate",$constructor:function(){this.$CSSTemplate.constructor.call(this)},$destructor:function(){this.$CSSTemplate.$destructor.call(this)},$prototype:{macro_main:function(){try{with(this)this.__$write("\n\n.xLDI-text {\nposition: relative;\ntop: 50%;\ndisplay:block;\ntext-align:center;\npadding-top: 20px;\n}\n\n.xLDI {\n\nbackground-color: #fff;\n",22),this.macro_opacity(80),this.__$write("\nwidth: 100%;\nheight: 100%;\n}\n\n.xOverlay {\n\nbackground-color: #ddd;\nborder: 1px solid black;\n",35),this.macro_opacity(40),this.__$write("\n}\n\n.xModalMask-default {\nwidth:100%;\nheight:100%;\nbackground-color: black;\n",44),this.macro_opacity(40),this.__$write("\n}\n\n.xOverflowAuto {\noverflow: auto;\n}\n\n.xOverflowHidden {\noverflow: hidden;\n}\n\n.xOverflowXAuto {\noverflow-x: auto;\n}\n\n.xOverflowYAuto {\noverflow-y: auto;\n}\n\n.xOverflowXScroll {\noverflow-x: scroll;\n}\n\n.xOverflowYScroll {\noverflow-y: scroll;\n}\n\n.xOverflowXHidden {\noverflow-x: hidden;\n}\n\n.xOverflowYHidden {\noverflow-y: hidden;\n}\n\n\n.xTplContent {\n}\n\n",51)}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",this["aria:currentLineNumber"]],_ex)}},macro_opacity:function(percent){try{with(this)this.__$write("\nfilter: alpha(opacity=",92),this.__$write(percent,92),this.__$write(");\n-moz-opacity: ",92),this.__$write(percent/100,93),this.__$write(";\nopacity: ",93),this.__$write(percent/100,94),this.__$write(";\n",94)}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["opacity",this["aria:currentLineNumber"]],_ex)}},$init:function(e){e.__$csslibs={},e.__$prefix=!0},__$initTemplate:function(){return!0}}});
//*******************
//LOGICAL-PATH:aria/templates/IModuleCtrl.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.templates.IModuleCtrl",$events:{methodCallBegin:"",methodCallEnd:"",methodCallback:"",beforeDispose:""},$interface:{init:{$type:"Function",$callbackParam:1},getData:function(){},setData:function(){},getResourceSet:function(){},getSubModuleCtrl:function(){},registerListener:function(){},unregisterListeners:function(){},setSession:function(){}}});
//*******************
//LOGICAL-PATH:aria/templates/IObjectLoading.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.templates.IObjectLoading",$events:{objectLoaded:""},$interface:{}});
//*******************
//LOGICAL-PATH:aria/templates/ITemplate.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.templates.ITemplate",$extends:"aria.templates.IBaseTemplate",$events:{SectionRefreshed:""},$interface:{data:"Object",moduleCtrl:"Object",flowCtrl:"Object",moduleRes:"Object",$refresh:function(){},$getChild:function(){},$getElementById:function(){},$focus:function(){},$getFocusedWidget:function(){},$setFocusedWidget:function(){},$hdim:function(){},$vdim:function(){},$getId:function(){},getContainerScroll:function(){},setContainerScroll:function(){},__$writeId:function(){},__$processWidgetMarkup:function(){},__$beginContainerWidget:function(){},__$endContainerWidget:function(){},__$statementOnEvent:function(){},__$statementRepeater:function(){},__$createView:function(){},__$beginSection:function(){},__$endSection:function(){},__$bindAutoRefresh:function(){}}});
//*******************
//LOGICAL-PATH:aria/templates/ITemplateCtxt.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.templates.ITemplateCtxt",$interface:{tplClasspath:"Object",moduleCtrl:"Object",moduleCtrlPrivate:"Object",moduleRes:"Object",flowCtrl:"Object",flowCtrlPrivate:"Object",data:"Object",$reload:"Function"}});
//*******************
//LOGICAL-PATH:aria/templates/TemplateCtxtManager.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.TemplateCtxtManager",$extends:"aria.utils.Store",$dependencies:["aria.utils.Array","aria.utils.AriaWindow"],$singleton:!0,$constructor:function(){this.$Store.constructor.call(this),this._rootTemplateContexts=[],Aria.rootTemplates=this._rootTemplateContexts,aria.utils.AriaWindow.$on({unloadWindow:this._unloadWindow,scope:this})},$destructor:function(){Aria.rootTemplates=this._templateContexts=null,aria.utils.AriaWindow.$unregisterListeners(this),this.$Store.$destructor.call(this)},$prototype:{_unloadWindow:function(){for(var e=Aria.rootTemplates,t=e.length-1;t>=0;t--)e[t].$dispose()},add:function(e){e._cfg&&e._cfg.isRootTemplate&&(this._rootTemplateContexts.push(e),aria.utils.AriaWindow.attachWindow()),this.$Store.add.call(this,e)},remove:function(e){return e._cfg&&e._cfg.isRootTemplate&&aria.utils.Array.remove(this._rootTemplateContexts,e)&&aria.utils.AriaWindow.detachWindow(),this.$Store.remove.call(this,e)},getFromDom:function(e){var t=function(t){return e==t.getContainerDiv()};return this.getMatch(t)},disposeFromDom:function(e){var t=function(t){return e==t.getContainerDiv()},i=this.removeMatch(t);return i?(i.$dispose(),!0):!1},getRootCtxts:function(){return this._rootTemplateContexts}}});
//*******************
//LOGICAL-PATH:aria/templates/Layout.js
//*******************
(function(){var e,t,i,r,n,a={width:{},height:{}},s=null,o=function(){null==s&&(s=[],aria.utils.AriaWindow.attachWindow(),i.addListener(Aria.$window,"resize",{fn:h}))},l=function(){r&&(t.cancelCallback(r),r=null),null!=s&&(i.removeListener(Aria.$window,"resize",{fn:h}),aria.utils.AriaWindow.detachWindow(),s=null)},c=function(){null==s&&e._listeners&&e._listeners.viewportResized?o():null==s||0!==s.length||null!=e._listeners&&null!=e._listeners.viewportResized||l()},u=function(t){var i;(null!=t.min||null!=t.max)&&(i=Aria.minSizeMode&&null!=t.min?t.min:t.viewport,null!=i?(t.scrollbar&&(i-=e.getScrollbarsWidth()),null!=t.min&&t.min>i&&(i=t.min),null!=t.max&&i>t.max&&(i=t.max)):t.min==t.max&&(i=t.min)),t.value=i},h=function(){r&&(t.cancelCallback(r),r=null),r=t.addCallback({fn:d,scope:e,delay:50})},p=function(){var t=e.viewportSize,i=aria.utils.Dom._getViewportSize();return i.width!=t.width||i.height!=t.height?(e.viewportSize=i,e.setSOViewport(a.width,i.width),e.setSOViewport(a.height,i.height),!0):!1},d=function(){if(r=null,p()){for(var t=s.length,i=0;t>i;i++){var n=s[i];e.setDivSize(n.domElt,n.width,n.height);var a=aria.templates.TemplateCtxtManager.getFromDom(n.domElt);if(a){var o=!1;a.$setViewportWidth(f(n.width,"width"))&&(o=!0),a.$setViewportHeight(f(n.height,"height"))&&(o=!0),o&&a.$refresh()}}p(),e.$raiseEvent({name:"viewportResized",viewportNewSize:e.viewportSize})}},f=function(t,i){return"object"==typeof t&&(t=e.getSODim(a[i],t.min,t.incrementFactor,t.max)),t};Aria.classDefinition({$classpath:"aria.templates.Layout",$dependencies:["aria.templates.CfgBeans","aria.templates.TemplateCtxtManager","aria.utils.Event","aria.core.Browser","aria.utils.Dom","aria.utils.AriaWindow"],$singleton:!0,$events:{viewportResized:""},$constructor:function(){e=this,t=aria.core.Timer,p(),i=aria.utils.Event},$destructor:function(){l(),e=null,t=null,i=null},$statics:{LAYOUT_INCOHERENT_MIN_MAX:"Error while setting size configuration: min (%1) > max (%2).",MINSIZE_UNDEFINED:"vdim or hdim cannot be used if container has no minimum size."},$prototype:{viewportSize:{width:null,height:null},$on:function(){this.$JsObject.$on.apply(this,arguments),c()},$unregisterListeners:function(){this.$JsObject.$unregisterListeners.apply(this,arguments),c()},$addListeners:function(){this.$JsObject.$addListeners.apply(this,arguments),c()},$removeListeners:function(){this.$JsObject.$removeListeners.apply(this,arguments),c()},registerAutoresize:function(e,t,i){null==s&&o(),s.push({domElt:e,width:t,height:i})},unregisterAutoresize:function(e){if(null!=s){for(var t=s.length,i=[],r=0;t>r;r++){var n=s[r];n.domElt!=e&&i.push(n)}s=i,0===i.length&&c()}},setRootDim:function(e){aria.core.JsonValidator.check(e,"aria.templates.CfgBeans.RootDimCfg"),this.setSOSizeCfg(a.width,e.width),this.setSOSizeCfg(a.height,e.height)},realWidth:function(e){return f(e,"width")},realHeight:function(e){return f(e,"height")},setDivSize:function(e,t,i,r){null==r&&(r="auto"),t=f(t,"width"),i=f(i,"height");var n=e.style;t&&(n.width=t+"px"),i&&(n.height=i+"px");var a="";(null!=t||null!=i)&&("auto"==r?a=" xOverflowAuto":"hidden"==r&&(a=" xOverflowHidden"));var s=e.className;s?(s=s.replace(/\s*xOverflow\w+/g,""),s+=a):s=a,e.className=s},setSOSizeCfg:function(e,t){null!=t.value&&(t.min=t.value,t.max=t.value),e.min=t.min,e.max=t.max,e.scrollbar=t.scrollbar,null!=e.min&&null!=e.max&&e.min>e.max&&(this.$logError(this.LAYOUT_INCOHERENT_MIN_MAX,[e.min,e.max]),e.max=void 0),u(e)},setSOViewport:function(e,t){e.viewport=t,u(e)},getSODim:function(e,t,i,r){var n=e.min;if(null==n)return this.$logError(this.MINSIZE_UNDEFINED),t;var a=e.value;null==i&&(i=1);var s=parseInt(t+(a-n)*i,10);return null!=r&&s>r&&(s=r),s},getScrollbarsWidth:function(){if(null!=n)return n;var e=Aria.$window.document,t=e.createElement("div"),i=e.createElement("div");return t.style.overflow="",t.style.position="absolute",t.style.left="-10000px",t.style.top="-10000px",t.style.width="500px",t.style.height="500px",aria.core.Browser.isIE7||(i.style.width="100%"),i.style.height="100%",e.body.appendChild(t),t.appendChild(i),n=i.offsetWidth,t.style.overflow="scroll",n-=i.offsetWidth,e.body.removeChild(t),n}}})})();
//*******************
//LOGICAL-PATH:aria/templates/LegacyGeneralStyle.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.templates.LegacyGeneralStyle",$extends:"aria.templates.CSSTemplate",$constructor:function(){this.$CSSTemplate.constructor.call(this)},$destructor:function(){this.$CSSTemplate.$destructor.call(this)},$dependencies:["aria.widgets.AriaSkinInterface"],$csslibs:["aria.widgets.TextStyle"],$prototype:{macro_main:function(){try{with(this){var general=aria.widgets.AriaSkinInterface.getGeneral();this.macro_writeGeneralStyle(general)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",this["aria:currentLineNumber"]],_ex)}},macro_writeGeneralStyle:function(general){try{with(this)general.font&&(this.__$write("\nbody, textarea, select, input, button, table {\n",32),this.text.macro_writeFontStyleInner(general.font),this.__$write("\n}\n",34)),general.anchor&&general.anchor.states&&this.text.macro_writeAnchorsStyle(general.anchor.states),general.disable.ul.list.style||this.__$write("\nul, li {list-style-type:none;}\n",43)}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeGeneralStyle",this["aria:currentLineNumber"]],_ex)}},$init:function(e){e.__$csslibs={text:"aria.widgets.TextStyle"},e.__$prefix=!0},__$initTemplate:function(){return!0}}});
//*******************
//LOGICAL-PATH:aria/templates/NavigationManager.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.NavigationManager",$singleton:!0,$dependencies:["aria.utils.Type","aria.templates.CfgBeans"],$constructor:function(){this._tableNavMarker=Aria.FRAMEWORK_PREFIX+"tableNavDone",this._keyMapMarker=Aria.FRAMEWORK_PREFIX+"keyMapDone",this.globalKeyMap=[],this._hasModalBehaviour=!1},$statics:{INVALID_GLOBAL_KEYMAP_CFG:"Invalid global keymap configuration."},$prototype:{addGlobalKeyMap:function(e){var t={json:e,beanName:"aria.templates.CfgBeans.GlobalKeyMapCfg"};aria.core.JsonValidator.normalize(t)?(e=t.json,this.globalKeyMap.push(e)):this.$logError(this.INVALID_GLOBAL_KEYMAP_CFG)},removeGlobalKeyMap:function(e){for(var t,i=0,r=this.globalKeyMap.length;r>i;i++)if(t=this.globalKeyMap[i],t.key==e.key&&!!e.alt==!!t.alt&&!!e.shift==!!t.shift&&!!e.ctrl==!!t.ctrl)return this.globalKeyMap.splice(i,1),!0;return!1},handleNavigation:function(e,t,i){("keyup"==i.type||"keydown"==i.type)&&(i[this._tableNavMarker]||"keydown"!=i.type||(i[this._tableNavMarker]=this._handleTableNavigation(t,i)),i[this._keyMapMarker]||(i[this._keyMapMarker]=this._handleKeyMap(e,i)))},handleGlobalNavigation:function(e){("keyup"==e.type||"keydown"==e.type)&&(e[this._keyMapMarker]||(e[this._keyMapMarker]=this._handleKeyMap(this.globalKeyMap,e,!0)))},focusFirst:function(e,t){var i;if(1==e.nodeType){for(var r,n=e.childNodes,a=n.length,s=t?a-1:0;s>-1&&a>s;t?s--:s++){if(r=n[s],i={fn:function(){this._focusNext(r,t)},scope:this},this._doFocus(r,i))return!0;if(this.focusFirst(r,t))return!0}return!1}return!1},setModalBehaviour:function(e){this._hasModalBehaviour=e},_focusNext:function(e,t){for(var i,r=Aria.$window.document.body;!i;)if(i=t?e.previousSibling:e.nextSibling,!i&&(e=e.parentNode,!e||e==r))return!1;return this._doFocus(i)||this.focusFirst(i,t)?!0:this._focusNext(i,t)},_doFocus:function(e,t){if(1!=e.nodeType)return!1;if(e.__widget){if(e.__widget.focus){var i=e.__widget.focus(null,t);return!!i}return!1}var r=e.nodeName,n=e.getAttributeNode("tabindex");if(("INPUT"==r||"TEXTAREA"==r||"A"==r||"BUTTON"==r||n&&n.specified&&-1!=n.nodeValue)&&!e.disabled)try{return e.focus(),!0}catch(a){return!1}return!1},_handleTableNavigation:function(e,t){var i=t.keyCode,r=!1;if(e===!1||i>40||37>i)return!0;if(!e)return!1;e===!0&&(e={});var n=this._validateModifiers(e,t);if(n){var a=t.target,s=this._getContainingTD(a);if(s){var o=s.parentNode.parentNode,l=this._getTableMap(o,s);r=this._navigateMap(o,l,t)}else i==t.KC_ARROW_DOWN?r=this._focusNext(a):i==t.KC_ARROW_UP&&(r=this._focusNext(a,!0));return r&&t.preventDefault(),!0}},_validateModifiers:function(e,t){return t.altKey==!!e.alt&&t.shiftKey==!!e.shift&&t.ctrlKey==!!e.ctrl},_navigateMap:function(e,t,i){var r=i.keyCode,n=t.map,a=t.pos,s=0,o=0;r==i.KC_ARROW_UP?s=-1:r==i.KC_ARROW_DOWN?s=1:o=r==i.KC_ARROW_LEFT?-1:1;var l,c,u,h,p=!1,d=a,f=a.rowIndex,_=a.mapCellIndex;do{if(0!==o?_+=o:f+=s,0>f||f>=n.length)return this._focusNext(e,0>f);if(l=n[f],h=!1,0>_||_>=l.length){if(0===s)return!1;1==o?(o=-1,_=a.mapCellIndex):(o=1,_=a.mapCellIndex-1,f+=s),h=!0}if(!h&&(u=n[f][_],u!=d&&(0!==s&&0!==o&&(-1==s&&u.rowIndex+u.rowSpan-1!=f?h=!0:1==s&&u.rowIndex!=f&&(h=!0)),!h))){if(c=e.rows[u.rowIndex].cells[u.cellIndex],d=u,!c)return!1;p=this.focusFirst(c),p||0===s||0!==o||(o=1)}}while(!p);return!0},_getContainingTD:function(e){for(var t=Aria.$window.document.body,i=e;i&&i!=t;){if("TD"==i.nodeName&&!i.parentNode.parentNode.attributes.isFrame)return i;i=i.parentNode}},_getTableMap:function(e,t){for(var i,r=[],n=e.rows,a=0,s=n.length;s>a;a++){var o=n[a].cells,l=r[a];l||(l=[],r[a]=l);for(var c=0,u=0,h=o.length;h>u;u++){for(var p=o[u],d=p.rowSpan,f=p.colSpan,_=l[c];_;)_=l[++c];var m={rowIndex:a,cellIndex:u,rowSpan:d,mapCellIndex:c};p==t&&(i=m);for(var g=0;d>g;g++){var y=r[a+g];y||(y=[],r[a+g]=y);for(var v=0;f>v;v++)y[c+v]=m}c+=f}}return{map:r,pos:i}},_handleKeyMap:function(e,t,i){var r,n,a=t.keyCode,s=!1,o=!1;if(!e||!a)return!1;for(var l,c=0;l=e[c];c++)if(this._validateModifiers(l,t)){if(n=l&&"event"in l?l.event:"keydown",!l.key||n!=t.type)return!1;if(i===!0&&this._hasModalBehaviour&&!l.modal)continue;if(aria.utils.Type.isNumber(l.key)){if(l.key==a){s=this.$callback(l.callback),o=!0;break}}else if("*"!==l.key){if(t["KC_"+l.key.toUpperCase()]==a){s=this.$callback(l.callback),o=!0;break}}else r=l.callback}return o?s?!1:(t.preventDefault(),!0):r?!this.$callback(r):!1}}});
//*******************
//LOGICAL-PATH:aria/templates/SectionWrapper.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.SectionWrapper",$extends:"aria.templates.DomElementWrapper",$dependencies:["aria.utils.DomOverlay","aria.utils.Dom"],$constructor:function(e,t){if(e)for(;1!=e.nodeType;)e=e.parentNode;this.$DomElementWrapper.constructor.call(this,e,t.tplCtxt),this.insertAdjacentSection=function(i,r){return"beforeBegin"!=i&&"afterBegin"!=i&&"beforeEnd"!=i&&"afterEnd"!=i?(this.$logError(aria.utils.Dom.INSERT_ADJACENT_INVALID_POSITION,[i]),void 0):(t.tplCtxt.insertAdjacentSections({position:i,refSection:{domElt:e,object:t},sections:[r]}),void 0)},this.remove=function(){t.$dispose();var i=e.parentNode;aria.utils.Dom.removeElement(e),aria.utils.Dom.refreshDomElt(i),this.$dispose()},this.setProcessingIndicator=function(i,r){var n,a=!0;i?n=aria.utils.DomOverlay.create(e,r):(n=aria.utils.DomOverlay.detachFrom(e),n||(a=!1)),a&&t.registerProcessingIndicator(i,n)};var i=this.classList.setClassName;this.classList.setClassName=function(e){i.call(this,e),t.cssClass=e};var r=this.setClassName;this.setClassName=function(e){r.call(this,e),t.cssClass=e};var n=this._dispose;this._dispose=function(){n.call(this),t=null,n=null,r=null}},$prototype:{}});
//*******************
//LOGICAL-PATH:aria/templates/Section.js
//*******************
(function(){var e=null,t=0,i=1,r=/^[\w\-:\.]+\+?$/;Aria.classDefinition({$classpath:"aria.templates.Section",$dependencies:["aria.utils.Array","aria.utils.Json","aria.utils.Delegate","aria.templates.NavigationManager","aria.templates.CfgBeans","aria.utils.Dom","aria.utils.String","aria.utils.Json","aria.templates.DomElementWrapper","aria.utils.Html","aria.templates.DomEventWrapper","aria.utils.IdManager","aria.templates.SectionWrapper"],$onload:function(){e=new aria.utils.IdManager("s")},$onunload:function(){e.$dispose(),e=null},$constructor:function(e,t,i){var n,a,s,o;if(this._content=[],this.parent=null,this._initWidgetsDone=!1,this.html=null,this._bindings=[],this._processing=null,this.delegateIds=[],this.cfgOk=!0,this.tplCtxt=e,this.delegateCallbacks=[],this.isRoot=i&&i.isRoot===!0,this.idMap=i&&i.ownIdMap?{}:null,this._cfg=t,this._normalizeCallbacks(),this.delegateId=aria.utils.Delegate.add({fn:this._onDomEvent,scope:this}),!this.isRoot&&(this.cfgOk=aria.core.JsonValidator.validateCfg("aria.templates.CfgBeans."+this.$class+"Cfg",t,{msg:this.INVALID_CONFIGURATION,params:[this.tplCtxt.tplClasspath,t.id]}),this.cfgOk)){o=t.type,a=t.bindRefreshTo,s=t.id;var l;if(s){if(!r.test(s))return this.$logError(this.INVALID_SECTION_ID,[this.tplCtxt.tplClasspath,s]),this.cfgOk=!1,void 0;s.indexOf("+")>-1&&(Aria.testMode&&(l=this.tplCtxt.$getAutoId(s)),delete t.id,s=null)}this.domType=o,this._domId=l||(s?this.tplCtxt.$getId(s):this._createDynamicId()),this.id=s||"_gen_"+this._domId,this.cssClass=t.cssClass,this.keyMap=t.keyMap,this.tableNav=t.tableNav,this.processingLabel=t.processingLabel,this.__skipProcessingChange=!1,this.macro=t.macro?e.checkMacro(t.macro):null,this.wrapper=null;for(var c=0;n=a[c];c++)this.registerBinding(n,this._notifyDataChange);this.registerProcessing(t.bindProcessingTo),this._refreshMgrInfo=null,this.attributes=t.attributes;var u=t.bind&&t.bind.attributes?t.bind.attributes:null;u&&(this.attributes=u.inside[u.to],this.registerBinding(u,this._notifyAttributeChange))}},$destructor:function(){this.removeDelegateIdsAndCallbacks(),this._releaseAllDynamicIds(),this.delegateId&&(aria.utils.Delegate.remove(this.delegateId),this.delegateId=null),this._content&&(this.removeContent(),this.id&&this.idMap&&(this.idMap[this.id]=null,delete this.idMap[this.id]),this._content=null,this.idMap=null);var e=this.parent;e&&(this.parent=null,e.removeSubSection(this)),this._listenersStopped!==!0&&this.stopListeners(),this._processing=null,this.setDom(null),this.html=null,this._refreshMgrInfo=null,this.tplCtxt=null,this._cfg=null},$events:{beforeRemoveContent:"",afterRemoveContent:""},$statics:{MISSING_TO_BINDING:"Invalid Binding Configuration: 'to' is mandatory",INVALID_TO_BINDING:"Invalid Binding Configuration: 'to' must be a Boolean value or null",WIDGETCALL_ERROR:"Error in '%2' for widget '%1'.",INVALID_SECTION_ID:"Error in template '%1': invalid section id '%2'.",SECTION_ALREADY_EXISTS:"Error in template '%1': section uses already used id '%2'.",SECTION_BINDING_ERROR:"Section binding failed. Inside: %1, to: %2. Section id: %3, template: %4.",INVALID_CONFIGURATION:"Error in template '%1': invalid configuration for section id '%2'.",WIDGET_ID_NOT_UNIQUE:"The %1 widget with id %2 does not have a unique id",SECTION_CALLBACK_ERROR:"The callback function raised an exception. Template: '%1'\nSection: '%2'\nEvent: '%3' "},$prototype:{$init:function(e){e.__navigationManager=aria.templates.NavigationManager,e.__json=aria.utils.Json},_type:t,initWidgets:function(){var e=[];if(this._initWidgetsDone)return e;this._initWidgetsDone=!0,this.html=null;for(var t=this._content,r=t.length,n=0;r>n;n++){var a=t[n];if(a._type==i){var s=a.behavior;if(s.initWidget)try{s.initWidget(),s.isDiffered&&e.push(s)}catch(o){this.$logError(this.WIDGETCALL_ERROR,[s.$classpath,"initWidget"],o)}}else e=e.concat(a.initWidgets())}return this.refreshProcessingIndicator(),e},removeContent:function(){this.$raiseEvent("beforeRemoveContent"),this._removingContent=!0;for(var e=this._content,t=e.length,r=0;t>r;r++){var n=e[r];if(n._type==i){var a=n.behavior;n.id&&this.idMap&&(this.idMap[n.id]=null,delete this.idMap[n.id]),a.$dispose()}else n.$dispose()}this._content=[],this._initWidgetsDone=!1,this._removingContent=!1,this.$raiseEvent("afterRemoveContent")},removeDelegateIdsAndCallbacks:function(){if(this.delegateIds){for(var e=0,t=this.delegateIds.length;t>e;e++)aria.utils.Delegate.remove(this.delegateIds[e]);this.delegateIds=[]}for(var e=0,t=this.delegateCallbacks.length;t>e;e++)this.delegateCallbacks[e].$dispose();this.delegateCallbacks=[]},addBehavior:function(e){var t=e.getId?e.getId():null,r={_type:i,behavior:e,section:this,id:t};t&&this.idMap&&(this.idMap[t]?(this.$logError(this.WIDGET_ID_NOT_UNIQUE,[this.tplCtxt.tplClasspath,t,e.$class]),r.id=null):this.idMap[t]=r),this._content.push(r)},getBehaviorById:function(e){var t=this.idMap?this.idMap[e]:null;return t&&t._type==i?t.behavior:null},getSectionById:function(e){var i=this.idMap?this.idMap[e]:null;return i&&i._type==t?i:null},addSubSection:function(e){this.$assert(141,!e.parent),this.$assert(142,e._type==t),this.$assert(143,e.tplCtxt==this.tplCtxt),e.parent=this,e.__updateIdMap(this.idMap),this._content.push(e)},__updateIdMap:function(e){if(this.idMap!=e){this.idMap=e;var i=this.id;i&&e&&(e[i]?this.$logError(this.SECTION_ALREADY_EXISTS,[this.tplCtxt.tplClasspath,i]):e[i]=this);for(var r=this._content,n=r.length,a=0;n>a;a++){var s=r[a];s._type==t?s.__updateIdMap(e):(i=s.id,i&&e&&(e[i]?this.$logError(this.WIDGET_ID_NOT_UNIQUE,[this.tplCtxt.tplClasspath,i,s.behavior.$class]):e[i]=s))}}},removeSubSection:function(e){this._removingContent||aria.utils.Array.remove(this._content,e)},registerBinding:function(e,t){if(e){var i={fn:t||this._notifyDataChange,scope:this,args:{tplCtxt:this.tplCtxt}};try{e.recursive=e.recursive!==!1,this.__json.addListener(e.inside,e.to,i,!0,e.recursive),this._bindings.push({inside:e.inside,callback:i,to:e.to,recursive:e.recursive})}catch(r){this.$logError(this.SECTION_BINDING_ERROR,[e.inside,e.to,this.id,this.tplCtxt.tplClasspath])}}},__isValidProcessingBind:function(e){if(!e||null==e.to)return this.$logError(this.MISSING_TO_BINDING),!1;var t=e.inside[e.to];return null==t||aria.utils.Type.isBoolean(t)?!0:(this.$logError(this.INVALID_TO_BINDING),!1)},registerProcessing:function(e){e&&this.__isValidProcessingBind(e)&&(this.registerBinding(e,this._notifyProcessingChange),this._processing={inside:e.inside,to:e.to})},registerProcessingIndicator:function(e,t){var i=this._processing,r=!!i;this.tplCtxt.registerProcessingIndicator(e,t,this.id),r&&(this.__skipProcessingChange=!0,this.__json.setValue(i.inside,i.to,e),this.__skipProcessingChange=!1)},refreshProcessingIndicator:function(e){if(e)for(var t=this._content,i=0,r=t.length;r>i;i++)t[i].refreshProcessingIndicator?t[i].refreshProcessingIndicator(!0):t[i].behavior&&t[i].behavior.subTplCtxt&&t[i].behavior.subTplCtxt.refreshProcessingIndicator();var n=this._processing,a=!!n;a&&n.inside[n.to]&&this.getWrapper().setProcessingIndicator(!0,this.processingLabel)},_notifyDataChange:function(e,t){this._initWidgetsDone&&t.tplCtxt._cfg&&t.tplCtxt._cfg.tplDiv&&(this.macro?t.tplCtxt.$refresh({outputSection:this.id,macro:this.macro}):t.tplCtxt.$refresh({filterSection:this.id}))},_notifyAttributeChange:function(e){var t,i,r=this.getDom();if(this._cfg.bind&&e.dataName===this._cfg.bind.attributes.to){for(t in e.oldValue)e.oldValue.hasOwnProperty(t)&&!e.newValue[t]&&r.removeAttribute(t);for(t in e.newValue)e.newValue.hasOwnProperty(t)&&!aria.utils.Json.isMetadata(t)&&aria.templates.DomElementWrapper.attributesWhiteList.test(t)&&e.newValue[t]!==e.oldValue[t]&&null!=e.newValue[t]&&r.setAttribute(t,e.newValue[t])}else aria.templates.DomElementWrapper.attributesWhiteList.test(e.dataName)&&e.newValue!==e.oldValue&&(i=e.newValue?!1:!0,i?r.removeAttribute(e.dataName,e.newValue):r.setAttribute(e.dataName,e.newValue))},_notifyProcessingChange:function(e){this.__skipProcessingChange||this.getWrapper().setProcessingIndicator(e.newValue,this.processingLabel)},getWrapper:function(){var e=this.wrapper;return e||(this.wrapper=e=new aria.templates.SectionWrapper(this.getDom(),this)),e},writeBegin:function(e){if(this.domType){var t=this.cssClass?' class="'+this.cssClass+'"':"",i=this.attributes?aria.utils.Html.buildAttributeList(this.attributes):"",r=["<",this.domType,i,t,' id="',this._domId,'" ',aria.utils.Delegate.getMarkup(this.delegateId),">"];e.write(r.join(""))}},writeEnd:function(e){this.domType&&e.write("</"+this.domType+">")},_onDomEvent:function(e){if(this.__navigationManager.handleNavigation(this.keyMap,this.tableNav,e),this._cfg&&this._cfg.on){var t=this._cfg.on[e.type];if(t){var i,r=new aria.templates.DomEventWrapper(e);try{i=t.fn.call(t.scope,r,t.args)}catch(n){this.$logError(this.SECTION_CALLBACK_ERROR,[this.tplCtxt.tplClasspath,this._cfg.id,e.type],n)}return r.$dispose(),i}}},_normalizeCallbacks:function(){var e=this._cfg?this._cfg.on:null;if(e)for(var t in e)e.hasOwnProperty(t)&&(e[t]=this.$normCallback(e[t]))},copyConfigurationTo:function(e){this.$assert(708,null==e.idMap),e.id=this.id,e.domType=this.domType,e.tableNav=this.tableNav,e.keyMap=this.keyMap,e.macro=this.macro},notifyRefreshPlanned:function(e){var t=this._registerInRefreshMgr();t.queue=null,t.refreshArgs=e},_registerInRefreshMgr:function(){var e=this._refreshMgrInfo;return e||(e={refreshArgs:null,queue:[]},this._refreshMgrInfo=e,aria.templates.RefreshManager.queue({fn:this._refreshManagerCallback,scope:this},this)),e},_refreshManagerCallback:function(){var e=this._refreshMgrInfo;if(e){this._refreshMgrInfo=null;var t=e.queue;t||this.tplCtxt.$refresh(e.refreshArgs)}},beforeRefresh:function(e){var t=this.macro;if(t)if(e.macro){var i=e.macro;aria.utils.Type.isObject(i)&&!i.name&&(i.name=t.name,i.scope=t.scope,i.args||(i.args=t.args))}else e.macro=t;this._domElt=null},getDom:function(){return this._domElt||(this._domElt=aria.utils.Dom.getElementById(this._domId)),this._domElt},setDom:function(e){this._domElt=e,this.wrapper&&(this.wrapper.$dispose(),this.wrapper=null)},_createDynamicId:function(){var t=e.getId();return this._dynamicIds?this._dynamicIds.push(t):this._dynamicIds=[t],t},_releaseAllDynamicIds:function(){var t=this._dynamicIds;if(t){for(var i=t.length-1;i>=0;i--)e.releaseId(t[i]);this._dynamicIds=null}},moveContentTo:function(e){var i=this._content;this.$assert(805,null==this.idMap),this.$assert(806,i);for(var r=e._content,n=r.length,a=0,s=i.length;s>a;a++){var o=i[a];r[n+a]=o,o._type==t&&(o.parent=e)}this.__updateIdMap(e.idMap),e.delegateIds=e.delegateIds.concat(this.delegateIds),e.delegateCallbacks=e.delegateCallbacks.concat(this.delegateCallbacks),this.delegateIds=[],this.delegateCallbacks=[];var l=null;return e._initWidgetsDone&&(l=this.initWidgets()),this.idMap=null,this._content=[],l},stopListeners:function(){this.$assert(838,this._listenersStopped!==!0),this._listenersStopped=!0;var e=this._bindings;if(e)for(var t,i=0;t=e[i];i++)this.__json.removeListener(t.inside,t.to,t.callback,t.recursive)},resumeListeners:function(){this.$assert(859,this._listenersStopped===!0),this._listenersStopped=!1;var e=this._bindings;if(e)for(var t,i=0;t=e[i];i++)this.__json.addListener(t.inside,t.to,t.callback,!0,t.recursive)},writeContent:function(e){this.macro&&e.callMacro(this.macro)}}})})();
//*******************
//LOGICAL-PATH:aria/templates/MarkupWriter.js
//*******************
(function(){Aria.classDefinition({$classpath:"aria.templates.MarkupWriter",$dependencies:["aria.templates.Section","aria.utils.Delegate","aria.templates.DomEventWrapper","aria.utils.Type"],$constructor:function(e,t){var i=t?t.filterSection:null;this._out=[],this._ctrlStack=[],this.tplCtxt=e,this.sectionState=i?this.SECTION_SEARCHING:this.SECTION_KEEP,this.write=i?this.__writeSkip:this.__writeOK,this._filterSection=i,this._topSection=i?null:new aria.templates.Section(this.tplCtxt,null,{isRoot:!0,ownIdMap:t&&t.ownIdMap}),this._currentSection=this._topSection,this._delegateMap=null},$destructor:function(){this._currentSection=null,this._delegateMap=null,this._topSection&&(this._topSection.$dispose(),this._topSection=null)},$statics:{SECTION_SEARCHING:0,SECTION_KEEP:1,SECTION_SKIP:2,SECTION_FILTER_NOT_FOUND:"Error while refreshing template '%1': filter section '%2' was not found."},$prototype:{skipContent:!1,_beginSectionOrRepeater:function(e,t){if(this.sectionState!=this.SECTION_SKIP){var i=e.id;if(this.sectionState==this.SECTION_KEEP||i==this._filterSection){var r=new t(this.tplCtxt,e);if(!r.cfgOk)return r.$dispose(),void 0;this.sectionState==this.SECTION_KEEP?(this._currentSection&&this._currentSection.addSubSection(r),r.writeBegin(this)):(this.sectionState=this.SECTION_KEEP,this.write=this.__writeOK),this._currentSection=r,r.writeContent(this)}}},repeater:function(e){this._beginSectionOrRepeater(e,aria.templates.Repeater),this.endSection()},beginSection:function(e){this._beginSectionOrRepeater(e,aria.templates.Section)},endSection:function(){if(this.sectionState==this.SECTION_KEEP){var e=this._currentSection;e.id==this._filterSection?(this._topSection=this._currentSection,this.sectionState=this.SECTION_SKIP,this.write=this.__writeSkip):this.sectionState==this.SECTION_KEEP&&(e.writeEnd(this),this._currentSection=e.parent),this.$assert(99,!!this._currentSection)}},addToCtrlStack:function(e){this._ctrlStack.push(e)},removeFromCtrlStack:function(){return this._ctrlStack.pop()},__writeOK:function(e){if(this._delegateMap&&(e||0===e)){e=""+e;var t=e.indexOf(">");if(-1!=t){var i=this._delegateMap;this._delegateMap=null;var r=function(e){var t=new aria.templates.DomEventWrapper(e),r=!0,n=i[e.type];return n&&(r=n.call(t)),t.$dispose(),r},n=aria.utils.Delegate.add(r);return this._currentSection.delegateIds.push(n),this._out.push(e.substring(0,t)),this._out.push(" "+aria.utils.Delegate.getMarkup(n)),this._out.push(e.substring(t)),void 0}}this._out.push(e)},__writeSkip:function(){},pushDelegate:function(e,t){if(this._currentSection){var i=aria.utils.Delegate;if(this.sectionState==this.SECTION_KEEP){if(!i.isDelegated(e)){var r=i.add(t);return this._currentSection.delegateIds.push(r),this.write(i.getFallbackMarkup(e,r,!0)),void 0}t=new aria.utils.Callback(t),this._currentSection.delegateCallbacks.push(t),this._delegateMap||(this._delegateMap={}),this._delegateMap[e]=t}}},registerBehavior:function(e){this._currentSection&&this._currentSection.addBehavior(e)},callMacro:function(e){this.tplCtxt._callMacro(this,e)},getSection:function(){var e=this._topSection;return e?(e.html=this._out.join(""),this._delegate=null):this.$logError(this.SECTION_FILTER_NOT_FOUND,[this.tplCtxt.tplClasspath,this._filterSection]),this._out=null,this._topSection=null,e}}})})();
//*******************
//LOGICAL-PATH:aria/templates/ObjectLoading.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.ObjectLoading",$extends:"aria.templates.PublicWrapper",$implements:["aria.templates.IObjectLoading"],$constructor:function(){this.$PublicWrapper.constructor.call(this)},$prototype:{$publicInterfaceName:"aria.templates.IObjectLoading",notifyObjectLoaded:function(e){this.$raiseEvent({name:"objectLoaded",object:e})}}});
//*******************
//LOGICAL-PATH:aria/templates/ModuleCtrlFactory.js
//*******************
(function(){var e,t,i,r,n,s,a,o,l,c,u,h,p,d="__$moduleCtrlId",f={},_=aria.core.Interfaces.generateKey,m=function(e,t){t&&this.$logError(this.EXCEPTION_CREATING_MODULECTRL,[e.desc.classpath],t),this.$callback(e.cb,{error:!0})},g=function(e){var t=Function();return t.prototype=e,new t};e=function(e){var i=Aria.getClassRef(e.desc.classpath);i?(e.moduleCtrlConstr=i,t.call(this,e)):Aria.load({classes:[e.desc.classpath],oncomplete:{args:e,scope:this,fn:t},onerror:{args:e,scope:this,fn:m}})},t=function(e){try{var t=e.desc.classpath,r=e.moduleCtrlConstr;if(r||(r=Aria.getClassRef(t),e.moduleCtrlConstr=r),!r||!aria.utils.Type.isInstanceOf(r.prototype,"aria.templates.ModuleCtrl"))return this.$logError(this.INVALID_MODULE_CTRL,[t]),m.call(this,e);var n=new e.moduleCtrlConstr(e.desc.constructorArgs);if(e.moduleCtrlPrivate=n,n.$hasFlowCtrl){var s,a=n.$hasFlowCtrl;a===!0&&(a=t+"Flow"),a=aria.core.environment.Customizations.getFlowCP(a),e.flowCtrlClasspath=a,s=Aria.getClassRef(a),s?(e.flowCtrlConstr=s,i.call(this,e)):Aria.load({classes:[a],oncomplete:{args:e,scope:this,fn:i},onerror:{args:e,scope:this,fn:m}})}else i.call(this,e)}catch(o){return m.call(this,e,o)}},i=function(e){try{var t,i,n=e.moduleCtrlPrivate,s=n.$publicInterface();if(e.flowCtrlClasspath){if(e.flowCtrlConstr||(e.flowCtrlConstr=Aria.getClassRef(e.flowCtrlClasspath)),!e.flowCtrlConstr||!aria.utils.Type.isInstanceOf(e.flowCtrlConstr.prototype,"aria.templates.FlowCtrl"))return this.$logError(this.INVALID_FLOW_CTRL,[e.flowCtrlClasspath]),m.call(this,e);t=new e.flowCtrlConstr,t.setModuleCtrl(s),n.$addInterceptor(n.$publicInterfaceName,t),i=t.$publicInterface()}var a=_(f),o={moduleCtrlPrivate:n,moduleCtrl:s,flowCtrlPrivate:t,flowCtrl:i,subModuleInfos:e.subModuleInfos};f[a]=o,s[d]=a,n[d]=a,e.res={error:!1,moduleCtrlPrivate:n,moduleCtrl:s};var l=aria.core.environment.Customizations.getCustomModules(e.desc.classpath);if(l.length>0){var c=e.recursionCheck;c=c?g(c):{},c[e.desc.classpath]=1,h.call(this,o,l,{fn:r,scope:this,args:e},!0,c)}else r.call(this,null,e)}catch(u){return m.call(this,e,u)}},r=function(e,t){try{var i=t.registerListeners;if(i&&t.res.moduleCtrl.$on(i),t.session&&t.res.moduleCtrl.setSession(t.session),t.skipInit)this.$callback(t.cb,t.res);else{var r=t.desc.initArgs;r||(r={}),t.res.moduleCtrl.init(r,{fn:n,args:t,scope:this})}}catch(s){return m.call(this,t,s)}},n=function(e,t){this.$callback(t.cb,t.res)},s=function(e){var t=e[d],i=f[t];return i?i:(aria.templates.ModuleCtrlFactory.$logError(aria.templates.ModuleCtrlFactory.MODULECTRL_BYPASSED_FACTORY,[e.$classpath]),null)},a=s,o=function(e,t){var i=s(e);return i?i.moduleCtrlPrivate!=e?(aria.templates.ModuleCtrlFactory.$logError(aria.templates.ModuleCtrlFactory.EXPECTING_MODULECTRL_PRIVATE,[t,e.$classpath]),null):i:null},l=function(e,t,i,r){for(var n,s=i.length,a=0;s-1>a;a++)n=i[a],null==e[n]&&(e[n]={}),e=e[n];n=i[s-1];var o=!1;return null!=r?(null==e[n]&&(e[n]=[]),e=e[n],e[r]&&(o=!0),e[r]=t):(e[n]&&(o=!0),e[n]=t),o},c=function(e,t,i,r){var n,s=t.refpath,a=e.moduleCtrlPrivate,o=e.moduleCtrl.getData(),c=e.moduleCtrl,u=i?i.getData():null;r?(n=[s],a=null):(n=s.split("."),"_"==s.charAt(0)&&(o=null,c=null));var h=!1;a&&(h=l(a,i,n,t.arrayIndex)||h),o&&(h=l(o,u,n,t.arrayIndex)||h),c&&(h=l(c,i,n,t.arrayIndex)||h),null!=i&&h&&this.$logError(this.SUBMODULE_REFPATH_ALREADY_USED,[s,t.classpath,e.moduleCtrlPrivate.$classpath])},u=function(e,t){var i=t.common,r=t.subModuleDesc,n=e.moduleCtrl;if(i.res.subModules[t.subModuleIdx]=n,i.alreadyLoaded++,n){var s=i.parentModule,a=s.subModules;c.call(this,s,r,n,i.customModules),a?a.push(e.moduleCtrlPrivate):s.subModules=[e.moduleCtrlPrivate]}else{var o=t.error||this.SM_CREATION_FAILED;i.res.errors++,this.$logError(o,[r.refpath,r.classpath,i.parentModule.moduleCtrlPrivate.$classpath])}i.alreadyLoaded>=i.toBeLoaded&&this.$callback(i.cb,i.res)},h=function(t,i,r,n,s){var a=i.length;if(0===a)return this.$callback(r,{subModules:[],errors:0}),void 0;for(var o=t.moduleCtrlPrivate,l={cb:r,res:{subModules:[],errors:0},parentModule:t,alreadyLoaded:0,toBeLoaded:a,customModules:n},c=aria.utils.Type,h=0;a>h;h++){var p=i[h],d=!1;n&&c.isString(p)&&(p={classpath:p,refpath:"custom:"+p});var f=p.classpath;aria.core.JsonValidator.check(p,"aria.templates.CfgBeans.SubModuleDefinition")?n&&"custom:"!=p.refpath.substring(0,7)?d=this.INVALID_CUSTOM_MODULE_REFPATH:s&&s[f]&&(d=this.CUSTOM_MODULES_INFINITE_RECURSION):d=this.INVALID_SM_DEF,d?u.call(this,{},{error:d,subModuleIdx:h,subModuleDesc:p,common:l}):e.call(this,{recursionCheck:s,subModuleInfos:{parentModule:t,customModule:n,subModuleDesc:p},registerListeners:n?null:{"*":{fn:o.onSubModuleEvent,scope:o,args:{smRef:p.refpath}},beforeDispose:{fn:o._onSubModuleBeforeDisposeEvent,scope:o,args:{smRef:p.refpath}}},desc:{classpath:f,initArgs:p.initArgs,constructorArgs:p.constructorArgs},session:t.moduleCtrlPrivate._session,cb:{fn:u,scope:this,args:{subModuleIdx:h,subModuleDesc:p,common:l}}})}},p=function(e,t){var i=t.objectLoading,r=e.subModules[0];if(r){var n=aria.core.Interfaces;if(n.linkItfWrappers(t.oldModuleCtrl,r),t.oldFlowCtrl){var a=s(r),o=a.flowCtrl;o&&n.linkItfWrappers(t.oldFlowCtrl,o)}}i.notifyObjectLoaded(r),i.$dispose(),this.$callback(t.callback)},Aria.classDefinition({$classpath:"aria.templates.ModuleCtrlFactory",$dependencies:["aria.templates.CfgBeans","aria.templates.ObjectLoading","aria.core.environment.Customizations"],$singleton:!0,$statics:{INVALID_SM_DEF:"Sub-module load failure: invalid module definition:\nreference: %1,\nclasspath: %2,\nparent class: %3",INVALID_CUSTOM_MODULE_REFPATH:"Error : invalid custom module refpath.\nrefpath: %1\nmodule class: %2\nparent class: %3",CUSTOM_MODULES_INFINITE_RECURSION:"Error: custom modules infinite recursion detected.\nrefpath: %1\nmodule class: %2\nparent class: %3",SM_CREATION_FAILED:"Sub-module creation failed:\nmodule name: %1,\nmodule class: %2\nparent class: %3",MODULECTRL_BYPASSED_FACTORY:"Error : module controller is already disposed or was not created using the module controller factory.\nmodule class: %1.",INVALID_MODULE_CTRL:"Error: %1 is not a module controller.",INVALID_FLOW_CTRL:"Error: %1 is not a flow controller.",EXPECTING_MODULECTRL_PRIVATE:"Error: %1 expected the whole module controller and only an interface was provided.\nmodule class: %2",EXCEPTION_CREATING_MODULECTRL:"Error: an exception occurred during the process of module controller creation.\nmodule class: %1",SUBMODULE_REFPATH_ALREADY_USED:"Sub-module refpath is already used (the existing path was replaced).\nrefpath: %1\nmodule class: %2\nparent class: %3",EXCEPTION_SUBMODULE_DISPOSE:"An exception occurred while disposing a sub-module.\nparent module class: %1\nchild module class: %2",RELOAD_ONLY_FOR_SUBMODULES:"The module reload feature is only available for sub-modules, and not for root modules.\nmodule class: %1",DISPOSE_NOT_SUBMODULE:"Error: disposeSubModule was called with a parameter which is not a sub-module of the current module.\nparent module class: %1\nclass of the parameter: %2"},$prototype:{createModuleCtrl:function(t,i,r){var n={desc:t,cb:i,skipInit:r};e.call(this,n)},__disposeSubModule:function(e,t){var i=s(t);if(i){var r=i.subModuleInfos;return r&&r.parentModule.moduleCtrlPrivate==e?(i.moduleCtrlPrivate.$dispose(),void 0):(this.$logError(this.DISPOSE_NOT_SUBMODULE,[e.$classpath,i.moduleCtrlPrivate.$classpath]),void 0)}},__loadSubModules:function(e,t,i){var r=o(e,"loadSubModules");return r?(h.call(this,r,t,i,!1),void 0):this.$callback(i,{error:!0})},__getModulePrivateInfoMethod:function(){var e=a;return a=null,e},isModuleCtrlReloadable:function(e){if(null==e)return!1;var t=e[d],i=f[t];if(!i)return!1;if(i.moduleCtrlPrivate!=e)return!1;var r=i.subModuleInfos;return null!=r},reloadModuleCtrl:function(e,t){var i=o(e,"reloadModuleCtrl");if(i){var r=i.subModuleInfos;if(null==r)return this.$logError(this.RELOAD_ONLY_FOR_SUBMODULES,[e.$classpath]),void 0;var n=r.parentModule;this.$assert(668,null!=n);var s=i.moduleCtrl,a=i.flowCtrl,l=aria.core.ClassMgr,c=[e.$classpath,e.$publicInterfaceName],u=i.flowCtrlPrivate;u&&(c[2]=u.$classpath,c[3]=u.$publicInterfaceName);var d=new aria.templates.ObjectLoading;e.__$reloadingObject=d,e.$dispose();for(var f=0,_=c.length;_>f;f++)l.unloadClass(c[f],!0);h.call(this,n,[r.subModuleDesc],{fn:p,scope:this,args:{objectLoading:d,oldModuleCtrl:s,oldFlowCtrl:a,callback:t}},r.customModule)}},__notifyModuleCtrlDisposed:function(e){var t=e[d],i=o(e,"notifyModuleCtrlDisposed");if(i){i.isDisposing=!0;var r=i.subModuleInfos,n=r?r.parentModule:null;n&&!n.isDisposing&&(aria.utils.Array.remove(n.subModules,e),c.call(this,n,r.subModuleDesc,null,r.customModule));var s=i.subModules;if(s){for(var a=s.length-1;a>=0;a--)try{s[a].$dispose()}catch(l){this.$logError(this.EXCEPTION_SUBMODULE_DISPOSE,[e.$classpath,s[a].$classpath],l)}i.subModules=null}f[t]=null,delete f[t],i.flowCtrlPrivate&&(i.flowCtrlPrivate.$dispose(),i.flowCtrlPrivate=null,i.flowCtrl=null),i.moduleCtrl=null,i.moduleCtrlPrivate=null,i.subModuleInfos=null}}}})})();
//*******************
//LOGICAL-PATH:aria/templates/RefreshManager.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.RefreshManager",$singleton:!0,$constructor:function(){this._stops=0,this._queue=[],this._hierarchies=[],this._updatedNodes=[],this._nodesToRefresh=[],this._isResuming=!1},$destructor:function(){this._queue=null,this._hierarchies=null,this._updatedNodes=null,this._nodesToRefresh=null},$statics:{PARENT_PROP:Aria.FRAMEWORK_PREFIX+"containedIn"},$prototype:{queue:function(e,t){this._queue.push({cb:e,elem:t})},stop:function(){this._isResuming||this._stops++},_triggerCB:function(e){var t,i=e.scope;i=i?i:this,t=e.fn?e.fn:e,"string"==typeof t&&(t=i[t]),e.scope.$Widget?t.call(i,null,e.args):t.call(i,e.args)},resume:function(){if(!(this._isResuming||(this._stops--,this._stops>0))){this._stops=0,this._isResuming=!0;var e=this._queue.length;if(null==Aria.rootTemplates||0===Aria.rootTemplates.length){for(var t=0;e>t;t++)this._triggerCB(this._queue[t].cb);return this._queue=[],this._isResuming=!1,void 0}this.updateHierarchies(),this._updatedNodes.length=0;for(var i=this._hierarchies.length,r=0;i>r;r++)for(var n=this._hierarchies[r],s=0;e>s;s++){var a=this._queue[s],o=this._findInHierarchy(a,n);o&&(o.updated||(o.updated=!0,o.qElem=a,this._updatedNodes.push(o)),this._queue.splice(s,1),s--,e--)}this._computeMinimal();for(var a,l,t=0,c=this._nodesToRefresh.length;c>t;t++)a=this._nodesToRefresh[t].qElem,l=a.cb,this._triggerCB(l);for(var u=0;e>u;u++)a=this._queue[u],l=a.cb,this._triggerCB(l);this._queue=[],this._isResuming=!1}},isResuming:function(){return this._isResuming},_findInHierarchy:function(e,t){if(this._elemMatches(e,t))return t;if(null==t.content)return null;if(t.content.length>0)for(var i=0;t.content.length>i;i++){var r=t.content[i],n=this._findInHierarchy(e,r);if(null!=n)return n}return null},_elemMatches:function(e,t){var i=e.cb.args&&(null!=e.cb.args.filterSection||null!=e.cb.args.outputSection);if(i){if("section"==t.type){var r=t.elem.tplCtxt;if(r!=e.elem)return!1;var n=e.cb.args.filterSection||e.cb.args.outputSection,s=t.elem.id;return n==s}return!1}return"template"==t.type?e.elem==t.elem:"templateWidget"==t.type?t.elem.behavior?t.elem.behavior.subTplCtxt==e.elem:t.elem.subTplCtxt==e.elem:"widget"==t.type?t.elem.behavior._subTplCtxt==e.elem?!0:t.elem.behavior==e.elem:"section"==t.type?t.elem==e.elem:void 0},isStopped:function(){return this._stops>0},getHierarchies:function(){return this._hierarchies},updateHierarchies:function(){this._hierarchies.length=0;for(var e=0;Aria.rootTemplates.length>e;e++){var t=Aria.rootTemplates[e];if(t._mainSection){var i=this._fillNode(t);this._hierarchies.push(i)}}},_computeMinimal:function(){this._nodesToRefresh.length=0;for(var e=0;this._hierarchies.length>e;e++)this._markSubnodesToRefresh(this._hierarchies[e])},_markSubnodesToRefresh:function(e){if(e.updated){this._nodesToRefresh.push(e);var t=e.elem;if(!t.refreshManagerWholeUpdate)return;if(t.refreshManagerWholeUpdate())return}if(e.content&&e.content.length>0)for(var i=0;e.content.length>i;i++){var r=e.content[i];this._markSubnodesToRefresh(r)}},_fillNode:function(e){var t={type:null,elem:e,content:[]};if("aria.templates.TemplateCtxt"==e.$classpath){t.type="template";var i=e._mainSection._content;this._addContent(t,i)}else if("aria.widgets.Template"==e.$classpath){if(t.type="templateWidget",e.subTplCtxt&&e.subTplCtxt._mainSection){var r=e.subTplCtxt._mainSection._content;this._addContent(t,r)}}else if(1==e._type){var n=e.behavior;if("aria.widgets.Template"==n.$classpath){if(t.type="templateWidget",n.subTplCtxt&&n.subTplCtxt._mainSection){var r=n.subTplCtxt._mainSection._content;this._addContent(t,r)}}else if(t.type="widget",e.behavior._subTplCtxt){var s=e.behavior._subTplCtxt._mainSection._content;this._addContent(t,s)}else if("aria.widgets.form.DatePicker"==e.behavior.$classpath){if(e.behavior.controller._calendar&&e.behavior.controller._calendar._tplWidget){var a=[e.behavior.controller._calendar._tplWidget];this._addContent(t,a)}}else if("aria.widgets.form.MultiSelect"==e.behavior.$classpath){if(e.behavior.controller._listWidget){var a=[e.behavior.controller._listWidget._tplWidget];this._addContent(t,a)}}else t.content=null}else null!=e.idMap&&(t.type="section",e._content,this._addContent(t,e._content));return t},_addContent:function(e,t){for(var i=0;t.length>i;i++){var r=this._fillNode(t[i]);r[this.PARENT_PROP]=e,e.content.push(r)}}}});
//*******************
//LOGICAL-PATH:aria/templates/ModuleCtrl.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.ModuleCtrl",$extends:"aria.templates.PublicWrapper",$implements:["aria.templates.IModuleCtrl"],$dependencies:["aria.utils.Json","aria.utils.Type","aria.templates.ModuleCtrlFactory","aria.templates.RefreshManager","aria.modules.RequestMgr"],$constructor:function(){this.$PublicWrapper.constructor.call(this),this._data={},this._dataBeanName=null,this._smList=null,this.__resources=null,this._session=null,this.$requestHandler=null,this.$requestJsonSerializer=null,null==this._enableMethodEvents&&(this.$logWarn(this.DEPRECATED_METHOD_EVENTS),this._enableMethodEvents=!0),this._enableMethodEvents=this._enableMethodEvents!==!0?!1:this._enableMethodEvents,this._enableMethodEvents&&this.$addInterceptor(this.$publicInterfaceName,{fn:this._interceptPublicInterface,scope:this})},$destructor:function(){this.$raiseEvent({name:"beforeDispose",reloadingObject:this.__$reloadingObject}),this._enableMethodEvents&&this.$removeInterceptors(this.$publicInterfaceName,this,this._interceptPublicInterface),this._smLoads=null,this._data=null,this._resources=null,this._smList=null,aria.templates.ModuleCtrlFactory.__notifyModuleCtrlDisposed(this),this.$PublicWrapper.$destructor.call(this),this.$requestJsonSerializer=null},$statics:{INIT_CALLBACK_ERROR:"An error occured while processing a Module init callback in class %1",DATA_CONTENT_INVALID:"Content of datamodel does not match databean:\nbean name: %1,\nmodule class: %2",DEPRECATED_METHOD_EVENTS:"Generic method events (methodCallBegin, methodCallEnd, methodCallback) will be turned off by default in a future release. If the application relies on those events please set the enableMethodEvents variable to true. To already benefit from performance improvements by disabling them, you can set this variable to false."},$prototype:{$hasFlowCtrl:!1,$publicInterfaceName:"aria.templates.IModuleCtrl",$init:function(e){e.json=aria.utils.Json},init:function(e,t){this.$callback(t,!0,this.INIT_CALLBACK_ERROR)},_interceptPublicInterface:function(e){"CallBegin"!=e.step||aria.templates.ModuleCtrl.prototype[e.method]||aria.templates.RefreshManager.stop();var t={name:"method"+e.step,method:e.method};this.$raiseEvent(t),"CallEnd"!=e.step||aria.templates.ModuleCtrl.prototype[e.method]||aria.templates.RefreshManager.resume()},submitJsonRequest:function(e,t,i){var r=aria.utils.Type;if(r.isString(i)||r.isFunction(i)){var n={fn:i,scope:this};i=n}else r.isObject(i)&&null==i.scope&&(i.scope=this);var s={fn:this._submitJsonRequestCB,scope:this,args:{cb:i}},a={moduleName:this.$package,session:this._session,actionQueuing:null,requestHandler:this.$requestHandler,urlService:this.$urlService,requestJsonSerializer:this.$requestJsonSerializer};r.isString(e)?a.actionName=e:a.serviceSpec=e,aria.modules.RequestMgr.submitJsonRequest(a,t,s)},_submitJsonRequestCB:function(e,t){aria.templates.RefreshManager.stop(),this.$callback(t.cb,e),aria.templates.RefreshManager.resume()},onSubModuleEvent:function(){},_onSubModuleBeforeDisposeEvent:function(e){var t=this._smList;if(t)for(var i=0,r=t.length;r>i;i++)if(t[i]==e.src){aria.utils.Array.removeAt(t,i),e.reloadingObject&&e.reloadingObject.$onOnce({objectLoaded:{scope:this,fn:this.__onSubModuleReloaded}});break}},__onSubModuleReloaded:function(e){this._smList&&this._smList.push(e.object)},loadSubModules:function(e,t){aria.templates.ModuleCtrlFactory.__loadSubModules(this,e,{fn:this.__onLoadSubModulesComplete,scope:this,args:t})},__onLoadSubModulesComplete:function(e,t){var i=e.subModules;i&&i.length>0&&(this._smList||(this._smList=[]),this._smList=this._smList.concat(e.subModules)),this.$callback(t,e)},disposeSubModule:function(e){aria.templates.ModuleCtrlFactory.__disposeSubModule(this,e)},getData:function(){return this._data},setData:function(e,t){this.json.inject(e,this._data,t),this._dataBeanName&&(aria.core.JsonValidator.normalize({json:this._data,beanName:this._dataBeanName})||this.$logError(this.DATA_CONTENT_INVALID,[this._dataBeanName,this.$classpath]))},getResourceSet:function(){if(!this.__resources){if(!this.$resources)return void 0;this.__resources={};for(var e in this.$resources)this.__resources[e]=this.$resources[e].hasOwnProperty("provider")?this[e]:Aria.getClassRef(this.$resources[e])}return this.__resources},getSubModuleCtrl:function(e){if(this._smList)for(var t=this._smList.length,i=0;t>i;i++){var r=this._smList[i];if(r&&e==r.getData())return r}return this.$publicInterface()},registerListener:function(e){var t=this.$publicInterface();this.$on({"*":e},t)},unregisterListeners:function(e){var t=this.$publicInterface();this.$unregisterListeners(e,t)},setSession:function(e){if(this._session=e,this._smList)for(var t=this._smList.length,i=0;t>i;i++){var r=this._smList[i];r&&r.setSession(e)}}}});
//*******************
//LOGICAL-PATH:aria/templates/Repeater.js
//*******************
(function(){var e=null,t=null,i=null,r=null,n=function(e){return e&&(t.isFunction(e)||e.fn)};Aria.classDefinition({$classpath:"aria.templates.Repeater",$extends:"aria.templates.Section",$constructor:function(t,i,r){if(null==i.id&&(i.id=e.getId(),this._dynamicId=i.id),this.$Section.constructor.call(this,t,i,r),this.cfgOk){if(i.macro)return this.cfgOk=!1,this.$logError(this.REPEATER_MACRO_NOT_SUPPORTED,[this.tplCtxt.tplClasspath,this.id]),void 0;if(this.items=[],this.itemsMap=null,this._childIdSuffix=0,this._loopType=i.loopType,this.iteratedSet=i.content,!this._updateLoopType())return this.cfgOk=!1,void 0;this._registerIteratedSetListener(),this._setChildSectionsCfg(i.childSections)}},$destructor:function(){this._dynamicId&&e.releaseId(this._dynamicId),this._unregisterIteratedSetListener(),this.$Section.$destructor.call(this)},$onload:function(){e=new aria.utils.IdManager("__repeater"),t=aria.utils.Type,i=aria.utils.Json,r=aria.utils.Array},$onunload:function(){e.$dispose(),e=null,t=null,r=null,i=null},$statics:{REPEATER_INVALID_ITERATED_SET:"Error in template '%1': the value declared in bindContentTo in the repeater '%2' is not valid or not compatible with the loopType property (%3).",VIEWS_NOT_SUPPORTED:"Template %1, repeater %2: support for views is not yet implemented in the repeater.",REPEATER_MACRO_NOT_SUPPORTED:"Error in template '%1', in the repeater '%2': the macro property is not supported for repeaters."},$prototype:{beforeRefresh:function(e){e.writerCallback={fn:this._refreshWriterCallback,scope:this}},_refreshWriterCallback:function(e){this.items=[],this.itemsMap={},this._childIdSuffix=0,this.writeContent(e)},_createSectionParam:function(e){var t=this._childSections,i=this._childSectCBProp,r=this._childSectConstProp,n={};e.sectionId=this.tplCtxt.evalCallback(t.id,e),n.id=e.sectionId;var s,a,o;for(s=0,a=i.length;a>s;s++)o=i[s],n[o]=this.tplCtxt.evalCallback(t[o],e);for(s=0,a=r.length;a>s;s++)o=r[s],n[o]=t[o];return n},_initItem:function(e){e.iteratedSet=this.iteratedSet,e.sectionIdSuffix=""+this._childIdSuffix,this._childIdSuffix++},_writeRepeaterItem:function(e){this._initItem(e),this.items[e.ct-1]=e;var t=this._createSectionParam(e);this.tplCtxt.__$beginSection(0,!1,t),this.tplCtxt.__$endSection()},_loopOver_array:function(e,t,i){for(var r=0,n=e.length;n>r;r++)t.call(this,{index:r,ct:r+1,item:e[r]},i)},_loopOver_sortedView:function(e,t,i){e.refresh();for(var r=e.items,n=0,s=r.length;s>n;n++){var a=r[n];t.call(this,{index:n,ct:n+1,info:a,item:a.value},i)}},_loopOver_filteredView:function(e,t,i){e.refresh();for(var r=e.items,n=1,s=0,a=r.length;a>s;s++){var o=r[s];o.filteredIn&&(t.call(this,{index:s,ct:n,info:o,item:o.value},i),n++)}},_loopOver_pagedView:function(e,t,i){e.refresh();for(var r=e.pages[e.currentPageIndex],n=e.items,s=1,a=r.firstItemIndex,o=r.lastItemIndex;o>=a;a++){var l=n[a];l.filteredIn&&(t.call(this,{index:a,ct:s,info:l,item:l.value},i),s++)}},_loopOver_map:function(e,t,r){var n=1;this.itemsMap={};for(var s in e)if(e.hasOwnProperty(s)&&!i.isMetadata(s)){var a={index:s,ct:n,item:e[s]};t.call(this,a,r),this.itemsMap[s]=a,n++}},_defaultCallback_id:function(e,t){return t+e.sectionIdSuffix},_defaultCallback_macro:function(e,t){var i=r.clone(t.args);return i.push(e),{name:t.name,args:i,scope:t.scope}},_setChildSectionsCfg:function(e){var t={},i=[],r=[];for(var s in e)if(e.hasOwnProperty(s)){var a=e[s];t[s]=a,n(a)?"id"!=s&&i.push(s):"id"==s||"macro"==s?("macro"==s&&(a=this.tplCtxt.checkMacro(a)),t[s]={fn:this["_defaultCallback_"+s],args:a,scope:this},"id"!=s&&i.push(s)):r.push(s)}this._childSectCBProp=i,this._childSectConstProp=r,this._childSections=t},_registerIteratedSetListener:function(){var e=this._loopType;if("array"==e||"map"==e){var t={scope:this,fn:this._notifyChange};i.addListener(this.iteratedSet,null,t),this._iteratedSetListener=t}},_unregisterIteratedSetListener:function(){var e=this._iteratedSetListener;e&&(i.removeListener(this.iteratedSet,null,e),this._iteratedSetListener=null)},_notifyIteratedSetReplaced:function(){this._unregisterIteratedSetListener(),this.tplCtxt.$refresh({outputSection:this.id})},refreshManagerWholeUpdate:function(){return this.$assert(341,this._refreshMgrInfo),null==this._refreshMgrInfo.queue},_refreshManagerCallback:function(){var e=this._refreshMgrInfo;if(e){this._refreshMgrInfo=null;var t=e.queue;if(t)for(var i=0,r=t.length;r>i;i++)this._notifyChange(t[i]);else this.tplCtxt.$refresh(e.refreshArgs)}},_checkRefreshManager:function(e){if(aria.templates.RefreshManager.isStopped()){var t=this._registerInRefreshMgr().queue;return t&&t.push(e),!0}return!1},_notifyChange_array:function(e){if(!this._checkRefreshManager(e)){var t=e.change,r=this.items;if(t==i.VALUE_CHANGED||t==i.KEY_REMOVED||t==i.KEY_ADDED){var n=parseInt(e.dataName,10);if(n!=e.dataName||0>n)return;if(r.length>n)i.setValue(r[n],"item",e.newValue),this.tplCtxt.$refresh({outputSection:r[n].sectionId});else{for(var s=r.length,a=[],o=s;n>=o;o++){var l={index:o,ct:o+1,item:o==n?e.newValue:void 0};r[o]=l,this._initItem(l),a[o-s]=this._createSectionParam(l)}this.tplCtxt.insertAdjacentSections({refSection:{domElt:this.getDom(),object:this},sections:a,position:"beforeEnd"})}}else if(t==i.SPLICE){var n=e.index,c=e.removed.length;if(c)for(var o=0;c>o;o++){var u=this.items[n+o],h=this.tplCtxt.$getElementById(u.sectionId);h.remove()}var p=e.added,d=p.length;if(d){for(var a=[],f=[n,c],o=0;d>o;o++){var l={index:n+o,ct:n+o+1,item:p[o]};f[o+2]=l,this._initItem(l),a[o]=this._createSectionParam(l)}if(r.splice.apply(r,f),n>0){var _=this.getSectionById(r[n-1].sectionId);this.tplCtxt.insertAdjacentSections({refSection:{domElt:_.getDom(),object:_},sections:a,position:"afterEnd"})}else this.tplCtxt.insertAdjacentSections({refSection:{domElt:this.getDom(),object:this},sections:a,position:"afterBegin"})}else r.splice(n,c);d!=c&&this._updateRemainingItems(n+d,!0)}}},_updateRemainingItems:function(e,t){var r=this.items,s=this._childSections.cssClass;n(s)||(s=null);for(var a=r.length-1;a>=e;a--){var o=r[a];if(t&&i.setValue(o,"index",a),i.setValue(o,"ct",a+1),s){var l=this.getSectionById(o.sectionId),c=l.cssClass,u=this.tplCtxt.evalCallback(s,o);if(c!=u){var h=l.getDom();h.className=u,l.cssClass=u}}}},_notifyChange_map:function(e){var t=e.change;if((t==i.VALUE_CHANGED||t==i.KEY_REMOVED||t==i.KEY_ADDED)&&!this._checkRefreshManager(e)){var r=this.itemsMap,n=this.items,s=this.iteratedSet,a=e.dataName;if(!i.isMetadata(a))if(r.hasOwnProperty(a)){var o=r[a];if(t==i.KEY_REMOVED){var l=this.tplCtxt.$getElementById(o.sectionId);l.remove(),n.splice(o.ct-1,1),delete r[a],this._updateRemainingItems(o.ct-1,!1)}else i.setValue(o,"item",s[a]),this.tplCtxt.$refresh({outputSection:o.sectionId})}else if(t!=i.VALUE_CHANGED){var o={index:a,ct:n.length+1,item:s[a]};this._initItem(o),n[o.ct-1]=o,this.tplCtxt.insertAdjacentSections({refSection:{domElt:this.getDom(),object:this},sections:[this._createSectionParam(o)],position:"beforeEnd"})}}},_updateLoopType:function(){var e=!0,i=this._loopType,r=this.iteratedSet;return"array"==i?e=t.isArray(r):"map"==i?e=t.isObject(r):null!=i?(e=t.isInstanceOf(r,"aria.templates.View"),"view"==i&&(i="pagedView")):(t.isArray(r)?i="array":t.isInstanceOf(r,"aria.templates.View")?i="pagedView":t.isObject(r)?i="map":e=!1,this._loopType=i),e?"map"!=i&&"array"!=i?(this.$logError(this.VIEWS_NOT_SUPPORTED,[this.tplCtxt.tplClasspath,this.id]),!1):(this._loopOver=this["_loopOver_"+i],this._notifyChange=this["_notifyChange_"+i],!0):(this.$logError(this.REPEATER_INVALID_ITERATED_SET,[this.tplCtxt.tplClasspath,this.id,i],r),!1)},writeContent:function(){this._loopOver(this.iteratedSet,this._writeRepeaterItem)}}})})();
//*******************
//LOGICAL-PATH:aria/templates/Template.js
//*******************
(function(){var e=function(e){e&&e.changedProperties&&!aria.utils.Array.contains(e.changedProperties,"contextualMenu")||Aria.load({classes:[i]})},t=function(){var e=aria.core.AppEnvironment.applicationSettings.contextualMenu;return e&&e.enabled},i="aria.tools.contextual.ContextualMenu",r=["aria.tools.contextual.environment.ContextualMenu","aria.templates.TemplateCtxt","aria.utils.Array","aria.utils.Json","aria.templates.ITemplate","aria.utils.environment.VisualFocus"];t()&&r.push(i),Aria.classDefinition({$classpath:"aria.templates.Template",$extends:"aria.templates.BaseTemplate",$dependencies:r,$statics:{EXCEPTION_IN_CONTROL_PARAMETERS:"line %2: Uncaught runtime exception in control %3 for parameters '%1'",EXCEPTION_IN_REPEATER_PARAMETER:"line %2: Uncaught runtime exception in repeater parameter '%1'"},$onload:function(){var t=aria.tools.contextual.environment.ContextualMenu;t.getContextualMenu().enabled||aria.core.AppEnvironment.$on({environmentChanged:e,scope:{}})},$prototype:{$width:void 0,$height:void 0,$init:function(e,t){e.$BaseTemplate.constructor.classDefinition.$prototype.$init(e,t);var i=aria.templates.ITemplate.prototype;for(var r in i)i.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=i[r]);e.$json=aria.utils.Json},onModuleEvent:function(){},onFlowEvent:function(){},$dataReady:function(){},$viewReady:function(){},$displayReady:function(){}}})})();
//*******************
//LOGICAL-PATH:aria/templates/TemplateCtxt.js
//*******************
(function(){var e,t,i,r=["$refresh","$getChild","$getElementById","$focus","$hdim","$vdim","getContainerScroll","setContainerScroll","__$writeId","__$processWidgetMarkup","__$beginContainerWidget","$getId","__$endContainerWidget","__$statementOnEvent","__$statementRepeater","__$createView","__$beginSection","__$endSection","__$bindAutoRefresh","$setFocusedWidget","$getFocusedWidget"],n=["data","moduleCtrl","flowCtrl","moduleRes"],s={},a=function(e){var t=s[e];return null==t&&(t=Aria.getClassRef(e),s[e]=t),void 0===t&&this.$logError(this.WIDGET_LIBRARY_NOT_FOUND,[e,this.tplClasspath]),t},o=0;Aria.classDefinition({$classpath:"aria.templates.TemplateCtxt",$dependencies:["aria.templates.Layout","aria.templates.CfgBeans","aria.utils.Array","aria.utils.Function","aria.utils.Type","aria.templates.TemplateCtxtManager","aria.templates.RefreshManager","aria.templates.CSSMgr","aria.utils.Path","aria.utils.Delegate","aria.templates.NavigationManager","aria.templates.SectionWrapper","aria.core.environment.Customizations","aria.utils.Dom","aria.templates.DomElementWrapper","aria.templates.MarkupWriter","aria.utils.DomOverlay"],$implements:["aria.templates.ITemplate","aria.templates.ITemplateCtxt"],$extends:"aria.templates.BaseCtxt",$onload:function(){e=aria.templates.Layout,t=aria.core.JsonValidator},$onunload:function(){e=null,t=null},$events:{Ready:""},$constructor:function(){this.$BaseCtxt.constructor.apply(this,arguments),this._differed=null,this._ready=!1,this.__dataGround=null,this.__wrappers=[],this.__loadingOverlays=[],this.__loadingOverlaysSection={},this._cfg=null,this._persistentStorage=null,this._focusedWidgetPath=[],this._globalCssDepsLoaded=!1},$destructor:function(){if(aria.templates.TemplateCtxtManager.remove(this),this._cssClasses){if(aria.templates.CSSMgr.unloadDependencies(this),this._globalCssDepsLoaded){var t=["aria.templates.GlobalStyle"];aria.widgets&&aria.widgets.AriaSkin&&t.push("aria.templates.LegacyGeneralStyle"),aria.templates.CSSMgr.unloadWidgetDependencies("aria.templates.Template",t),this._globalCssDepsLoaded=!1}this._cssClasses=null}this.__dataGround&&(aria.utils.Json.setValue(this.__dataGround,"data",null),this.__dataGround=null),this.__disposeProcessingIndicators(),this.__disposeWrappers();var i=this._tpl;if(i){try{this.flowCtrl&&this.flowCtrl.$unregisterListeners(i),this.moduleCtrl&&this.moduleCtrl.$removeListeners({"*":{fn:i.onModuleEvent,scope:i,firstOnly:!0},beforeDispose:{fn:this._beforeModuleDispose,scope:this,firstOnly:!0}})}catch(s){this.$logError(this.TEMPLATE_EXCEPTION_REMOVING_LISTENERS,[this.tplClasspath],s)}try{i.$dispose()}catch(s){this.$logError(this.TEMPLATE_DESTR_ERROR,[this.tplClasspath],s)}i.__$write=null;for(var a,o=0;a=n[o];o++)delete i[a];for(o=0;a=r[o];o++)delete i[a];this._tpl=null}var l=this._mainSection;l&&(l.$dispose(),this._mainSection=null);var c=this._cfg;if(c){var u=c.tplDiv;if(u&&(this.__removeDebugInfo(u),c.tplDiv=null),c.div){var h=aria.utils.Type.isObject;(h(c.width)||h(c.height))&&e.unregisterAutoresize(c.div),aria.utils.Dom.replaceHTML(c.div,""),c.div=null}if(c.toDispose){for(var p=c.toDispose,d=p.length-1;d>=0;d--)p[d].$dispose();c.toDispose=null,p=null}c.data=null,c.macro=null,this._cfg=null}this.data=null,this.moduleRes=null,this.moduleCtrl=null,this.moduleCtrlPrivate=null,this.flowCtrl=null,this.flowCtrlPrivate=null,this.$BaseCtxt.$destructor.call(this)},$statics:{WIDGET_LIBRARY_NOT_FOUND:"Error in template '%2': widget library '%1' was not found.",INVALID_STATE_FOR_REFRESH:"Error in template '%1': calling $refresh while the template is being refreshed is not allowed.",SECTION_OUTPUT_NOT_FOUND:"Error while refreshing template '%1': output section '%2' was not found.",VAR_NULL_OR_UNDEFINED:"Template %2 \nLine %1: expression is null or undefined.",SECTION_BINDING_ERROR_SINGLE_VAR:"line %1: Cannot bind section to single variable except data. Binding must be something like container.parameter",BINDREFRESHTO_STATEMENT_DEPRECATED:"Template '%1', line %2:\nThe {bindRefreshTo} statement is deprecated. It will be removed in Aria Templates 1.5.1. Please use 'bindRefreshTo' property of a {section} statement instead.",SECTION_MACRO_MISUSED:"Template %1 \nline %2: section statement must either be a container or have a non-null macro property.",TEMPLATE_EXCEPTION_REMOVING_LISTENERS:"Error in template '%1' while removing module or flow listeners.",TEMPLATE_NOT_READY_FOR_REFRESH:"Error in template '%1': the $refresh method was called, but the template is not yet ready to be refreshed.",FOCUS_FAILURE:"Focus failure: widget/element with id '%1' in '%2' does not exist or it is not yet ready for focus.",DATA_READY_EXCEPTION:"Error in template %1: an exception happened in $dataReady.",VIEW_READY_EXCEPTION:"Error in template %1: an exception happened in $viewReady.",DISPLAY_READY_EXCEPTION:"Error in template %1: an exception happened in $displayReady.",BEFORE_REFRESH_EXCEPTION:"Error in template %1: an exception happened in $beforeRefresh.",AFTER_REFRESH_EXCEPTION:"Error in template %1: an exception happened in $afterRefresh.",ALREADY_REFRESHING:"$refresh was called while another refresh is happening on the same template (%1). This is not allowed. Please check bindings.",MISSING_MODULE_CTRL_FACTORY:"Template %1 cannot be initialized without aria.templates.ModuleCtrlFactory, make sure it is loaded"},$prototype:{dataReady:function(){try{this._tpl.$dataReady()}catch(e){this.$logError(this.DATA_READY_EXCEPTION,[this.tplClasspath],e)}},viewReady:function(){try{this._tpl.$viewReady()}catch(e){this.$logError(this.VIEW_READY_EXCEPTION,[this.tplClasspath],e)}},displayReady:function(){try{this._tpl.$displayReady()}catch(e){this.$logError(this.DISPLAY_READY_EXCEPTION,[this.tplClasspath],e)}},beforeRefresh:function(e){if(this._tpl.$beforeRefresh)try{this._tpl.$beforeRefresh(e)}catch(t){this.$logError(this.BEFORE_REFRESH_EXCEPTION,[this.tplClasspath],t)}},afterRefresh:function(e){if(this._tpl.$afterRefresh)try{this._tpl.$afterRefresh(e)}catch(t){this.$logError(this.AFTER_REFRESH_EXCEPTION,[this.tplClasspath],t)}},$refresh:function(e){if(aria.templates.RefreshManager.isStopped()){if(e){var i=e.outputSection||e.filterSection;if(i&&this._mainSection){var r=this._mainSection.getSectionById(i);if(r)return r.notifyRefreshPlanned(e),void 0}}aria.templates.RefreshManager.queue({fn:this.$refresh,args:e,scope:this},this)}else{if(!this._cfg.tplDiv)return this.$logError(this.TEMPLATE_NOT_READY_FOR_REFRESH,[this.tplClasspath]),void 0;this._refreshing&&this.$logError(this.ALREADY_REFRESHING,[this.tplClasspath]),this._refreshing=!0,aria.templates.RefreshManager.stop(),aria.templates.CSSMgr.stop(),this.$assert(304,!!this._tpl);var n={json:e,beanName:"aria.templates.CfgBeans.RefreshCfg"};t.normalize(n),e=n.json,this.beforeRefresh(e);var r=this.getRefreshedSection({filterSection:e.filterSection,outputSection:e.outputSection,macro:e.macro});this.__disposeProcessingIndicators(r),r&&!r.id&&this.__disposeWrappers(),aria.templates.CSSMgr.resume(),null!=r&&this.insertSection(r),this._refreshing=!1,aria.templates.RefreshManager.resume(),null!=r&&(this.afterRefresh(e),this.$raiseEvent({name:"SectionRefreshed",sectionID:r.id}))}},$getFocusedWidget:function(){return this._focusedWidgetPath},$setFocusedWidget:function(){var e=Aria.$window.document.activeElement;this._focusedWidgetPath=this._getWidgetPath(e)},_getWidgetPath:function(e){if("BODY"===e.tagName||!aria.utils.Dom.isInDom(e))return[];for(var t=[];!e.__widget;)e=e.parentElement||e.parentNode;var i=e.__widget.getId();if(!i)return[];t.unshift(i);for(var r=e.__widget._context;this!==r&&null!==r;){if(i=r.getOriginalId(),!i)return[];t.unshift(i),r=r.parent}return null===r?[]:t},getOriginalId:function(){return this._cfg.originalId},getMarkup:function(e,t){this.$assert(299,null==this._cfg.tplDiv),this.$assert(301,null==this._mainSection);var i=this.getRefreshedSection({macro:e,filterSection:t,outputSection:null});return i.html},linkToPreviousMarkup:function(e){var t=this._cfg;this.$assert(320,null!=e),this.$assert(322,null==t.tplDiv),this.$assert(324,null!=this._mainSection),t.tplDiv=e,t.div=e.parentNode?e.parentNode:null,this.__addDebugInfo(e),this.insertSection(this._mainSection,!0),this.afterRefresh(),this.$raiseEvent({name:"SectionRefreshed",sectionID:null})},__addDebugInfo:function(e){e&&e.setAttribute&&(e.setAttribute("_template",this.tplClasspath),e.__template=this._tpl,e.__moduleCtrl=this.moduleCtrlPrivate?this.moduleCtrlPrivate:this.moduleCtrl,e.__data=this.data)},__removeDebugInfo:function(e){e&&(e.__data=null,e.__moduleCtrl=null,e.__template=null)},getRefreshedSection:function(e){var i={json:e,beanName:"aria.templates.CfgBeans.GetRefreshedSectionCfg"};t.normalize(i),e=i.json;var r=e.outputSection,n=e.filterSection;void 0===r&&(r=n);var s=null;if(null!=r){if(s=this._mainSection?this._mainSection.getSectionById(r):null,null==s)return this.$logError(this.SECTION_OUTPUT_NOT_FOUND,[this.tplClasspath,r]),null;s.beforeRefresh(e),s.stopListeners()}var a=e.writerCallback;null==a&&(a={fn:this._callMacro,args:e.macro,scope:this});var o=this.createSection(a,{filterSection:n,ownIdMap:null==s});if(null==o)return null;if(null==s)this._mainSection&&this._mainSection.$dispose(),this._mainSection=o;else if(n){s.copyConfigurationTo(o);var l=s.parent;this.$assert(402,null!=l),s.$dispose(),l.addSubSection(o)}else s.removeContent(),s.removeDelegateIdsAndCallbacks(),o.moveContentTo(s),s.html=o.html,o.$dispose(),o=s,o.resumeListeners();return o},_setOut:function(e){this._out=e;for(var t=this._macrolibs||[],i=0,r=t.length;r>i;i++)t[i]._setOut(e)},insertAdjacentSections:function(e){var i=e.position,r={json:e,beanName:"aria.templates.CfgBeans.InsertAdjacentSectionsCfg"};t.normalize(r);var n=this.createSection({fn:this.__dynamicSectionWriter,scope:this,args:e});aria.utils.Dom.insertAdjacentHTML(e.refSection.domElt,i,n.html),aria.utils.Dom.refreshDomElt(this._cfg.tplDiv);var s=e.refSection.object;("beforeBegin"==i||"afterEnd"==i)&&(s=s.parent),this.$assert(459,s);var a=n.moveContentTo(s);n.$dispose(),this.$assert(466,a),this.__processDifferedItems(a);for(var o=0;e.sections.length>o;o++)this.afterRefresh({outputSection:e.sections[o].id})},__dynamicSectionWriter:function(e,t){for(var i=t.sections,r=0,n=i.length;n>r;r++)this.__$beginSection(null,!1,i[r]),this.__$endSection()},createSection:function(e,t){if(null!=this._out)return this.$logError(this.INVALID_STATE_FOR_REFRESH,[this.tplClasspath]),null;var i=new aria.templates.MarkupWriter(this,t),r=null;return this._setOut(i),this.$callback(e,i),r=i.getSection(),i.$dispose(),this._setOut(null),r},insertSection:function(t,i){var r,n=this._cfg,s=this._tpl,a=t.id?t.getDom():n.tplDiv;a&&(i||(a=aria.utils.Dom.replaceHTML(a,t.html),t.setDom(a)),t.id||e.setDivSize(a,s.$width,s.$height,"hidden"),aria.utils.Delegate.addExpando(a,t.delegateId),r=t.initWidgets(),this.__processDifferedItems(r)),i||(this.$assert(743,n.tplDiv&&s),aria.utils.Dom.refreshDomElt(n.tplDiv))},__processDifferedItems:function(e){if(e.length>0){for(var t=0,i=e.length;i>t;t++)e[t].$onOnce({ElementReady:this.__checkContextReadyCb,scope:this});this._differed=e}else this.__checkContextReadyCb()},__checkContextReadyCb:function(e){if(e){var t=e.src,i=this._differed;i&&aria.utils.Array.remove(i,t)}i&&i.length||(this._differed=null,this._ready=!0,this.displayReady(),this.$raiseEvent("Ready"))},__$processWidgetMarkup:function(e,t,i,r){var n=this._out;if(n.sectionState==n.SECTION_KEEP){var s=a.call(this,e);s&&s.processWidgetMarkup(t,n,i,r)}},__$beginContainerWidget:function(e,t,i,r){var n=this._out;if(n.sectionState==n.SECTION_SKIP)return!1;n.skipContent=!1;var s=a.call(this,e);if(!s)return!1;var o=s.processWidgetMarkupBegin(t,n,i,r);return n.skipContent||null==o?(o&&o.writeMarkupEnd(n),!1):(n.addToCtrlStack(o),!0)},__$endContainerWidget:function(){var e=this._out,t=e.removeFromCtrlStack();t.writeMarkupEnd(e)},__$statementOnEvent:function(e,t){this._out.pushDelegate(e,t)},__$statementRepeater:function(e,t){this._out.repeater(t)},initTemplate:function(s){if(!t.normalize({json:s,beanName:"aria.templates.CfgBeans.InitTemplateCfg"}))return!1;this._out=null,this._cfg=s,s.id?this._id=s.id:(this._id="tpl"+o,o++),Aria.testMode&&(this._prefixIds={}),this.tplClasspath=s.classpath;var a;try{a=Aria.getClassInstance(s.classpath)}catch(l){return this.$logError(this.TEMPLATE_CONSTR_ERROR,[s.classpath],l),!1}this._tpl=a,null==s.macro&&(s.macro={name:"main",args:s.args,scope:a}),s.macro=this.checkMacro(s.macro);var c,u,h=s.context,p=s.moduleCtrl,d=s.data;if(h&&!p&&(d||(d=h.data),p=h.moduleCtrl),p)if(aria.templates.ModuleCtrlFactory){if(i||(i=aria.templates.ModuleCtrlFactory.__getModulePrivateInfoMethod()),c=i.call(this,p),!c)return!1;if(u=c.moduleCtrlPrivate,d){if(h){var f=u.getSubModuleCtrl(d);if(f!=p){if(p=f,c=i.call(this,p),!c)return!1;u=c.moduleCtrlPrivate}}}else d=u.getData()}else this.$logError(this.MISSING_MODULE_CTRL_FACTORY,[s.classpath]);this.data=d,this.moduleCtrl=p,c&&(this.flowCtrl=c.flowCtrl,this.flowCtrlPrivate=c.flowCtrlPrivate,this.moduleCtrlPrivate=u,this.moduleRes=u.getResourceSet()),s.data=d,s.moduleCtrl=p,aria.templates.TemplateCtxtManager.add(this),null!=this.data&&(this.__dataGround={data:this.data});var _,m,g=this;for(_=0;m=n[_];_++)a[m]=this[m];var y=aria.utils.Function;for(_=0;m=r[_];_++)a[m]=y.bind(this[m],this);a.__$write=function(e,t){return g.__$write(e,t,this.$classpath)},this.moduleCtrl&&this.moduleCtrl.$on({"*":{fn:a.onModuleEvent,scope:a},beforeDispose:{fn:this._beforeModuleDispose,scope:this}}),this.flowCtrl&&this.flowCtrl.$on({"*":a.onFlowEvent,scope:a}),this._width={},this._height={},this.$setViewportWidth(e.realWidth(s.width)),this.$setViewportHeight(e.realHeight(s.height)),this.$setSizeCfg(a.__$width,a.__$height),this.__addDebugInfo(s.tplDiv);var v=a.__$initTemplate();return this.__loadLibs(a.__$macrolibs,"macrolibs"),v},__$beginSection:function(e,t,i,r){aria.utils.Type.isString(i)&&(i={id:i},r&&(i.type=r)),t===(null!=i&&null!=i.macro)&&(this.$logError(this.SECTION_MACRO_MISUSED,[this.tplClasspath,e]),t&&(i.macro=null)),this._out.beginSection(i)},__$endSection:function(){return this._out.endSection()},__$write:function(e,t,i){return(void 0===e||null===e)&&this.$logWarn(this.VAR_NULL_OR_UNDEFINED,[t,i]),this._out.write(e)},$hdim:function(t,i,r){return e.getSODim(this._width,t,i,r)},$vdim:function(t,i,r){return e.getSODim(this._height,t,i,r)},getContainerDiv:function(){return this._cfg&&this._cfg.div?this._cfg.div:null},$setViewportWidth:function(t){var i=this._width;return e.setSOViewport(i,t),this._tpl.$width!=i.value?(this._tpl.$width=i.value,!0):!1},$setViewportHeight:function(t){var i=this._height;return e.setSOViewport(i,t),this._tpl.$height!=i.value?(this._tpl.$height=i.value,!0):!1},$setSizeCfg:function(t,i){t&&e.setSOSizeCfg(this._width,t),this._tpl.$width=this._width.value,i&&e.setSOSizeCfg(this._height,i),this._tpl.$height=this._height.value},evalCallback:function(e,t,i){return this._tpl.$callback(e,t,i)},$getId:function(e){return[this._id,e].join("_")},$getAutoId:function(e){e=this._id+"_"+e.replace(/\+/g,"");var t=this._prefixIds,i=t[e]=(t[e]||0)+1;return e+"_auto_"+i},__$writeId:function(e){var t=this._out.tplCtxt.getDomId(e);t&&this._out.write('id="'+t+'"')},getDomId:function(e){var e=e+"";return e&&-1!=e.indexOf("+")?Aria.testMode?this.$getAutoId(e):null:this.$getId(e)},$getElementById:function(e){var t=this.$getId(e),i=aria.utils.Dom.getElementById(t);if(!i)return null;var r,n=this._mainSection.getSectionById(e);return r=n?new aria.templates.SectionWrapper(i,n):new aria.templates.DomElementWrapper(i,this),this.__wrappers&&this.__wrappers.push(r),r},$getChild:function(e,t){var i=aria.utils.Dom,r=this.$getId(e),n=i.getElementById(r);if(n)var s=i.getDomElementChild(n,t);if(s){var a=new aria.templates.DomElementWrapper(s,this);return this.__wrappers&&this.__wrappers.push(a),a}return null},getBehaviorById:function(e){return null==this._mainSection?null:this._mainSection.getBehaviorById(e)},getPersistentStorage:function(){var e=this._persistentStorage;return null==e&&(this.data?(e=this.data[Aria.FRAMEWORK_PREFIX+"persist::"+this.tplClasspath],null==e&&(e={},this.data[Aria.FRAMEWORK_PREFIX+"persist::"+this.tplClasspath]=e)):e={},this._persistentStorage=e),e},$focus:function(e){(aria.core.Browser.isIE7||aria.core.Browser.isIE8)&&Aria.$window.document.body.focus();var t;if(aria.utils.Type.isArray(e)?(e=e.slice(0),t=e.shift()):(t=e,e=[]),t){var i=!1,r=this.getBehaviorById(t);if(r&&r.focus!==void 0&&(r.focus(e),i=!0),!i){var n=this.$getId(t),s=aria.utils.Dom.getElementById(n);s&&(s.focus(),i=!0)}i||this.$logError(this.FOCUS_FAILURE,[t,this.tplClasspath])}},$focusFromParent:function(){if(this._tpl.$focusFromParent)return this._tpl.$focusFromParent();var e=aria.utils.Dom.getElementById(this._id);return aria.templates.NavigationManager.focusFirst(e)},__$createView:function(e,t,i){var r=this.getPersistentStorage();t.unshift(e);for(var n,s=t.length,a=r,o=0;s-1>o;o++)n=t[o],a[n]||(a[n]=[]),a=a[n];return n=t[s-1],a[n]?(a=a[n],a.initialArray=i):(a[n]=new aria.templates.View(i),a=a[n]),a.refresh(),r[e]},isReady:function(){return this._ready},_beforeModuleDispose:function(e){var t=e.reloadingObject,i=this._getReloadCfg(),r=t&&this.moduleCtrl.getData()==i.data;if(Aria.disposeTemplate(i.div),t){var n=this;t.$on({scope:{},objectLoaded:function(e){i.moduleCtrl=e.object,r&&(i.data=e.object.getData()),n._callLoadTemplate(i)}})}},_getReloadCfg:function(){var e=this.getContainerDiv(),t=this._cfg.origClasspath?this._cfg.origClasspath:this._cfg.classpath,i={classpath:t,width:this._cfg.width,height:this._cfg.height,printOptions:this._cfg.printOptions,div:e,data:this._cfg.data,moduleCtrl:this.moduleCtrlPrivate,provideContext:!0,args:this._cfg.args};return this._cfg.toDispose=[],i},_callLoadTemplate:function(e,t){var i=e.div;if(!aria.utils.Dom.isInDom(i))return this.$callback(t),void 0;var r=i.__widget;Aria.loadTemplate(e,function(e){if(e.success&&r){var i=e.tplCtxt,n=aria.templates.TemplateCtxtManager;n.remove(i),e.tplCtxt._cfg.isRootTemplate=!1,n.add(i),r.subTplCtxt=i}null!=t&&this.$callback(t)})},$reload:function(e,t){var i=this._getReloadCfg();e&&aria.templates.TemplateManager.$onOnce({unloadTemplate:{fn:function(){var t=i.classpath.replace(/\./g,"/")+".tpl",r=aria.core.Cache.getItem("files",t,!0);r.status=3,r.value=e},scope:this}}),i.reload=!0,i.reloadByPassCache=!0;var r=Aria.disposeTemplate(i.div);r?this._callLoadTemplate(i,t):this.$logError("Could not reload template: "+i.classpath)},__$bindAutoRefresh:function(e,t,i){if(this.$logWarn(this.BINDREFRESHTO_STATEMENT_DEPRECATED,[this.tplClasspath,i]),this._out._currentSection){var r={inside:e,to:t};null===t&&(e==this.data?(r.inside=this.__dataGround,r.to="data"):this.$logError(this.SECTION_BINDING_ERROR_SINGLE_VAR,[i])),this._out._currentSection.registerBinding(r)}},getCSSDependencies:function(){var e;return this._tpl&&(e=this._tpl.$css),null==e&&(e=[]),e},getCSSClassNames:function(e){var t=this._cssClasses;if(!t){if(this._cfg.isRootTemplate){var i=["aria.templates.GlobalStyle"];aria.widgets&&aria.widgets.AriaSkin&&i.push("aria.templates.LegacyGeneralStyle"),aria.templates.CSSMgr.loadWidgetDependencies("aria.templates.Template",i),this._globalCssDepsLoaded=!0}t=aria.templates.CSSMgr.loadDependencies(this),this._cssClasses=t}if(e)return t.join(" ");var r=["xTplContent"];return t.length&&(r=r.concat(t)),aria.core.TplClassLoader.addPrintOptions(r.join(" "),this._cfg.printOptions)},registerProcessingIndicator:function(e,t,i){this.$assert(1200,null!=t),e?i?this.__loadingOverlaysSection[i]=t:this.__loadingOverlays.push(t):i?delete this.__loadingOverlaysSection[i]:aria.utils.Array.remove(this.__loadingOverlays,t)},refreshProcessingIndicator:function(){this._mainSection&&this._mainSection.refreshProcessingIndicator(!0)},__disposeProcessingIndicators:function(e){var t=aria.utils.DomOverlay;t.disposeOverlays(this.__loadingOverlays),this.__loadingOverlays=[],!e||e.isRoot?(t.disposeOverlays(aria.utils.Array.extractValuesFromMap(this.__loadingOverlaysSection)),this.__loadingOverlaysSection={}):(t.disposeOverlays([this.__loadingOverlaysSection[e.id]]),delete this.__loadingOverlaysSection[e.id])},__disposeWrappers:function(){for(var e=this.__wrappers.length;e--;)this.__wrappers[e].$dispose(),this.__wrappers.splice(e,1)},getContainerScroll:function(){var e=null,t=this.getContainerDiv();return t&&(e={scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}),e},setContainerScroll:function(e){var t=this.getContainerDiv();t&&e&&(e.hasOwnProperty("scrollLeft")&&null!=e.scrollLeft&&(t.scrollLeft=e.scrollLeft),e.hasOwnProperty("scrollTop")&&null!=e.scrollTop&&(t.scrollTop=e.scrollTop))}}})})();
//*******************
//LOGICAL-PATH:aria/templates/TemplateManager.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.TemplateManager",$singleton:!0,$events:{unloadTemplate:""},$prototype:{unloadTemplate:function(e,t,i){var r=aria.core.ClassMgr,n=e+"Script";(Aria.nspace(n,!1)||aria.core.Cache.getItem("classes",n))&&r.unloadClass(n,t);var s=Aria.$classDefinitions[e];if(s){if(!Aria.nspace(e,!1)&&s.$css&&aria.templates.CSSMgr.unregisterDependencies(e,s.$css,!0,t),null!=s.$resources){var a=s.$resources;for(var o in a)a.hasOwnProperty(o)&&!a[o].hasOwnProperty("provider")&&r.unloadClass(a[o],t)}var l=s.$extends;null!=l&&"aria.templates.Template"!=l&&void 0!==i&&i!=e&&this.unloadTemplate(l,t,i)}r.unloadClass(e,t),this.$raiseEvent({name:"unloadTemplate",classpath:e})}}});
//*******************
//LOGICAL-PATH:aria/templates/TemplateTrait.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.TemplateTrait",$prototype:{_onModuleCtrlLoad:function(){var e=this._tplcfg;if(e)if(this._needCreatingModuleCtrl){var t=this._cfg.moduleCtrl;aria.templates.ModuleCtrlFactory.createModuleCtrl(t,{fn:this._onTplLoad,scope:this,args:{autoDispose:t.autoDispose}})}else this._onTplLoad({moduleCtrl:e.moduleCtrl},{autoDispose:!1})},__innerTplReadyCb:function(){this.subTplCtxt.viewReady(),this.$raiseEvent("ElementReady"),this.isDiffered=!1},_focusHelper:function(e){return e&&e.length?(this.subTplCtxt.$focus(e),!0):this.subTplCtxt.$focusFromParent()},focus:function(e,t){return this.subTplCtxt?this._focusHelper(e):(this.$onOnce({ElementReady:function(){var i=this._focusHelper(e);i===!1&&this.$callback(t)},scope:this}),!0)}}});
//*******************
//LOGICAL-PATH:aria/templates/TplParser.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.TplParser",$extends:"aria.templates.Parser",$singleton:!0,$prototype:{parseTemplate:function(e,t){return this.context=t,this._prepare(e),this._computeLineNumbers(),this._buildTree()}}});
//*******************
//LOGICAL-PATH:aria/widgetLibs/environment/WidgetLibsSettingsCfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.widgetLibs.environment.WidgetLibsSettingsCfgBeans",$namespaces:{json:"aria.core.JsonTypes"},$beans:{AppCfg:{$type:"json:Object",$restricted:!1,$properties:{defaultWidgetLibs:{$type:"json:Map",$contentType:{$type:"json:PackageName"},$default:{aria:"aria.widgets.AriaLib"}}}}}});
//*******************
//LOGICAL-PATH:aria/widgetLibs/environment/WidgetLibsSettings.js
//*******************
Aria.classDefinition({$classpath:"aria.widgetLibs.environment.WidgetLibsSettings",$extends:"aria.core.environment.EnvironmentBase",$dependencies:["aria.widgetLibs.environment.WidgetLibsSettingsCfgBeans"],$singleton:!0,$prototype:{_cfgPackage:"aria.widgetLibs.environment.WidgetLibsSettingsCfgBeans.AppCfg",getWidgetLibs:function(){var e=this.checkApplicationSettings("defaultWidgetLibs");return e}}});
//*******************
//LOGICAL-PATH:aria/templates/TplClassGenerator.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.TplClassGenerator",$extends:"aria.templates.ClassGenerator",$singleton:!0,$dependencies:["aria.templates.TplParser","aria.widgetLibs.environment.WidgetLibsSettings"],$constructor:function(){this.$ClassGenerator.constructor.call(this),this._loadStatements(["Template","id","on","createView","section","@","repeater","bindRefreshTo"]),this._parser=aria.templates.TplParser,this._superClass="aria.templates.Template",this._classType="TPL",this._rootStatement="Template",this._templateParamBean="aria.templates.CfgBeans.TemplateCfg",this.escapeModifier="escapeForHTML"},$prototype:{_writeClassInit:function(e){var t=e.templateParam;e.enterBlock("classInit"),this._writeMapInheritance(e,"__$macrolibs",e.templateParam.$macrolibs,"{}"),this._writeValueInheritance(e,"__$width",t.$width,"{}"),this._writeValueInheritance(e,"__$height",t.$height,"{}"),e.leaveBlock(),this.$ClassGenerator._writeClassInit.call(this,e)},_processTemplateContent:function(e){var t=e.out,i=t.templateParam,r=i.$wlibs,n=[],s=aria.widgetLibs.environment.WidgetLibsSettings.getWidgetLibs();for(var a in s)s.hasOwnProperty(a)&&null==r[a]&&(r[a]=s[a]);for(var a in r)r.hasOwnProperty(a)&&(t.allDependencies&&t.addDependency(r[a]),n.push(r[a]));Aria.load({classes:n,oncomplete:{fn:this.$ClassGenerator._processTemplateContent,scope:this,args:e}})}}});
//*******************
//LOGICAL-PATH:aria/templates/TmlClassGenerator.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.TmlClassGenerator",$extends:"aria.templates.ClassGenerator",$singleton:!0,$dependencies:["aria.templates.TplParser","aria.templates.TplClassGenerator"],$constructor:function(){this.$ClassGenerator.constructor.call(this),this._loadStatements(["Library","id","on","createView","section","@","repeater","bindRefreshTo"]),this._parser=aria.templates.TplParser,this._superClass="aria.templates.Template",this._classType="TML",this._rootStatement="Library",this._templateParamBean="aria.templates.CfgBeans.LibraryCfg",this.escapeModifier="escapeForHTML"},$prototype:{$init:function(e){var t=aria.templates.TplClassGenerator;e._processTemplateContent=t._processTemplateContent},_writeClassInit:function(e){e.templateParam,e.enterBlock("classInit"),this._writeMapInheritance(e,"__$macrolibs",e.templateParam.$macrolibs,"{}"),e.leaveBlock(),this.$ClassGenerator._writeClassInit.call(this,e)}}});
//*******************
//LOGICAL-PATH:aria/templates/TxtParser.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.TxtParser",$extends:"aria.templates.Parser",$singleton:!0,$constructor:function(){this.$Parser.constructor.apply(this,arguments),this._keepWhiteSpace=!0},$prototype:{parseTemplate:function(e,t){return this.context=t,this._prepare(e),this._computeLineNumbers(),this._buildTree()}}});
//*******************
//LOGICAL-PATH:aria/templates/View.js
//*******************
(function(){var e,t=function(e,t){return e.sortKey==t.sortKey?0:e.sortKey>t.sortKey?1:-1},i=function(e,t){return e.sortKey==t.sortKey?0:e.sortKey>t.sortKey?-1:1},r=function(e,t){return e.value[t.propertyName]};Aria.classDefinition({$classpath:"aria.templates.View",$dependencies:["aria.utils.Json","aria.utils.StackHashMap","aria.utils.Type"],$onload:function(){e=aria.utils.Json},$onunload:function(){e=null},$constructor:function(e){return aria.utils.Type.isObject(e)||aria.utils.Type.isArray(e)?(this.initialArray=e,this.sortOrder=this.SORT_INITIAL,this.sortName=null,this.sortKeyGetter=null,this.items=[],this.filteredInCount=0,this.pageSize=-1,this.pageMode=!1,this.currentPageIndex=0,this.pages=this.EMPTY_PAGES,this._currentState={initialArray:null,sortOrder:this.sortOrder,sortName:this.sortName,sortKeyGetter:this.sortKeyGetter,pageSize:this.pageSize,currentPageIndex:this.currentPageIndex},this._changes=0,this._jsonChangeCallback={fn:this._notifyDataChange,scope:this},this._refreshInitialArray(),void 0):(this.$logError(this.INVALID_TYPE_OF_ARGUMENT),void 0)},$destructor:function(){this.items&&(this._removeListenersOnItems(this.items),this.items=null),this._jsonChangeCallback=null,this.initialArray=null,this.pages=null},$statics:{SORT_INITIAL:"I",SORT_ASCENDING:"A",SORT_DESCENDING:"D",FILTER_SET:0,FILTER_ADD:1,FILTER_REMOVE:2,CHANGED_INITIAL_ARRAY:1,CHANGED_SORT_CRITERIA:2,_CHANGED_FILTERED_IN:4,_CHANGED_PAGE_DATA:8,EMPTY_PAGES:[{pageIndex:0,pageNumber:1,firstItemIndex:0,lastItemIndex:-1,firstItemNumber:0,lastItemNumber:0}],INVALID_TYPE_OF_ARGUMENT:"Invalid type: a View can be created on Arrays or Objects",propertySorter:function(e){return{scope:this,fn:r,args:{propertyName:e}}}},$prototype:{notifyChange:function(e){this._changes=this._changes|e},refresh:function(e){e&&this.notifyChange(e);var t=this._currentState;this._refreshInitialArray(),this.$assert(156,t.initialArray==this.initialArray),this.sortOrder==this.SORT_INITIAL?(t.sortOrder!=this.SORT_INITIAL&&this._resetSortOrder(),this.sortName=null,this.sortKeyGetter=null):t.sortKeyGetter!=this.sortKeyGetter||t.sortName!=this.sortName||this._changes&this.CHANGED_SORT_CRITERIA?this._sort():this.sortOrder!=t.sortOrder&&(this.$assert(167,this.sortOrder!=this.SORT_INITIAL&&t.sortKeyGetter==this.sortKeyGetter&&t.sortName==this.sortName&&!(this._changes&this.CHANGED_SORT_CRITERIA)),this.items.reverse(),t.sortOrder=this.sortOrder,this._changes=this._changes|this._CHANGED_PAGE_DATA),this.$assert(176,this.sortOrder==t.sortOrder),this.$assert(177,this.sortKeyGetter==t.sortKeyGetter),this.$assert(178,this.sortName==t.sortName),(t.pageSize!=this.pageSize||this._changes&(this._CHANGED_PAGE_DATA|this._CHANGED_FILTERED_IN))&&this._refreshPageData(),this.$assert(181,this.pageSize==t.pageSize),this.pageMode?(this.$assert(194,this.pages.length>=0),0>this.currentPageIndex?this.currentPageIndex=0:this.currentPageIndex>=this.pages.length&&(this.currentPageIndex=this.pages.length-1)):this.currentPageIndex=0,t.currentPageIndex=this.currentPageIndex,this._changes=0},_notifyDataChange:function(){this._changes=this._changes|this._CHANGED_FILTERED_IN},_removeListenersOnItems:function(t){for(var i=t.length,r=0;i>r;r++)e.removeListener(t[r],"filteredIn",this._jsonChangeCallback)},_refreshInitialArray:function(){var e,t=this._currentState,i=this.initialArray;if(t.initialArray!=i||this._changes&this.CHANGED_INITIAL_ARRAY){if(t.initialArray){e=new aria.utils.StackHashMap;for(var r,s=this.items,n=s.length,a=0;n>a;a++)r=s[a],e.push(r.value,r)}if(aria.utils.Type.isObject(i))var o=this._getItemsFromMap(e);else var o=this._getItemsFromArray(e);e&&(this._removeListenersOnItems(e.removeAll()),e.$dispose()),this.items=o.items;var l=o.filteredOutElements,c=this.items.length;t.initialArray=i,t.sortOrder=this.SORT_INITIAL,t.sortName=null,t.sortKeyGetter=null,t.pageSize=-1,this.filteredInCount=c-l,this.pages=[{pageIndex:0,pageNumber:1,firstItemIndex:0,lastItemIndex:c-1,firstItemNumber:c>0?1:0,lastItemNumber:this.filteredInCount}],this._changes=this._changes&!this.CHANGED_INITIAL_ARRAY}},_getItemsFromArray:function(t){for(var i=this.initialArray,r=[],s=0,n=i.length,a=0;n>a;a++){var o=i[a],l=null;t&&(l=t.pop(o)),null==l?(l={value:o,initIndex:a,filteredIn:!0,sortKey:null,pageIndex:0},e.addListener(l,"filteredIn",this._jsonChangeCallback,!0)):l.pageIndex=0,r[a]=l,l.filteredIn||s++}return{items:r,filteredOutElements:s}},_getItemsFromMap:function(t){var i=0,r=[],s=0,n=this.initialArray;for(var a in n)if(n.hasOwnProperty(a)&&!e.isMetadata(a)){var o=n[a],l=null;t&&(l=t.pop(o)),null==l?(l={value:o,initIndex:a,filteredIn:!0,sortKey:null,pageIndex:0},e.addListener(l,"filteredIn",this._jsonChangeCallback,!0)):l.pageIndex=0,r[i]=l,l.filteredIn||s++,i++}return{items:r,filteredOutElements:s}},_resetSortOrder:function(){var t=this.items,i=t.length,r=[],s=this.initialArray;if(aria.utils.Type.isObject(s)){for(var n,a=new aria.utils.StackHashMap,o=0;i>o;o++)n=t[o],a.push(n.value,n);var l=0;for(var c in s)s.hasOwnProperty(c)&&!e.isMetadata(c)&&(r[l]=a.pop(s[c]),l++);a.$dispose()}else for(var o=0;i>o;o++){var u=t[o];r[u.initIndex]=u,delete t[o]}this.items=r;var h=this._currentState;h.sortOrder=this.SORT_INITIAL,h.sortName=null,h.sortKeyGetter=null,this._changes=this._changes|this._CHANGED_PAGE_DATA},_sort:function(){for(var e=this.sortKeyGetter,r=this.items,s=r.length,n=0;s>n;n++){var a=r[n];a.sortKey=e.fn.call(e.scope,a,e.args)}r.sort(this.sortOrder==this.SORT_ASCENDING?t:i);var o=this._currentState;o.sortKeyGetter=this.sortKeyGetter,o.sortOrder=this.sortOrder,o.sortName=this.sortName,this._changes=this._changes|this._CHANGED_PAGE_DATA},_refreshPageData:function(){var e=this.items,t=e.length,i=this.pageSize;0>=i&&(i=-1);for(var r=[],s=0,n=0,a=0,o=-1,l=0;t>l;l++){var c=e[l];c.filteredIn?(0===a&&(o=l),a++,c.pageIndex=n,a==i&&(r[s++]={pageIndex:n,pageNumber:n+1,firstItemIndex:o,lastItemIndex:l,firstItemNumber:n*i+1,lastItemNumber:(n+1)*i},n++,a=0)):c.pageIndex=-1}this._currentState.pageSize=i,this.pageMode=i>0,this.filteredInCount=n*i+a,a>0&&(r[s++]={pageIndex:n,pageNumber:n+1,firstItemIndex:o,lastItemIndex:t-1,firstItemNumber:n*i+1,lastItemNumber:this.filteredInCount}),0===s&&(r=this.EMPTY_PAGES),this.pages=r},allFilteredIn:function(t){null==t&&(t=!0),this._refreshInitialArray();for(var i=this.items,r=i.length,s=0;r>s;s++)e.setValue(i[s],"filteredIn",t,this._jsonChangeCallback);this.notifyChange(this._CHANGED_FILTERED_IN)},allFilteredOut:function(e){null==e&&(e=!0),this.allFilteredIn(!e)},toggleSortOrder:function(e,t){this.$assert(326,null!=e&&null!=t),this.sortOrder!=this.SORT_INITIAL&&this.sortName==e?this.sortOrder==this.SORT_ASCENDING?this.sortOrder=this.SORT_DESCENDING:(this.$assert(330,this.sortOrder==this.SORT_DESCENDING),this.sortOrder=this.SORT_ASCENDING,this.sortName=e,this.sortKeyGetter=this.$normCallback(t)):(this.sortName=e,this.sortKeyGetter=this.$normCallback(t),this.sortOrder=this.SORT_ASCENDING)},setPageSize:function(e){this.pageSize=e,this.refresh()},setCurrentPageIndex:function(e){this.currentPageIndex=e,this.refresh()},setSort:function(e,t,i){this.sortOrder=e,this.sortName=t,this.sortKeyGetter=this.$normCallback(i),this.refresh()},filterIn:function(t,i){i=this.$normCallback(i);var r=i.fn,s=i.scope;this._refreshInitialArray();for(var n=this.items,a=n.length,o=0;a>o;o++){var l=n[o],c=l.filteredIn;(t==this.FILTER_SET||c===(t==this.FILTER_REMOVE))&&(c=r.call(s,l,i.args),e.setValue(l,"filteredIn",c))}},getNewIndex:function(e,t){for(var i=0,r=e.length;r>i;i+=1)if(e[i].initIndex==t)return i}}})})();
//*******************
//LOGICAL-PATH:aria/widgetLibs/BaseWidget.js
//*******************
(function(){var e=null,t=null,i=function(e,t){return e._context&&(t||(t=[]),t.unshift("Template: "+e._context.tplClasspath+", Line: "+e._lineNumber+"\n")),t};Aria.classDefinition({$classpath:"aria.widgetLibs.BaseWidget",$dependencies:["aria.utils.IdManager","aria.templates.CSSMgr"],$onload:function(){e=new aria.utils.IdManager("w"),t=aria.utils.Array},$onunload:function(){e.$dispose(),e=null,t=null},$constructor:function(e,t,i){this._cfg=e,this._context=t,this._lineNumber=i,this._dynamicIds=null,aria.templates.CSSMgr.loadWidgetDependencies(this.$classpath,this.$css),this.__cssLoaded=!0},$destructor:function(){this._releaseAllDynamicIds(),this.__cssLoaded?(aria.templates.CSSMgr.unloadWidgetDependencies(this.$classpath,this.$css),this.__cssLoaded=!1):this.$logError(this.WIDGET_DISPOSED_TWICE),this._context=null,this._cfg=null},$statics:{WIDGET_CONTAINER_ONLY:"%1This widget must be used as a container.",WIDGET_NOT_CONTAINER:"%1This widget cannot be used as a container.",WIDGET_DISPOSED_TWICE:"This widget was disposed twice."},$prototype:{writeMarkup:function(){this.$logError(this.WIDGET_CONTAINER_ONLY)},writeMarkupBegin:function(){this.$logError(this.WIDGET_NOT_CONTAINER)},getDom:function(){return null},$logError:function(e,t,r){this.$JsObject.$logError.call(this,e,i(this,t),r)},$logWarn:function(e,t,r){this.$JsObject.$logWarn.call(this,e,i(this,t),r)},$logInfo:function(e,t,r){this.$JsObject.$logInfo.call(this,e,i(this,t),r)},$logDebug:function(e,t,r){this.$JsObject.$logDebug.call(this,e,i(this,t),r)},writeMarkupEnd:function(){},initWidget:function(){},_createDynamicId:function(){var t=e.getId();return this._dynamicIds?this._dynamicIds.push(t):this._dynamicIds=[t],t},_releaseDynamicId:function(i){var r=this._dynamicIds;if(r){var s=t.indexOf(r,i);-1!=s&&(e.releaseId(i),1==r.length?this._dynamicIds=null:t.removeAt(r,s))}},_releaseAllDynamicIds:function(){var t=this._dynamicIds;if(t){for(var i=t.length-1;i>=0;i--)e.releaseId(t[i]);this._dynamicIds=null}}}})})();
//*******************
//LOGICAL-PATH:aria/widgetLibs/BindableWidget.js
//*******************
Aria.classDefinition({$classpath:"aria.widgetLibs.BindableWidget",$extends:"aria.widgetLibs.BaseWidget",$statics:{INVALID_BEAN:"Invalid propety '%1' in widget's '%2' configuration."},$dependencies:["aria.utils.Json","aria.utils.Type"],$constructor:function(e,t,i){this.$BaseWidget.constructor.call(this,e,t,i),this._bindingListeners={}},$destructor:function(){var e=this._bindingListeners,t=aria.utils.Json;for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];t.removeListener(r.inside,r.to,r.cb)}this._bindingListeners=null,this.$BaseWidget.$destructor.call(this)},$prototype:{_registerBindings:function(){var e=this._cfg.bind,t=aria.utils.Json;if(e)for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];if(r){var s={fn:this._notifyDataChange,scope:this,args:i};try{t.addListener(r.inside,r.to,s,!0),this._bindingListeners[i]={inside:r.inside,to:r.to,transform:r.transform,cb:s};var n=this._transform(r.transform,r.inside[r.to],"toWidget");this.setWidgetProperty(i,n)}catch(a){this.$logError(this.INVALID_BEAN,[i,"bind"])}}}},_notifyDataChange:Aria.empty,setWidgetProperty:Aria.empty,_transform:function(e,t,i){var r=t;if(e){var s=!1,n=aria.utils.Type;n.isString(e)&&-1!=e.indexOf(".")&&(e=Aria.getClassInstance(e),s=!0),e[i]?r=this.evalCallback(e[i],r):n.isFunction(e)&&(r=this.evalCallback(e,r)),s&&e.$dispose()}return r},evalCallback:function(e,t){return this._context.evalCallback(e,t)}}});
//*******************
//LOGICAL-PATH:aria/widgetLibs/WidgetLib.js
//*******************
Aria.classDefinition({$classpath:"aria.widgetLibs.WidgetLib",$statics:{UNKWOWN_WIDGET:"Unknown widget name in the library.",ERROR_WIDGET_INIT:"Template %1, line %2: an error occurred while initializing widget %3. Please check the name and classpath of the widget in the library, the constructor of the widget and its %4 method."},$prototype:{widgets:{},getWidgetDependencies:function(e,t){var i=this.widgets[e];return null==i?null:t||null==Aria.getClassRef(i)?[i]:[]},processWidgetMarkup:function(e,t,i,r){var s=this.widgets[e];try{if(!s)throw this.UNKWOWN_WIDGET;i||(i={});var n=Aria.getClassRef(s),a=new n(i,t.tplCtxt,r);t.registerBehavior(a),a.writeMarkup(t)}catch(o){t.write("#Error in widget:"+e+"#"),this.$logError(this.ERROR_WIDGET_INIT,[t.tplCtxt.tplClasspath,r,e,"writeMarkup"],o)}},processWidgetMarkupBegin:function(e,t,i,r){var s=this.widgets[e];try{if(s){i||(i={});var n=Aria.getClassRef(s),a=new n(i,t.tplCtxt,r);return t.registerBehavior(a),a.writeMarkupBegin(t),a}throw this.UNKWOWN_WIDGET}catch(o){t.write("#Error in widget:"+e+"#"),this.$logError(this.ERROR_WIDGET_INIT,[t.tplCtxt.tplClasspath,r,e,"writeMarkupBegin"],o)}}}});
//*******************
//LOGICAL-PATH:aria/utils/environment/VisualFocusCfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.utils.environment.VisualFocusCfgBeans",$namespaces:{json:"aria.core.JsonTypes"},$beans:{AppCfg:{$type:"json:Object",$restricted:!1,$properties:{appOutlineStyle:{$type:"json:String",$default:null}}}}});
//*******************
//LOGICAL-PATH:aria/utils/environment/VisualFocus.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.environment.VisualFocus",$extends:"aria.core.environment.EnvironmentBase",$dependencies:["aria.utils.environment.VisualFocusCfgBeans"],$singleton:!0,$prototype:{_cfgPackage:"aria.utils.environment.VisualFocusCfgBeans.AppCfg",getAppOutlineStyle:function(){return this.checkApplicationSettings("appOutlineStyle")},_applyEnvironment:function(e){var t=this.checkApplicationSettings("appOutlineStyle");t?Aria.load({classes:["aria.utils.VisualFocus"],oncomplete:e?{fn:function(){this.$callback(e)},scope:this}:null}):this.$callback(e)}}});
//*******************
//LOGICAL-PATH:aria/tools/contextual/environment/ContextualMenuCfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.tools.contextual.environment.ContextualMenuCfgBeans",$namespaces:{json:"aria.core.JsonTypes",environmentBase:"aria.core.environment.EnvironmentBaseCfgBeans"},$beans:{AppCfg:{$type:"json:Object",$restricted:!1,$properties:{contextualMenu:{$type:"ContextualMenuCfg",$default:{}}}},ContextualMenuCfg:{$type:"json:Object",$properties:{enabled:{$type:"json:Boolean",$default:Aria.debug},template:{$type:"json:PackageName",$default:"aria.tools.contextual.ContextualDisplay"},moduleCtrl:{$type:"json:PackageName",$default:"aria.tools.contextual.ContextualModule"}}}}});
//*******************
//LOGICAL-PATH:aria/tools/contextual/environment/ContextualMenu.js
//*******************
Aria.classDefinition({$classpath:"aria.tools.contextual.environment.ContextualMenu",$dependencies:["aria.tools.contextual.environment.ContextualMenuCfgBeans"],$extends:"aria.core.environment.EnvironmentBase",$singleton:!0,$prototype:{_cfgPackage:"aria.tools.contextual.environment.ContextualMenuCfgBeans.AppCfg",getContextualMenu:function(){return this.checkApplicationSettings("contextualMenu")}}});