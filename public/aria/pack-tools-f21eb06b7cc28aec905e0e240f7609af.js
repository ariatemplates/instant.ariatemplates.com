/*
 * Aria Templates 1.4.4 - 22 May 2013
 *
 * Copyright 2009-2013 Amadeus s.a.s.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
//***MULTI-PART
//*******************
//LOGICAL-PATH:aria/tools/common/ObjectTreeDisplayScript.js
//*******************
Aria.tplScriptDefinition({$classpath:"aria.tools.common.ObjectTreeDisplayScript",$prototype:{$dataReady:function(){this.data.showDepth&&this._showDepth(this.data.content,this.data.showDepth,0)},_showDepth:function(t,e,i){if(t&&e>i){t["view:ariaDebug:showOpen"+i]=!0;for(var s in t)t.hasOwnProperty(s)&&this._showDepth(t[s],e,i+1)}},nodeClick:function(t,e){var i=e.element,s=e.depth,a="view:ariaDebug:showOpen"+s;i[a]=i[a]?!1:!0,this.$refresh()},filterTypes:function(t){var e={meta:{arrays:[],objects:[],strings:[],numbers:[],instances:[],booleans:[],others:[]},data:{arrays:[],objects:[],strings:[],numbers:[],instances:[],booleans:[],others:[]}},i=aria.utils.Type;for(var s in t)if(t.hasOwnProperty(s)&&!this.$json.isMetadata(s)&&0!==s.indexOf("view:ariaDebug:showOpen")){var a,n=t[s];a=-1==s.indexOf(":")?e.data:e.meta,a=i.isArray(n)?a.arrays:i.isObject(n)?a.objects:i.isString(n)?a.strings:i.isNumber(n)?a.numbers:i.isBoolean(n)?a.booleans:n&&n.$classpath?a.instances:a.others,a.push(s)}return e}}});
//*******************
//LOGICAL-PATH:aria/tools/common/ObjectTreeDisplay.tpl
//*******************
Aria.classDefinition({$classpath:"aria.tools.common.ObjectTreeDisplay",$extends:"aria.templates.Template",$constructor:function(){this.$Template.constructor.call(this),this.$ObjectTreeDisplayScript.constructor.call(this)},$destructor:function(){this.$ObjectTreeDisplayScript.$destructor.call(this),this.$Template.$destructor.call(this)},$dependencies:["aria.widgets.AriaLib","aria.tools.common.ObjectTreeDisplayScript","aria.widgets.Icon"],$prototype:{macro_main:function(){try{with(this)this.__$write('\n<table cellpadding="0" cellspacing="0">\n',26),this.macro_displayElement(data.content,data.title,0),this.__$write("\n</table>\n",28)}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",this["aria:currentLineNumber"]],_ex)}},macro_displayElement:function(element,name,depth){try{with(this)if(this.__$write('\n\n\n<tr>\n\n<td style="padding-left:',32),this.__$write(20*depth,36),this.__$write('px; padding-right:10px;">\n\n',36),element&&!element.$classpath&&(typeUtils.isArray(element)||typeUtils.isObject(element))?element["view:ariaDebug:showOpen"+depth]?(this.__$write('\n<span style="cursor:pointer;" ',40),this.__$statementOnEvent("click",this.$normCallback({fn:nodeClick,args:{element:element,depth:depth}}),40),this.__$write(">",40),this.__$processWidgetMarkup("aria.widgets.AriaLib","Icon",{icon:"std:collapse"},40),this.__$write(" ",40),this.macro_displayName(name),this.__$write("</span>\n",40)):(this.__$write('\n<span style="cursor:pointer;" ',42),this.__$statementOnEvent("click",this.$normCallback({fn:nodeClick,args:{element:element,depth:depth}}),42),this.__$write(">",42),this.__$processWidgetMarkup("aria.widgets.AriaLib","Icon",{icon:"std:expand"},42),this.__$write(" ",42),this.macro_displayName(name),this.__$write("</span>\n",42)):(this.__$write('\n<span style="padding-left:16px">&nbsp;',45),this.macro_displayName(name),this.__$write("</span>\n",45)),this.__$write('\n</td>\n\n\n<td style="vertical-align: top;">\n',47),typeUtils.isArray(element)?(this.__$write('\n<span style="color:orange; cursor:pointer;" ',52),this.__$statementOnEvent("click",this.$normCallback({fn:nodeClick,args:{element:element,depth:depth}}),52),this.__$write(">Array [",52),this.__$write(element.length,52),this.__$write("]</span>\n",52)):typeUtils.isObject(element)?(this.__$write('\n<span style="color:orange; cursor:pointer;" ',54),this.__$statementOnEvent("click",this.$normCallback({fn:nodeClick,args:{element:element,depth:depth}}),54),this.__$write(">Object</span>\n",54)):null===element?this.__$write("\n<em>null</em>\n",56):element===void 0?this.__$write("\n<em>undefined</em>\n",58):typeUtils.isString(element)?(this.__$write('\n<span style="color:red">"',60),this.__$write(element,60),this.__$write('"</span>\n',60)):element===!0?this.__$write('\n<span style="color:purple">true</span>\n',62):element===!1?this.__$write('\n<span style="color:purple">false</span>\n',64):typeUtils.isNumber(element)?(this.__$write('\n<span style="color:blue">',66),this.__$write(element,66),this.__$write("</span>\n",66)):element.$classpath?this.__$write(element.$classpath,68):(this.__$write('\n<span style="color:green">',70),this.__$write(typeof element,70),this.__$write("</span>\n",70)),this.__$write("\n</td>\n</tr>\n",72),element&&element["view:ariaDebug:showOpen"+depth]){var types=filterTypes(element);this.macro_displaySubElement(element,types.data,depth+1),this.macro_displaySubElement(element,types.meta,depth+1)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["displayElement",this["aria:currentLineNumber"]],_ex)}},macro_displaySubElement:function(element,types,depth){try{with(this){var __v_1=types.booleans;void 0==types.booleans&&this.$logError(this.ITERABLE_UNDEFINED,["foreach",83]);for(var key_ct=0,__v_2=__v_1.length,key_index=0;__v_2>key_index;key_index++){var key=__v_1[key_index];key_ct++,this.macro_displayElement(element[key],key,depth)}var __v_3=types.strings;void 0==types.strings&&this.$logError(this.ITERABLE_UNDEFINED,["foreach",86]);for(var key_ct=0,__v_4=__v_3.length,key_index=0;__v_4>key_index;key_index++){var key=__v_3[key_index];key_ct++,this.macro_displayElement(element[key],key,depth)}var __v_5=types.numbers;void 0==types.numbers&&this.$logError(this.ITERABLE_UNDEFINED,["foreach",89]);for(var key_ct=0,__v_6=__v_5.length,key_index=0;__v_6>key_index;key_index++){var key=__v_5[key_index];key_ct++,this.macro_displayElement(element[key],key,depth)}var __v_7=types.instances;void 0==types.instances&&this.$logError(this.ITERABLE_UNDEFINED,["foreach",92]);for(var key_ct=0,__v_8=__v_7.length,key_index=0;__v_8>key_index;key_index++){var key=__v_7[key_index];key_ct++,this.macro_displayElement(element[key],key,depth)}var __v_9=types.others;void 0==types.others&&this.$logError(this.ITERABLE_UNDEFINED,["foreach",95]);for(var key_ct=0,__v_10=__v_9.length,key_index=0;__v_10>key_index;key_index++){var key=__v_9[key_index];key_ct++,this.macro_displayElement(element[key],key,depth)}var __v_11=types.arrays;void 0==types.arrays&&this.$logError(this.ITERABLE_UNDEFINED,["foreach",98]);for(var key_ct=0,__v_12=__v_11.length,key_index=0;__v_12>key_index;key_index++){var key=__v_11[key_index];key_ct++,this.macro_displayElement(element[key],key,depth)}var __v_13=types.objects;void 0==types.objects&&this.$logError(this.ITERABLE_UNDEFINED,["foreach",101]);for(var key_ct=0,__v_14=__v_13.length,key_index=0;__v_14>key_index;key_index++){var key=__v_13[key_index];key_ct++,this.macro_displayElement(element[key],key,depth)}}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["displaySubElement",this["aria:currentLineNumber"]],_ex)}},macro_displayName:function(name){try{with(this)-1!=name.indexOf(":")?(this.__$write('\n<span style="color:grey">',109),this.__$write(name,109),this.__$write("</span>\n",109)):this.__$write(name,111)}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["displayName",this["aria:currentLineNumber"]],_ex)}},$init:function(t){t.__$macrolibs={},t.__$width={},t.__$height={},aria.core.TplClassLoader._importScriptPrototype(aria.tools.common.ObjectTreeDisplayScript,t)},__$initTemplate:function(){try{with(this)this.typeUtils=aria.utils.Type}catch(_ex){return this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex),!1}return!0}}});
//*******************
//LOGICAL-PATH:aria/tools/inspector/IInspectorModule.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.tools.inspector.IInspectorModule",$extends:"aria.templates.IModuleCtrl",$interface:{displayHighlight:function(){},reloadTemplate:function(){},refreshTemplate:function(){},reloadModule:function(){},getSource:function(){}},$events:{contentChanged:""}});
//*******************
//LOGICAL-PATH:aria/tools/inspector/InspectorDisplayScript.js
//*******************
Aria.tplScriptDefinition({$classpath:"aria.tools.inspector.InspectorDisplayScript",$prototype:{tplMouseOver:function(t,e){this.moduleCtrl.displayHighlight(e.templateCtxt.getContainerDiv()),this.data.overModuleCtrl=e.moduleCtrl,this.mouseOver(t),this._refreshModulesDisplay(),t.stopPropagation()},tplMouseOut:function(t){this.data.overModuleCtrl=null,this.mouseOut(t),this._refreshModulesDisplay(),t.stopPropagation()},moduleMouseOver:function(t,e){this.data.overTemplates=e.outerTemplateCtxts,this.mouseOver(t),this._refreshTemplatesDisplay(),t.stopPropagation()},moduleMouseOut:function(t){this.data.overTemplates=null,this.mouseOut(t),this._refreshTemplatesDisplay(),t.stopPropagation()},mouseOver:function(t){t.target.setStyle("background:#DDDDDD;")},mouseOut:function(t){t.target.setStyle("")},selectTemplate:function(t,e){this.data.selectedTemplate=e,this.$refresh()},selectModule:function(t,e){this.data.selectedModule=e,this.$refresh()},reloadTemplate:function(t,e){this.moduleCtrl.reloadTemplate(e.templateCtxt)},refreshTemplate:function(t,e){this.moduleCtrl.refreshTemplate(e.templateCtxt)},onModuleEvent:function(t){"contentChanged"==t.name&&this.$refresh()},_refreshModulesDisplay:function(){this.$refresh({filterSection:"modules",macro:{name:"displayModules",args:[this.data.modules]}})},_refreshTemplatesDisplay:function(){this.$refresh({filterSection:"templates",macro:{name:"displayTemplates",args:[this.data.templates]}})}}});
//*******************
//LOGICAL-PATH:aria/tools/inspector/InspectorDisplay.tpl
//*******************
Aria.classDefinition({$classpath:"aria.tools.inspector.InspectorDisplay",$extends:"aria.templates.Template",$constructor:function(){this.$Template.constructor.call(this),this.$InspectorDisplayScript.constructor.call(this)},$destructor:function(){this.$InspectorDisplayScript.$destructor.call(this),this.$Template.$destructor.call(this)},$dependencies:["aria.widgets.AriaLib","aria.tools.inspector.InspectorDisplayScript","aria.widgets.container.Dialog","aria.widgets.Template","aria.widgets.Icon"],$prototype:{macro_main:function(){try{with(this)this.__$beginContainerWidget("aria.widgets.AriaLib","Dialog",{contentMacro:"showLock",modal:!0,closable:!1,bind:{visible:{to:"locked",inside:data}}},27)&&this.__$endContainerWidget(),this.__$write('\n\n<div style="float:left;width:',39),this.__$write($hdim(380,.5),40),this.__$write('px;margin:5px;">\n<h2 style="color:#99CC00;margin-bottom:0px;">Templates</h2>\n<div style="border:solid 1px #888;padding:5px;width:',40),this.__$write($hdim(368,.5),42),this.__$write('px;overflow:auto;">\n\n<em style="color:lightGrey">List of templates displayed in the application. Mouse over to highlight and show associated module, click to display details.</em>\n',42),this.macro_displayTemplates(data.templates),this.__$write("\n</div>\n\n",46),data.selectedTemplate&&(this.__$write('\n<div  style="border:solid 1px #888;padding:5px;margin-top:5px;">\n',49),this.__$processWidgetMarkup("aria.widgets.AriaLib","Template",{defaultTemplate:"aria.tools.inspector.TemplateInspector",data:data.selectedTemplate,width:$hdim(368,.5)},50),this.__$write("\n</div>\n",55)),this.__$write('\n\n</div>\n\n<div style="float:left;width:',57),this.__$write($hdim(380,.5),60),this.__$write('px; margin:5px;overflow:auto;">\n<h2 style="color:#CC0099;margin-bottom:0px;">Module Controllers & Data</h2>\n<div  style="border:solid 1px #888;padding:5px;width:',60),this.__$write($hdim(368,.5),62),this.__$write('px;overflow:auto;">\n\n<em style="color:lightGrey">List of module controllers associated to templates in the application. Mouse over to highlight associated template, click to display details.</em>\n',62),this.macro_displayModules(data.modules),this.__$write("\n</div>\n\n",66),data.selectedModule&&(this.__$write('\n<div  style="border:solid 1px #888;padding:5px;margin-top:5px;">\n',69),this.__$processWidgetMarkup("aria.widgets.AriaLib","Template",{defaultTemplate:"aria.tools.inspector.ModuleInspector",data:this.data.selectedModule,width:$hdim(368,.5)},70),this.__$write("\n</div>\n",75)),this.__$write("\n\n</div>\n\n",77)}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",this["aria:currentLineNumber"]],_ex)}},macro_showLock:function(){try{with(this)this.__$write('\n<div style="padding:10px">\n',83),this.__$processWidgetMarkup("aria.widgets.AriaLib","Icon",{icon:"std:warning"},84),this.__$write(" Operation in progress ...\n</div>\n",84)}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["showLock",this["aria:currentLineNumber"]],_ex)}},macro_displayTemplates:function(templates){try{with(this)this.__$beginSection(89,!0,"templates"),this.macro_recDisplayTemplates(templates),this.__$endSection()}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["displayTemplates",this["aria:currentLineNumber"]],_ex)}},macro_recDisplayTemplates:function(templates){try{with(this){this.__$write("\n<ul>\n",95);for(var i=0;templates.length>i;i++){var template=templates[i],templateCtxt=template.templateCtxt;this.__$write("\n<li ",99),this.__$statementOnEvent("mouseover",this.$normCallback({fn:tplMouseOver,args:template}),99),this.__$statementOnEvent("mouseout",this.$normCallback({fn:tplMouseOut}),100),this.__$statementOnEvent("click",this.$normCallback({fn:selectTemplate,args:template}),101),data.overTemplates&&aria.utils.Array.contains(data.overTemplates,templateCtxt)&&this.__$write("style='background:#DDDDDD;'",102),this.__$write(">\n",102),data.selectedTemplate&&data.selectedTemplate.templateCtxt==templateCtxt&&this.__$write("<strong>",103),this.__$write(templateCtxt.tplClasspath,104),data.selectedTemplate&&data.selectedTemplate.templateCtxt==templateCtxt&&this.__$write("</strong>",105),template.content.length>0&&this.macro_recDisplayTemplates(template.content),this.__$write("\n</li>\n",109)}this.__$write("\n</ul>\n",111)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["recDisplayTemplates",this["aria:currentLineNumber"]],_ex)}},macro_displayModules:function(modules){try{with(this){this.__$beginSection(115,!0,"modules"),this.__$write("\n<ul>\n",116);for(var i=0;modules.length>i;i++){var module=modules[i];this.__$write("\n<li ",119),this.__$statementOnEvent("mouseover",this.$normCallback({fn:moduleMouseOver,args:module}),119),this.__$statementOnEvent("mouseout",this.$normCallback({fn:moduleMouseOut}),120),this.__$statementOnEvent("click",this.$normCallback({fn:selectModule,args:module}),121),module.moduleCtrl==data.overModuleCtrl&&this.__$write("style='background:#DDDDDD;'",122),this.__$write(" />\n",122),data.selectedModule&&data.selectedModule.moduleCtrl==module.moduleCtrl&&this.__$write("<strong>",123),this.__$write(module.moduleCtrl.$classpath,124),data.selectedModule&&data.selectedModule.moduleCtrl==module.moduleCtrl&&this.__$write("</strong>",125),this.__$write("\n</li>\n",126)}this.__$write("\n</ul>\n",128),this.__$endSection()}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["displayModules",this["aria:currentLineNumber"]],_ex)}},$init:function(t){t.__$macrolibs={},t.__$width={min:800},t.__$height={},aria.core.TplClassLoader._importScriptPrototype(aria.tools.inspector.InspectorDisplayScript,t)},__$initTemplate:function(){return!0}}});
//*******************
//LOGICAL-PATH:aria/tools/inspector/InspectorModule.js
//*******************
Aria.classDefinition({$classpath:"aria.tools.inspector.InspectorModule",$extends:"aria.templates.ModuleCtrl",$dependencies:["aria.utils.Event","aria.utils.Dom","aria.utils.Json"],$templates:["aria.tools.inspector.InspectorDisplay"],$implements:["aria.tools.inspector.IInspectorModule"],$constructor:function(){this.$ModuleCtrl.constructor.call(this),this.bridge=null,this._data={templates:[],modules:[],dataFragments:[],selectedTemplate:null,selectedModule:null,locked:!1},this._holder=null,this._hideTimeout=null,this._mainContextual=null,this._replaceHtmlOriginal=null},$destructor:function(){this.clearHightlight();var t=this.bridge.getAriaPackage().utils.Dom;t.replaceHTML=this._replaceHtmlOriginal,this._replaceHtmlOriginal=null,t.insertAdjacentHTML=this._insertAdjacentHtmlOriginal,this._insertAdjacentHtmlOriginal=null,t.removeElement=this._removeElementOriginal,this._removeElementOriginal=null,this.$ModuleCtrl.$destructor.call(this)},$prototype:{$publicInterfaceName:"aria.tools.inspector.IInspectorModule",init:function(t){this.bridge=t.bridge,this.$assert(77,!!this.bridge);var e=this.bridge.getAriaPackage().utils.Dom;this._replaceHtmlOriginal=e.replaceHTML,e.replaceHTML=this._interceptMethod(this._replaceHtmlOriginal),this._insertAdjacentHtmlOriginal=e.insertAdjacentHTML,e.insertAdjacentHTML=this._interceptMethod(this._insertAdjacentHtmlOriginal),this._removeElementOriginal=e.removeElement,e.removeElement=this._interceptMethod(this._removeElementOriginal),this.bridge.$on({forwardEvent:this._onForward,scope:this});var i=this.bridge.getDocument();this._holder=i.createElement("div"),i.body.appendChild(this._holder),this.refreshInformations(),this._mainContextual=Aria.nspace("tools.contextual.ContextualMenu",!1,this.bridge.getAriaPackage()),this._mainContextual&&this._mainContextual.targetTemplateCtxt&&this._selectFromTemplateCtxt(this._mainContextual.targetTemplateCtxt),this.$ModuleCtrl.init.apply(this,arguments)},_interceptMethod:function(t){var e=this,i=function(){try{e.refreshInformations()}catch(t){}};return function(e,s,a){var n=t.call(this,e,s,a);return setTimeout(i),n}},refreshInformations:function(){this._data.templates=[],this._data.modules=[],this._data.dataFragments=[];var t=this._data.templates,e=this._data.modules,i=this._data.dataFragments,s=this._data.selectedTemplate,a=this._data.selectedModule,n=this.bridge.getAriaPackage().templates.RefreshManager;if(null!=n){n.updateHierarchies();var r=n.getHierarchies();this._convertRefreshMgrHierarchies(r,t,e,i)}s==this._data.selectedTemplate&&(this._data.selectedTemplate=null),a==this._data.selectedModule&&(this._data.selectedModule=null),this.$raiseEvent("contentChanged")},_convertRefreshMgrHierarchies:function(t,e,i,s,a){for(var n=0,r=t.length;r>n;n++)this._convertRefreshMgrHierarchy(t[n],e,i,s,a)},_convertRefreshMgrHierarchy:function(t,e,i,s,a){if("template"==t.type||"templateWidget"==t.type){var n=t.elem;"templateWidget"==t.type&&(n=n.behavior?n.behavior.subTplCtxt:n.subTplCtxt);var r,o=this._data.selectedTemplate,l=this._data.selectedModule,c=[],h=[],u=!1,p=this.bridge.getAriaPackage().templates.ModuleCtrlFactory;this.$assert(190,!!n),this.$assert(191,!!p),n.data;var d=n.moduleCtrl;if(d){for(var _=0,g=i.length;g>_;_++)r=i[_],r.moduleCtrl==d?(r.current||(r.outerTemplateCtxts.push(n),r.current=!0),u=!0):r.current=!1;if(!u){var f={moduleCtrl:d,outerTemplateCtxts:[n],current:!0,isReloadable:p.isModuleCtrlReloadable(d)};l&&l.moduleCtrl==d&&(this._data.selectedModule=f),i.push(f)}}var m={templateCtxt:n,content:c,moduleCtrl:d,widgets:h};o&&o.templateCtxt==n&&(this._data.selectedTemplate=m),e.push(m),a=h,e=c}else if("widget"==t.type){var $=t.elem.behavior;if(a&&$){var y={widget:$};if(a.push(y),t.content){var v=[];y.content=v,a=v}}}t.content&&this._convertRefreshMgrHierarchies(t.content,e,i,s,a)},clearHightlight:function(){this._hideTimeout&&(clearInterval(this._hideTimeout),this._hideTimeout=null),this._holder.innerHTML=""},displayHighlight:function(t,e){this.clearHightlight(),e=e?e:"#ACC2FF";var i=this.bridge.getAriaPackage().utils.Dom.calculatePosition(t),s=this.bridge.getDocument().createElement("div");s.style.cssText=["position:absolute;top:",i.top,"px;left:",i.left,"px;width:",t.offsetWidth-8>0?t.offsetWidth-8:0,"px;height:",t.offsetHeight-8>0?t.offsetHeight-8:0,"px; border:dashed 4px "+e+";z-index: 999999999999999;z-index: 999999999999999;"].join(""),this._holder.appendChild(s),s=null,this._hideTimeout=setTimeout(aria.utils.Function.bind(this.clearHightlight,this),2e3)},reloadTemplate:function(t,e){aria.utils.Json.setValue(this._data,"locked",!0),e&&(e=this._data.selectedTemplate.tplSrcEdit),this.clearHightlight(),this._mainContextual&&t.tplClasspath!=this._mainContextual.CONTEXTUAL_TEMPLATE_CLASSPATH&&this._mainContextual.close();var i=this,s=function(){i.bridge.getAria(),i.bridge.getAriaPackage(),t.$reload(e,{fn:i._unlock,scope:i})};s()},_unlock:function(){var t=this._data;setTimeout(function(){aria.utils.Json.setValue(t,"locked",!1)},500)},reloadModule:function(t){var e=this.bridge.getAriaPackage().templates.ModuleCtrlFactory;aria.utils.Json.setValue(this._data,"locked",!0),this.clearHightlight(),e.reloadModuleCtrl(t,{fn:this._unlock,scope:this})},refreshTemplate:function(t){this.clearHightlight(),t.$refresh()},_onForward:function(t){if("ContextualTargetFound"==t.event.name){var e=t.event.templateCtxt;this._selectFromTemplateCtxt(e)}},_selectFromTemplateCtxt:function(t){var e,i,s=t.moduleCtrlPrivate,a=this._data.modules;for(e=0,i=a.length;i>e;e++){if(a[e].moduleCtrl==s){this._data.selectedModule=a[e];break}this._data.selectedModule=null}this._data.selectedTemplate=this._findTemplateDes(this._data.templates,t)},_findTemplateDes:function(t,e){var i,s,a=null;for(i=0,s=t.length;s>i;i++){var n=t[i];if(n.templateCtxt==e)return n;if(a=this._findTemplateDes(n.content,e))return a}return null},getSource:function(t){return this.bridge.getAriaPackage().core.Cache.getItem("files",t,!1)}}});
//*******************
//LOGICAL-PATH:aria/tools/inspector/ModuleInspectorScript.js
//*******************
Aria.tplScriptDefinition({$classpath:"aria.tools.inspector.ModuleInspectorScript",$prototype:{$dataReady:function(){this.data["view:dataDepth"]||(this.data["view:dataDepth"]=3)},reloadModule:function(){this.moduleCtrl.reloadModule(this.data.moduleCtrl)},onModuleEvent:function(){}}});
//*******************
//LOGICAL-PATH:aria/tools/inspector/ModuleInspector.tpl
//*******************
Aria.classDefinition({$classpath:"aria.tools.inspector.ModuleInspector",$extends:"aria.templates.Template",$constructor:function(){this.$Template.constructor.call(this),this.$ModuleInspectorScript.constructor.call(this)},$destructor:function(){this.$ModuleInspectorScript.$destructor.call(this),this.$Template.$destructor.call(this)},$dependencies:["aria.widgets.AriaLib","aria.tools.inspector.ModuleInspectorScript","aria.widgets.Template","aria.widgets.action.Button"],$prototype:{macro_main:function(){try{with(this){var localModuleCtrl=data.moduleCtrl;this.__$write("\n\n<h3>",28),this.__$write(localModuleCtrl.$classpath,29),this.__$write("</h3>\n\n<div>\n",29),this.macro_displayControls(),this.__$write("\n</div>\n\n<h4>General Information</h4>\n<ul>\n<li>Classpath: ",33),this.__$write(localModuleCtrl.$classpath,37),this.__$write("</li>\n",37),localModuleCtrl._dataBeanName&&(this.__$write("\n<li>Data bean definition: ",39),this.__$write(localModuleCtrl._dataBeanName,39),this.__$write("</li>\n",39)),this.__$write("\n<li>Interface: ",41),this.__$write(localModuleCtrl.$publicInterfaceName,41),this.__$write("</li>\n</ul>\n<h4>Data</h4>\n",41),this.__$processWidgetMarkup("aria.widgets.AriaLib","Template",{defaultTemplate:"aria.tools.common.ObjectTreeDisplay",data:{content:localModuleCtrl.getData(),title:"data",showDepth:2,search:!0},width:$hdim(100,1)},44)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",this["aria:currentLineNumber"]],_ex)}},macro_displayControls:function(){try{with(this)this.__$beginSection(57,!0,"controls"),data.isReloadable&&(this.__$write('\n<div style="text-align:center; padding:5px; background:#F3F3F3; border:solid 1px #DDDDDD;">\n',59),this.__$processWidgetMarkup("aria.widgets.AriaLib","Button",{label:"Reload",onclick:{fn:reloadModule}},60),this.__$write("\n</div>\n",61)),this.__$endSection()}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["displayControls",this["aria:currentLineNumber"]],_ex)}},$init:function(t){t.__$macrolibs={},t.__$width={min:100},t.__$height={},aria.core.TplClassLoader._importScriptPrototype(aria.tools.inspector.ModuleInspectorScript,t)},__$initTemplate:function(){return!0}}});
//*******************
//LOGICAL-PATH:aria/tools/inspector/TemplateInspectorScript.js
//*******************
Aria.tplScriptDefinition({$classpath:"aria.tools.inspector.TemplateInspectorScript",$prototype:{widgetMouseOver:function(t,e){var i=e.widget,s=i.getDom();s&&this.moduleCtrl.displayHighlight(s,"#FF6666"),this.mouseOver(t),t.stopPropagation()},widgetMouseOut:function(t){this.mouseOut(t),t.stopPropagation()},mouseOver:function(t){t.target.setStyle("background:#DDDDDD;")},mouseOut:function(t){t.target.setStyle("")},displayWidgetDetails:function(t,e){this.data.selectedWidget=e,this.$refresh({filterSection:"widgets"})},reloadTemplate:function(){this.moduleCtrl.reloadTemplate(this.data.templateCtxt)},reloadTemplateWithSrc:function(){this.moduleCtrl.reloadTemplate(this.data.templateCtxt,!0)},refreshTemplate:function(){this.moduleCtrl.refreshTemplate(this.data.templateCtxt)},onModuleEvent:function(){},toggleSource:function(){if(this.data.showSource=!this.data.showSource,this.data.showSource){this.data.initialSource=!0;var t=this.data.templateCtxt.tplClasspath.replace(/\./g,"/")+".tpl";this.data.source=this.moduleCtrl.getSource(t).value}this.$refresh()},editSource:function(t){this.data.initialSource&&(aria.utils.Json.setValue(this.data,"initialSource",!1),this.$refresh({filterSection:"controls",macro:{name:"displayControls"}})),this.data.tplSrcEdit=t.target.getValue()},_refreshWidgetsDisplay:function(){this.$refresh({filterSection:"widgets"})}}});
//*******************
//LOGICAL-PATH:aria/tools/inspector/TemplateInspector.tpl
//*******************
Aria.classDefinition({$classpath:"aria.tools.inspector.TemplateInspector",$extends:"aria.templates.Template",$constructor:function(){this.$Template.constructor.call(this),this.$TemplateInspectorScript.constructor.call(this)},$destructor:function(){this.$TemplateInspectorScript.$destructor.call(this),this.$Template.$destructor.call(this)},$dependencies:["aria.widgets.AriaLib","aria.tools.inspector.TemplateInspectorScript","aria.widgets.Icon","aria.utils.String","aria.widgets.Template","aria.widgets.action.Button"],$prototype:{macro_main:function(){try{with(this)this.__$write("\n\n<h3>",26),this.__$write(data.templateCtxt.tplClasspath,27),this.__$write("</h3>\n\n<div>\n",27),this.macro_displayControls(),this.__$write("\n</div>\n\n<h4>General Information</h4>\n\n",31),data.showSource?(this.__$write("\n<p ",36),this.__$statementOnEvent("click",this.$normCallback({fn:toggleSource}),36),this.__$write(' style="cursor:pointer;">',36),this.__$processWidgetMarkup("aria.widgets.AriaLib","Icon",{icon:"std:collapse"},36),this.__$write(" Source code</p>\n<textarea id='aria.tools.inspector.TemplateInspector_Src' style='width:",36),this.__$write($hdim(96,1),37),this.__$write('px;font-family: "courier New", courier, monospace; height:250px;\' ',37),this.__$statementOnEvent("keyup",this.$normCallback({fn:this.editSource}),37),this.__$write(">\n",37),this.__$write(this.$modifier("escape",[data.source]),38),this.__$write("\n</textarea>\n",39)):(this.__$write("\n<p ",41),this.__$statementOnEvent("click",this.$normCallback({fn:toggleSource}),41),this.__$write(' style="cursor:pointer;">',41),this.__$processWidgetMarkup("aria.widgets.AriaLib","Icon",{icon:"std:expand"},41),this.__$write(" Source code</p>\n",41)),this.__$write("\n\n<h4>Widgets</h4>\n\n",43),this.__$beginSection(46,!0,"widgets"),data.selectedWidget?(this.__$write('\n<div style="border: solid 1px #DDDDDD;padding:5px;width:',48),this.__$write($hdim(88,1),48),this.__$write('px;overflow:auto;">\n',48),this.__$processWidgetMarkup("aria.widgets.AriaLib","Template",{defaultTemplate:"aria.tools.common.ObjectTreeDisplay",data:{content:data.selectedWidget.widget._cfg,title:"Configuration",showDepth:2,search:!0}},49),this.__$write("\n</div>\n",58)):this.__$write('\n<em style="color:lightGrey">Click to display configuration details</em>\n',60),this.macro_displayWidgets(data.widgets),this.__$endSection()}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",this["aria:currentLineNumber"]],_ex)}},macro_displayWidgets:function(container){try{with(this){this.__$write("\n<ul>\n",68);var __v_1=container;void 0==container&&this.$logError(this.ITERABLE_UNDEFINED,["foreach",69]);for(var widgetDesc_ct=0,__v_2=__v_1.length,widgetDesc_index=0;__v_2>widgetDesc_index;widgetDesc_index++){var widgetDesc=__v_1[widgetDesc_index];widgetDesc_ct++,this.__$write("\n<li ",70),this.__$statementOnEvent("mouseover",this.$normCallback({fn:widgetMouseOver,args:widgetDesc}),70),this.__$statementOnEvent("mouseout",this.$normCallback({fn:widgetMouseOut}),71),this.__$write(">\n<span ",71),this.__$statementOnEvent("click",this.$normCallback({fn:displayWidgetDetails,args:widgetDesc}),72),this.__$write(">\n",72),data.selectedWidget==widgetDesc&&this.__$write("<strong>",73),this.__$write(widgetDesc.widget.$classpath,74),data.selectedWidget==widgetDesc&&this.__$write("</strong>",75),this.__$write("\n</span>\n",76),widgetDesc.content&&this.macro_displayWidgets(widgetDesc.content),this.__$write("\n</li>\n",80)}this.__$write("\n</ul>\n",82)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["displayWidgets",this["aria:currentLineNumber"]],_ex)}},macro_displayControls:function(){try{with(this)this.__$beginSection(86,!0,"controls"),this.__$write('\n<div style="text-align:center; padding:5px; background:#F3F3F3; border:solid 1px #DDDDDD;">\n',87),this.__$processWidgetMarkup("aria.widgets.AriaLib","Button",{label:"Reload",onclick:{fn:reloadTemplate}},88),this.__$processWidgetMarkup("aria.widgets.AriaLib","Button",{label:"Refresh",onclick:{fn:refreshTemplate}},89),data.showSource&&!data.initialSource&&(this.__$processWidgetMarkup("aria.widgets.AriaLib","Button",{label:"Reload with Source",onclick:{fn:reloadTemplateWithSrc}},91),this.__$write('\n</div>\n<div style="text-align:center;color:red;">',92),this.__$processWidgetMarkup("aria.widgets.AriaLib","Icon",{icon:"std:warning"},93),this.__$write(" &nbsp;&nbsp; Changes done here ARE NOT PERSISTENT. Use for testing only.\n",93)),this.__$write("\n</div>\n",95),this.__$endSection()}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["displayControls",this["aria:currentLineNumber"]],_ex)}},$init:function(t){t.__$macrolibs={},t.__$width={min:100},t.__$height={},aria.core.TplClassLoader._importScriptPrototype(aria.tools.inspector.TemplateInspectorScript,t)},__$initTemplate:function(){return!0}}});
//*******************
//LOGICAL-PATH:aria/tools/logger/ILoggerModule.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.tools.logger.ILoggerModule",$extends:"aria.templates.IModuleCtrl",$interface:{clean:function(){}},$events:{newLog:""}});
//*******************
//LOGICAL-PATH:aria/tools/logger/LoggerDisplayScript.js
//*******************
Aria.tplScriptDefinition({$classpath:"aria.tools.logger.LoggerDisplayScript",$prototype:{onModuleEvent:function(){this.$refresh()}}});
//*******************
//LOGICAL-PATH:aria/tools/logger/LoggerDisplay.tpl
//*******************
Aria.classDefinition({$classpath:"aria.tools.logger.LoggerDisplay",$extends:"aria.templates.Template",$constructor:function(){this.$Template.constructor.call(this),this.$LoggerDisplayScript.constructor.call(this)},$destructor:function(){this.$LoggerDisplayScript.$destructor.call(this),this.$Template.$destructor.call(this)},$dependencies:["aria.widgets.AriaLib","aria.tools.logger.LoggerDisplayScript","aria.widgets.action.Button","aria.widgets.Template"],$prototype:{macro_main:function(){try{with(this){this.__$write('\n\n<div style="padding: 10px;">\n\n<div style="text-align:center; padding:5px; background:#F3F3F3; border:solid 1px #DDDDDD; margin-bottom:10px;">\n',25),this.__$processWidgetMarkup("aria.widgets.AriaLib","Button",{label:"Clean",onclick:{fn:moduleCtrl.clean,scope:moduleCtrl}},29),this.__$write('\n</div>\n\n<table style="width:100%" cellpadding="3" cellspacing="0">\n<thead>\n<tr style="color:white; border-bottom:solid 1px #444444; font-weight:bold;">\n<th style="border-right:solid 1px white; width:3em;"></th>\n<th style="background:#444;border-right:solid 1px white; width:10em;">Class Name</th>\n<th style="background:#444;border-right:solid 1px white; width:7em;">Message Id</th>\n<th style="background:#444;border-right:solid 1px white;">Message</th>\n<th style="background:#444;">Data</th>\n</tr>\n</thead>\n\n<tbody>\n',36);var __v_1=data.logs;void 0==data.logs&&this.$logError(this.ITERABLE_UNDEFINED,["foreach",50]);for(var log_ct=0,__v_2=__v_1.length,log_index=0;__v_2>log_index;log_index++){var log=__v_1[log_index];log_ct++,this.__$write('\n<tr style="background:\n',51),log.type==aria.core.Log.LEVEL_DEBUG&&this.__$write("#DDDDDD",52),log.type==aria.core.Log.LEVEL_INFO&&this.__$write("#AADDFF",53),log.type==aria.core.Log.LEVEL_WARN&&this.__$write("#FFDD44",54),log.type==aria.core.Log.LEVEL_ERROR&&this.__$write("#FF6666",55),this.__$write('\n">\n<td style="border-right:solid 1px white; text-align:middle; border-top:solid 1px #444444;">\n',56),this.__$write(log.date,58),this.__$write('\n</td>\n<td style="border-right:solid 1px white; border-top:solid 1px #444444;">\n',59),this.__$write(log.className,61),this.__$write('\n</td>\n<td style="border-right:solid 1px white; border-top:solid 1px #444444;">\n',62),this.__$write(this.$modifier("empty",[log.msgId,"&nbsp;"]),64),this.__$write('\n</td>\n<td style="border-right:solid 1px white; border-top:solid 1px #444444;">\n',65),this.__$write(this.$modifier("empty",[log.msg,"&nbsp;"]),67),this.__$write('\n</td >\n<td style="border-top:solid 1px #444444;">\n',68),log.object?this.__$processWidgetMarkup("aria.widgets.AriaLib","Template",{defaultTemplate:"aria.tools.common.ObjectTreeDisplay",data:{content:log.object,title:"data",showDepth:0}},71):this.__$write("\n&nbsp;\n",80),this.__$write("\n</td>\n</tr>\n",82)}this.__$write("\n</tbody>\n\n</table>\n\n</div>\n\n\n",85)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",this["aria:currentLineNumber"]],_ex)}},$init:function(t){t.__$macrolibs={},t.__$width={},t.__$height={},aria.core.TplClassLoader._importScriptPrototype(aria.tools.logger.LoggerDisplayScript,t)},__$initTemplate:function(){return!0}}});
//*******************
//LOGICAL-PATH:aria/tools/logger/LoggerModule.js
//*******************
Aria.classDefinition({$classpath:"aria.tools.logger.LoggerModule",$extends:"aria.templates.ModuleCtrl",$dependencies:["aria.utils.Date"],$templates:["aria.tools.logger.LoggerDisplay"],$implements:["aria.tools.logger.ILoggerModule"],$constructor:function(){this.$ModuleCtrl.constructor.call(this),this.bridge=null,this._data={logs:[]},this.logsMaxLength=20},$destructor:function(){this.bridge.getAriaPackage().core.Log.removeAppender(this),this.$ModuleCtrl.$destructor.call(this)},$prototype:{$publicInterfaceName:"aria.tools.logger.ILoggerModule",init:function(t,e){this.bridge=t.bridge,this.$assert(77,!!this.bridge),this.bridge.getAria().load({classes:["aria.core.Log"],oncomplete:{fn:function(){this.bridge.getAriaPackage().core.Log.addAppender(this),this.$callback(e)},scope:this}})},debug:function(t,e,i,s){this._log(aria.core.Log.LEVEL_DEBUG,t,e,i,s)},info:function(t,e,i,s){this._log(aria.core.Log.LEVEL_INFO,t,e,i,s)},warn:function(t,e,i,s){this._log(aria.core.Log.LEVEL_WARN,t,e,i,s)},error:function(t,e,i,s){this._log(aria.core.Log.LEVEL_ERROR,t,e,i,s)},_log:function(t,e,i,s,a){var n=this._data.logs,r=n.unshift({type:t,className:e,msg:i,msgId:s,object:a,date:aria.utils.Date.format(new Date,"HH:mm:ss")});r>this.logsMaxLength&&n.pop(),this.$raiseEvent("newLog")},clean:function(){this._data.logs=[],this.$raiseEvent("newLog")}}});
//*******************
//LOGICAL-PATH:aria/tools/contextual/ContextualDisplayScript.js
//*******************
Aria.tplScriptDefinition({$classpath:"aria.tools.contextual.ContextualDisplayScript",$prototype:{openDebug:function(){var t=this.data.driver;t.openTools()},reloadTemplate:function(){this.data.templateCtxt.$reload(),this.data.driver.close()},reloadModule:function(){aria.templates.ModuleCtrlFactory.reloadModuleCtrl(this.data.templateCtxt.moduleCtrlPrivate),this.data.driver.close()}}});
//*******************
//LOGICAL-PATH:aria/tools/contextual/ContextualDisplay.tpl
//*******************
Aria.classDefinition({$classpath:"aria.tools.contextual.ContextualDisplay",$extends:"aria.templates.Template",$constructor:function(){this.$Template.constructor.call(this),this.$ContextualDisplayScript.constructor.call(this)},$destructor:function(){this.$ContextualDisplayScript.$destructor.call(this),this.$Template.$destructor.call(this)},$dependencies:["aria.widgets.AriaLib","aria.tools.contextual.ContextualDisplayScript","aria.widgets.container.Div","aria.widgets.action.Button"],$prototype:{macro_main:function(){try{with(this)this.__$beginContainerWidget("aria.widgets.AriaLib","Div",{sclass:"dropdown"},24)&&(this.__$write('\n<div style="padding:5px;">\n<table cellpadding="0" cellspacing="5">\n<tr>\n<td align="right">Template:</td>\n<td><strong>',27),this.__$write(data.templateCtxt.tplClasspath,31),this.__$write("</strong></td>\n</tr>\n",31),data.templateCtxt.moduleCtrlPrivate&&(this.__$write('\n<tr>\n<td align="right">Module Controller:</td>\n<td><strong>',34),this.__$write(data.templateCtxt.moduleCtrlPrivate.$classpath,36),this.__$write("</strong></td>\n</tr>\n",36)),this.__$write('\n</table>\n<div style="text-align:center; padding:5px; background:#F3F3F3; border:solid 1px #DDDDDD;">\n',39),this.__$processWidgetMarkup("aria.widgets.AriaLib","Button",{label:"Reload Template",onclick:"reloadTemplate"},41),aria.templates.ModuleCtrlFactory.isModuleCtrlReloadable(data.templateCtxt.moduleCtrlPrivate)&&this.__$processWidgetMarkup("aria.widgets.AriaLib","Button",{label:"Reload Module",onclick:"reloadModule"},43),this.__$processWidgetMarkup("aria.widgets.AriaLib","Button",{label:"Debug Tools",onclick:"openDebug"},45),this.__$write("\n</div>\n</div>\n\n",46),this.__$endContainerWidget())}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",this["aria:currentLineNumber"]],_ex)}},$init:function(t){t.__$macrolibs={},t.__$width={},t.__$height={},aria.core.TplClassLoader._importScriptPrototype(aria.tools.contextual.ContextualDisplayScript,t)},__$initTemplate:function(){return!0}}});
//*******************
//LOGICAL-PATH:aria/tools/contextual/IContextualMenu.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.tools.contextual.IContextualMenu",$interface:{close:"Function",open:"Function",openTools:"Function"}});
//*******************
//LOGICAL-PATH:aria/tools/contextual/ContextualMenu.js
//*******************
(function(){var t=null,e=null,i=null,s=null;Aria.classDefinition({$classpath:"aria.tools.contextual.ContextualMenu",$singleton:!0,$dependencies:["aria.utils.Event","aria.DomEvent","aria.templates.TemplateCtxtManager","aria.popups.Popup","aria.widgets.Template","aria.utils.Dom","aria.tools.contextual.environment.ContextualMenu","aria.utils.AriaWindow"],$implements:["aria.tools.contextual.IContextualMenu"],$constructor:function(){t=aria.utils.Event,e=aria.templates.TemplateCtxtManager,i=aria.tools.contextual.environment.ContextualMenu,s=aria.utils.Dom,this._enabled=!1,this._popup=null,this.targetTemplateCtxt=null,this._appEnvCfg=null,i.$on({environmentChanged:this._environmentChanged,scope:this}),this._environmentChanged(),aria.utils.AriaWindow.$on({attachWindow:this._attachWindow,detachWindow:this._detachWindow,scope:this})},$destructor:function(){aria.core.environment.Environment.$unregisterListeners(this),aria.utils.AriaWindow.$unregisterListeners(this),this._setEnabled(!1),this._popup&&this._popup.close(),this.targetTemplateCtxt=null},$prototype:{_attachWindow:function(){var t=i.getContextualMenu();this._setEnabled(t.enabled)},_detachWindow:function(){this._setEnabled(!1)},_environmentChanged:function(){var t=i.getContextualMenu();this._appEnvCfg=t,this._setEnabled(t.enabled)},_setEnabled:function(e){var i=Aria.$window.document;e?aria.widgets&&aria.widgets.AriaSkin&&(this._enabled=!0,t.addListener(i,"contextmenu",{fn:this._onContextMenu,scope:this}),aria.core.Browser.isSafari&&t.addListener(i,"mouseup",{fn:this._onSafariMouseUp,scope:this})):(this._enabled=!1,t.removeListener(i,"contextmenu",{fn:this._onContextMenu}),aria.core.Browser.isSafari&&t.removeListener(i,"mouseup",{fn:this._onSafariMouseUp}))},_onSafariMouseUp:function(t){this._safariCtrlKey=t.ctrlKey},_onContextMenu:function(t){if(this._enabled){if(t=new aria.DomEvent(t),aria.core.Browser.isSafari&&(t.ctrlKey=this._safariCtrlKey),t.ctrlKey){t.stopPropagation(),t.preventDefault();var e=t.target;return this.__callContextualMenu(e,t.clientX,t.clientY),t.$dispose(),!1}t.$dispose()}},open:function(t,e){this._popup&&aria.tools.contextual.ContextualMenu.close();var i={};return i=e?e:t.$TemplateCtxt?{x:0,y:0}:s.getGeometry(t),t.$TemplateCtxt?(this._notifyFound(t,i.x,i.y),void 0):(this.__callContextualMenu(t,i.x,i.y),!1)},__callContextualMenu:function(t,i,s){for(var a,n=Aria.$window.document.body;t&&t!=n&&!t.__template;)a=t,t=t.parentNode;if(t==n&&a){if(aria.popups&&aria.popups.PopupManager){var r=aria.popups.PopupManager.getPopupFromDom(a);r&&r.section&&r.section.tplCtxt&&this._notifyFound(r.section.tplCtxt,i,s)}}else t&&t!=n&&this._notifyFound(e.getFromDom(t.parentNode),i,s)},_afterClose:function(){this._popup&&(this._popup.$dispose(),this._popup=null)},_notifyFound:function(t,e,i){var s=aria.tools.ToolsBridge;if(s&&s.isOpen&&s.$raiseEvent({name:"forwardEvent",event:{name:"ContextualTargetFound",templateCtxt:t}}),!this._popup){var a=new aria.popups.Popup;this._popup=a,a.$on({onAfterClose:this._afterClose,scope:this});var n=t.createSection({fn:function(e){var i=new aria.widgets.Template({defaultTemplate:this._appEnvCfg.template,moduleCtrl:{classpath:this._appEnvCfg.moduleCtrl,initArgs:{templateCtxt:t.$interface("aria.templates.ITemplateCtxt"),driver:this.$interface("aria.tools.contextual.IContextualMenu")}}},t,"NOLINE");e.registerBehavior(i),i.writeMarkup(e)},scope:this});a.open({section:n,absolutePosition:{top:i,left:e},modal:!0,maskCssClass:"xDialogMask",preferredPositions:[{reference:"bottom left",popup:"top left"},{reference:"bottom left",popup:"top right"}],offset:{top:0,left:0},closeOnMouseClick:!0,closeOnMouseScroll:!0}),this.targetTemplateCtxt=t}},close:function(){this.targetTemplateCtxt=null,this._popup&&this._popup.close()},openTools:function(){aria.tools.ToolsBridge&&aria.tools.ToolsBridge.isOpen||Aria.load({classes:["aria.tools.ToolsBridge"],oncomplete:function(){aria.tools.ToolsBridge.open(),aria.tools.contextual.ContextualMenu.close()}})}}})})();
//*******************
//LOGICAL-PATH:aria/tools/contextual/ContextualModule.js
//*******************
Aria.classDefinition({$classpath:"aria.tools.contextual.ContextualModule",$extends:"aria.templates.ModuleCtrl",$constructor:function(){this.$ModuleCtrl.constructor.call(this)},$prototype:{init:function(t,e){this._data=t,this.$callback(e)}}});
//*******************
//LOGICAL-PATH:aria/tools/IToolsModule.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.tools.IToolsModule",$extends:"aria.templates.IModuleCtrl",$interface:{subModulesList:[]},$events:{bridgeReady:"",modulesReady:""}});
//*******************
//LOGICAL-PATH:aria/tools/ToolsBridge.js
//*******************
Aria.classDefinition({$classpath:"aria.tools.ToolsBridge",$extends:"aria.utils.Bridge",$singleton:!0,$constructor:function(){this.$Bridge.constructor.call(this)},$prototype:{open:function(){return this.$Bridge.open.call(this,{moduleCtrlClasspath:"aria.tools.ToolsModule",displayClasspath:"aria.tools.ToolsDisplay",title:"Tools"})}}});
//*******************
//LOGICAL-PATH:aria/tools/ToolsDisplayScript.js
//*******************
Aria.tplScriptDefinition({$classpath:"aria.tools.ToolsDisplayScript",$prototype:{$dataReady:function(){this.moduleCtrl.subModulesList.length>0&&(this.moduleCtrl.subModulesList[0]["view:selected"]=!0)},onModuleEvent:function(){this.$refresh()},selectTab:function(t,e){for(var i=this.moduleCtrl.subModulesList,s=0,a=i.length;a>s;s++)i[s]["view:selected"]=i[s].refpath==e?!0:!1;this.$refresh()}}});
//*******************
//LOGICAL-PATH:aria/tools/ToolsDisplay.tpl
//*******************
Aria.classDefinition({$classpath:"aria.tools.ToolsDisplay",$extends:"aria.templates.Template",$constructor:function(){this.$Template.constructor.call(this),this.$ToolsDisplayScript.constructor.call(this)},$destructor:function(){this.$ToolsDisplayScript.$destructor.call(this),this.$Template.$destructor.call(this)},$dependencies:["aria.widgets.AriaLib","aria.tools.ToolsDisplayScript","aria.widgets.Template"],$prototype:{macro_main:function(){try{with(this){this.__$write('\n\n\n\n<div style="width:',26),this.__$write($hdim(790,1),29),this.__$write('px; padding:5px 5px 0px 5px; background:#444444;">\n',29);var __v_1=moduleCtrl.subModulesList;void 0==moduleCtrl.subModulesList&&this.$logError(this.ITERABLE_UNDEFINED,["foreach",30]);for(var view_ct=0,__v_2=__v_1.length,view_index=0;__v_2>view_index;view_index++){var view=__v_1[view_index];view_ct++;var refpath=view.refpath;moduleCtrl[refpath]&&(this.__$write('\n<span style="cursor:pointer; display:inline-block; font-weight:bold; padding:2px 5px; border-left:solid 1px black; border-right:solid 1px black; border-top:solid 1px black;\n',33),view["view:selected"]?this.__$write("\nbackground:white; color:black; border-bottom:solid 1px white;\n",35):this.__$write("\nbackground:grey; color:white; border-bottom:solid 1px #444444;\n",37),this.__$write('\n" ',39),this.__$statementOnEvent("click",this.$normCallback({fn:selectTab,args:refpath}),39),this.__$write(">",39),this.__$write(this.$modifier("capitalize",[refpath]),39),this.__$write("</span>\n",39))}this.__$write("\n</div>\n\n",42);var __v_3=moduleCtrl.subModulesList;void 0==moduleCtrl.subModulesList&&this.$logError(this.ITERABLE_UNDEFINED,["foreach",44]);for(var view_ct=0,__v_4=__v_3.length,view_index=0;__v_4>view_index;view_index++){var view=__v_3[view_index];view_ct++;var refpath=view.refpath;view["view:selected"]&&moduleCtrl[refpath]&&this.__$processWidgetMarkup("aria.widgets.AriaLib","Template",{defaultTemplate:view.display,moduleCtrl:moduleCtrl[refpath],width:$hdim(800,1)},47)}}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",this["aria:currentLineNumber"]],_ex)}},$init:function(t){t.__$macrolibs={},t.__$width={min:800},t.__$height={},aria.core.TplClassLoader._importScriptPrototype(aria.tools.ToolsDisplayScript,t)},__$initTemplate:function(){return!0}}});
//*******************
//LOGICAL-PATH:aria/tools/ToolsModule.js
//*******************
Aria.classDefinition({$classpath:"aria.tools.ToolsModule",$extends:"aria.templates.ModuleCtrl",$implements:["aria.tools.IToolsModule"],$constructor:function(){this.subModulesList=[{refpath:"inspector",classpath:"aria.tools.inspector.InspectorModule",display:"aria.tools.inspector.InspectorDisplay"},{refpath:"logger",classpath:"aria.tools.logger.LoggerModule",display:"aria.tools.logger.LoggerDisplay"}],this.bridge=null,this.$ModuleCtrl.constructor.call(this)},$prototype:{$publicInterfaceName:"aria.tools.IToolsModule",init:function(t,e){this.bridge=t.bridge;for(var i=0,s=this.subModulesList.length;s>i;i++)this.subModulesList[i].initArgs||(this.subModulesList[i].initArgs={},this.subModulesList[i].initArgs.bridge=this.bridge);this.loadSubModules(this.subModulesList,{fn:this.onSubModulesReady,scope:this}),this.$ModuleCtrl.init.call(this,t,e)},onSubModulesReady:function(){this.$raiseEvent("modulesReady")},onSubModuleEvent:function(){}}});